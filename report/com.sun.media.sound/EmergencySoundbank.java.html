<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>EmergencySoundbank.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">com.sun.media.sound</a> &gt; <span class="el_source">EmergencySoundbank.java</span></div><h1>EmergencySoundbank.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2007, 2013, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */
package com.sun.media.sound;

import java.util.Random;

import javax.sound.midi.Patch;
import javax.sound.sampled.AudioFormat;

/**
 * Emergency Soundbank generator.
 * Used when no other default soundbank can be found.
 *
 * @author Karl Helgason
 */
<span class="nc" id="L38">public final class EmergencySoundbank {</span>

<span class="nc" id="L40">    private final static String[] general_midi_instruments = {</span>
        &quot;Acoustic Grand Piano&quot;,
        &quot;Bright Acoustic Piano&quot;,
        &quot;Electric Grand Piano&quot;,
        &quot;Honky-tonk Piano&quot;,
        &quot;Electric Piano 1&quot;,
        &quot;Electric Piano 2&quot;,
        &quot;Harpsichord&quot;,
        &quot;Clavi&quot;,
        &quot;Celesta&quot;,
        &quot;Glockenspiel&quot;,
        &quot;Music Box&quot;,
        &quot;Vibraphone&quot;,
        &quot;Marimba&quot;,
        &quot;Xylophone&quot;,
        &quot;Tubular Bells&quot;,
        &quot;Dulcimer&quot;,
        &quot;Drawbar Organ&quot;,
        &quot;Percussive Organ&quot;,
        &quot;Rock Organ&quot;,
        &quot;Church Organ&quot;,
        &quot;Reed Organ&quot;,
        &quot;Accordion&quot;,
        &quot;Harmonica&quot;,
        &quot;Tango Accordion&quot;,
        &quot;Acoustic Guitar (nylon)&quot;,
        &quot;Acoustic Guitar (steel)&quot;,
        &quot;Electric Guitar (jazz)&quot;,
        &quot;Electric Guitar (clean)&quot;,
        &quot;Electric Guitar (muted)&quot;,
        &quot;Overdriven Guitar&quot;,
        &quot;Distortion Guitar&quot;,
        &quot;Guitar harmonics&quot;,
        &quot;Acoustic Bass&quot;,
        &quot;Electric Bass (finger)&quot;,
        &quot;Electric Bass (pick)&quot;,
        &quot;Fretless Bass&quot;,
        &quot;Slap Bass 1&quot;,
        &quot;Slap Bass 2&quot;,
        &quot;Synth Bass 1&quot;,
        &quot;Synth Bass 2&quot;,
        &quot;Violin&quot;,
        &quot;Viola&quot;,
        &quot;Cello&quot;,
        &quot;Contrabass&quot;,
        &quot;Tremolo Strings&quot;,
        &quot;Pizzicato Strings&quot;,
        &quot;Orchestral Harp&quot;,
        &quot;Timpani&quot;,
        &quot;String Ensemble 1&quot;,
        &quot;String Ensemble 2&quot;,
        &quot;SynthStrings 1&quot;,
        &quot;SynthStrings 2&quot;,
        &quot;Choir Aahs&quot;,
        &quot;Voice Oohs&quot;,
        &quot;Synth Voice&quot;,
        &quot;Orchestra Hit&quot;,
        &quot;Trumpet&quot;,
        &quot;Trombone&quot;,
        &quot;Tuba&quot;,
        &quot;Muted Trumpet&quot;,
        &quot;French Horn&quot;,
        &quot;Brass Section&quot;,
        &quot;SynthBrass 1&quot;,
        &quot;SynthBrass 2&quot;,
        &quot;Soprano Sax&quot;,
        &quot;Alto Sax&quot;,
        &quot;Tenor Sax&quot;,
        &quot;Baritone Sax&quot;,
        &quot;Oboe&quot;,
        &quot;English Horn&quot;,
        &quot;Bassoon&quot;,
        &quot;Clarinet&quot;,
        &quot;Piccolo&quot;,
        &quot;Flute&quot;,
        &quot;Recorder&quot;,
        &quot;Pan Flute&quot;,
        &quot;Blown Bottle&quot;,
        &quot;Shakuhachi&quot;,
        &quot;Whistle&quot;,
        &quot;Ocarina&quot;,
        &quot;Lead 1 (square)&quot;,
        &quot;Lead 2 (sawtooth)&quot;,
        &quot;Lead 3 (calliope)&quot;,
        &quot;Lead 4 (chiff)&quot;,
        &quot;Lead 5 (charang)&quot;,
        &quot;Lead 6 (voice)&quot;,
        &quot;Lead 7 (fifths)&quot;,
        &quot;Lead 8 (bass + lead)&quot;,
        &quot;Pad 1 (new age)&quot;,
        &quot;Pad 2 (warm)&quot;,
        &quot;Pad 3 (polysynth)&quot;,
        &quot;Pad 4 (choir)&quot;,
        &quot;Pad 5 (bowed)&quot;,
        &quot;Pad 6 (metallic)&quot;,
        &quot;Pad 7 (halo)&quot;,
        &quot;Pad 8 (sweep)&quot;,
        &quot;FX 1 (rain)&quot;,
        &quot;FX 2 (soundtrack)&quot;,
        &quot;FX 3 (crystal)&quot;,
        &quot;FX 4 (atmosphere)&quot;,
        &quot;FX 5 (brightness)&quot;,
        &quot;FX 6 (goblins)&quot;,
        &quot;FX 7 (echoes)&quot;,
        &quot;FX 8 (sci-fi)&quot;,
        &quot;Sitar&quot;,
        &quot;Banjo&quot;,
        &quot;Shamisen&quot;,
        &quot;Koto&quot;,
        &quot;Kalimba&quot;,
        &quot;Bag pipe&quot;,
        &quot;Fiddle&quot;,
        &quot;Shanai&quot;,
        &quot;Tinkle Bell&quot;,
        &quot;Agogo&quot;,
        &quot;Steel Drums&quot;,
        &quot;Woodblock&quot;,
        &quot;Taiko Drum&quot;,
        &quot;Melodic Tom&quot;,
        &quot;Synth Drum&quot;,
        &quot;Reverse Cymbal&quot;,
        &quot;Guitar Fret Noise&quot;,
        &quot;Breath Noise&quot;,
        &quot;Seashore&quot;,
        &quot;Bird Tweet&quot;,
        &quot;Telephone Ring&quot;,
        &quot;Helicopter&quot;,
        &quot;Applause&quot;,
        &quot;Gunshot&quot;
    };

    public static SF2Soundbank createSoundbank() throws Exception {
<span class="nc" id="L172">        SF2Soundbank sf2 = new SF2Soundbank();</span>
<span class="nc" id="L173">        sf2.setName(&quot;Emergency GM sound set&quot;);</span>
<span class="nc" id="L174">        sf2.setVendor(&quot;Generated&quot;);</span>
<span class="nc" id="L175">        sf2.setDescription(&quot;Emergency generated soundbank&quot;);</span>

        /*
         *  percussion instruments
         */

<span class="nc" id="L181">        SF2Layer bass_drum = new_bass_drum(sf2);</span>
<span class="nc" id="L182">        SF2Layer snare_drum = new_snare_drum(sf2);</span>
<span class="nc" id="L183">        SF2Layer tom = new_tom(sf2);</span>
<span class="nc" id="L184">        SF2Layer open_hihat = new_open_hihat(sf2);</span>
<span class="nc" id="L185">        SF2Layer closed_hihat = new_closed_hihat(sf2);</span>
<span class="nc" id="L186">        SF2Layer crash_cymbal = new_crash_cymbal(sf2);</span>
<span class="nc" id="L187">        SF2Layer side_stick = new_side_stick(sf2);</span>

<span class="nc" id="L189">        SF2Layer[] drums = new SF2Layer[128];</span>
<span class="nc" id="L190">        drums[35] = bass_drum;</span>
<span class="nc" id="L191">        drums[36] = bass_drum;</span>
<span class="nc" id="L192">        drums[38] = snare_drum;</span>
<span class="nc" id="L193">        drums[40] = snare_drum;</span>
<span class="nc" id="L194">        drums[41] = tom;</span>
<span class="nc" id="L195">        drums[43] = tom;</span>
<span class="nc" id="L196">        drums[45] = tom;</span>
<span class="nc" id="L197">        drums[47] = tom;</span>
<span class="nc" id="L198">        drums[48] = tom;</span>
<span class="nc" id="L199">        drums[50] = tom;</span>
<span class="nc" id="L200">        drums[42] = closed_hihat;</span>
<span class="nc" id="L201">        drums[44] = closed_hihat;</span>
<span class="nc" id="L202">        drums[46] = open_hihat;</span>
<span class="nc" id="L203">        drums[49] = crash_cymbal;</span>
<span class="nc" id="L204">        drums[51] = crash_cymbal;</span>
<span class="nc" id="L205">        drums[52] = crash_cymbal;</span>
<span class="nc" id="L206">        drums[55] = crash_cymbal;</span>
<span class="nc" id="L207">        drums[57] = crash_cymbal;</span>
<span class="nc" id="L208">        drums[59] = crash_cymbal;</span>

        // Use side_stick for missing drums:
<span class="nc" id="L211">        drums[37] = side_stick;</span>
<span class="nc" id="L212">        drums[39] = side_stick;</span>
<span class="nc" id="L213">        drums[53] = side_stick;</span>
<span class="nc" id="L214">        drums[54] = side_stick;</span>
<span class="nc" id="L215">        drums[56] = side_stick;</span>
<span class="nc" id="L216">        drums[58] = side_stick;</span>
<span class="nc" id="L217">        drums[69] = side_stick;</span>
<span class="nc" id="L218">        drums[70] = side_stick;</span>
<span class="nc" id="L219">        drums[75] = side_stick;</span>
<span class="nc" id="L220">        drums[60] = side_stick;</span>
<span class="nc" id="L221">        drums[61] = side_stick;</span>
<span class="nc" id="L222">        drums[62] = side_stick;</span>
<span class="nc" id="L223">        drums[63] = side_stick;</span>
<span class="nc" id="L224">        drums[64] = side_stick;</span>
<span class="nc" id="L225">        drums[65] = side_stick;</span>
<span class="nc" id="L226">        drums[66] = side_stick;</span>
<span class="nc" id="L227">        drums[67] = side_stick;</span>
<span class="nc" id="L228">        drums[68] = side_stick;</span>
<span class="nc" id="L229">        drums[71] = side_stick;</span>
<span class="nc" id="L230">        drums[72] = side_stick;</span>
<span class="nc" id="L231">        drums[73] = side_stick;</span>
<span class="nc" id="L232">        drums[74] = side_stick;</span>
<span class="nc" id="L233">        drums[76] = side_stick;</span>
<span class="nc" id="L234">        drums[77] = side_stick;</span>
<span class="nc" id="L235">        drums[78] = side_stick;</span>
<span class="nc" id="L236">        drums[79] = side_stick;</span>
<span class="nc" id="L237">        drums[80] = side_stick;</span>
<span class="nc" id="L238">        drums[81] = side_stick;</span>


<span class="nc" id="L241">        SF2Instrument drum_instrument = new SF2Instrument(sf2);</span>
<span class="nc" id="L242">        drum_instrument.setName(&quot;Standard Kit&quot;);</span>
<span class="nc" id="L243">        drum_instrument.setPatch(new ModelPatch(0, 0, true));</span>
<span class="nc" id="L244">        sf2.addInstrument(drum_instrument);</span>
<span class="nc bnc" id="L245" title="All 2 branches missed.">        for (int i = 0; i &lt; drums.length; i++) {</span>
<span class="nc bnc" id="L246" title="All 2 branches missed.">            if (drums[i] != null) {</span>
<span class="nc" id="L247">                SF2InstrumentRegion region = new SF2InstrumentRegion();</span>
<span class="nc" id="L248">                region.setLayer(drums[i]);</span>
<span class="nc" id="L249">                region.putBytes(SF2InstrumentRegion.GENERATOR_KEYRANGE,</span>
                        new byte[]{(byte) i, (byte) i});
<span class="nc" id="L251">                drum_instrument.getRegions().add(region);</span>
            }
        }


        /*
         *  melodic instruments
         */

<span class="nc" id="L260">        SF2Layer gpiano = new_gpiano(sf2);</span>
<span class="nc" id="L261">        SF2Layer gpiano2 = new_gpiano2(sf2);</span>
<span class="nc" id="L262">        SF2Layer gpiano_hammer = new_piano_hammer(sf2);</span>
<span class="nc" id="L263">        SF2Layer piano1 = new_piano1(sf2);</span>
<span class="nc" id="L264">        SF2Layer epiano1 = new_epiano1(sf2);</span>
<span class="nc" id="L265">        SF2Layer epiano2 = new_epiano2(sf2);</span>

<span class="nc" id="L267">        SF2Layer guitar = new_guitar1(sf2);</span>
<span class="nc" id="L268">        SF2Layer guitar_pick = new_guitar_pick(sf2);</span>
<span class="nc" id="L269">        SF2Layer guitar_dist = new_guitar_dist(sf2);</span>
<span class="nc" id="L270">        SF2Layer bass1 = new_bass1(sf2);</span>
<span class="nc" id="L271">        SF2Layer bass2 = new_bass2(sf2);</span>
<span class="nc" id="L272">        SF2Layer synthbass = new_synthbass(sf2);</span>
<span class="nc" id="L273">        SF2Layer string2 = new_string2(sf2);</span>
<span class="nc" id="L274">        SF2Layer orchhit = new_orchhit(sf2);</span>
<span class="nc" id="L275">        SF2Layer choir = new_choir(sf2);</span>
<span class="nc" id="L276">        SF2Layer solostring = new_solostring(sf2);</span>
<span class="nc" id="L277">        SF2Layer organ = new_organ(sf2);</span>
<span class="nc" id="L278">        SF2Layer ch_organ = new_ch_organ(sf2);</span>
<span class="nc" id="L279">        SF2Layer bell = new_bell(sf2);</span>
<span class="nc" id="L280">        SF2Layer flute = new_flute(sf2);</span>

<span class="nc" id="L282">        SF2Layer timpani = new_timpani(sf2);</span>
<span class="nc" id="L283">        SF2Layer melodic_toms = new_melodic_toms(sf2);</span>
<span class="nc" id="L284">        SF2Layer trumpet = new_trumpet(sf2);</span>
<span class="nc" id="L285">        SF2Layer trombone = new_trombone(sf2);</span>
<span class="nc" id="L286">        SF2Layer brass_section = new_brass_section(sf2);</span>
<span class="nc" id="L287">        SF2Layer horn = new_horn(sf2);</span>
<span class="nc" id="L288">        SF2Layer sax = new_sax(sf2);</span>
<span class="nc" id="L289">        SF2Layer oboe = new_oboe(sf2);</span>
<span class="nc" id="L290">        SF2Layer bassoon = new_bassoon(sf2);</span>
<span class="nc" id="L291">        SF2Layer clarinet = new_clarinet(sf2);</span>
<span class="nc" id="L292">        SF2Layer reverse_cymbal = new_reverse_cymbal(sf2);</span>

<span class="nc" id="L294">        SF2Layer defaultsound = piano1;</span>

<span class="nc" id="L296">        newInstrument(sf2, &quot;Piano&quot;, new Patch(0, 0), gpiano, gpiano_hammer);</span>
<span class="nc" id="L297">        newInstrument(sf2, &quot;Piano&quot;, new Patch(0, 1), gpiano2, gpiano_hammer);</span>
<span class="nc" id="L298">        newInstrument(sf2, &quot;Piano&quot;, new Patch(0, 2), piano1);</span>
        {
<span class="nc" id="L300">            SF2Instrument ins = newInstrument(sf2, &quot;Honky-tonk Piano&quot;,</span>
                    new Patch(0, 3), piano1, piano1);
<span class="nc" id="L302">            SF2InstrumentRegion region = ins.getRegions().get(0);</span>
<span class="nc" id="L303">            region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 80);</span>
<span class="nc" id="L304">            region.putInteger(SF2Region.GENERATOR_FINETUNE, 30);</span>
<span class="nc" id="L305">            region = ins.getRegions().get(1);</span>
<span class="nc" id="L306">            region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 30);</span>
        }
<span class="nc" id="L308">        newInstrument(sf2, &quot;Rhodes&quot;, new Patch(0, 4), epiano2);</span>
<span class="nc" id="L309">        newInstrument(sf2, &quot;Rhodes&quot;, new Patch(0, 5), epiano2);</span>
<span class="nc" id="L310">        newInstrument(sf2, &quot;Clavinet&quot;, new Patch(0, 6), epiano1);</span>
<span class="nc" id="L311">        newInstrument(sf2, &quot;Clavinet&quot;, new Patch(0, 7), epiano1);</span>
<span class="nc" id="L312">        newInstrument(sf2, &quot;Rhodes&quot;, new Patch(0, 8), epiano2);</span>
<span class="nc" id="L313">        newInstrument(sf2, &quot;Bell&quot;, new Patch(0, 9), bell);</span>
<span class="nc" id="L314">        newInstrument(sf2, &quot;Bell&quot;, new Patch(0, 10), bell);</span>
<span class="nc" id="L315">        newInstrument(sf2, &quot;Vibraphone&quot;, new Patch(0, 11), bell);</span>
<span class="nc" id="L316">        newInstrument(sf2, &quot;Marimba&quot;, new Patch(0, 12), bell);</span>
<span class="nc" id="L317">        newInstrument(sf2, &quot;Marimba&quot;, new Patch(0, 13), bell);</span>
<span class="nc" id="L318">        newInstrument(sf2, &quot;Bell&quot;, new Patch(0, 14), bell);</span>
<span class="nc" id="L319">        newInstrument(sf2, &quot;Rock Organ&quot;, new Patch(0, 15), organ);</span>
<span class="nc" id="L320">        newInstrument(sf2, &quot;Rock Organ&quot;, new Patch(0, 16), organ);</span>
<span class="nc" id="L321">        newInstrument(sf2, &quot;Perc Organ&quot;, new Patch(0, 17), organ);</span>
<span class="nc" id="L322">        newInstrument(sf2, &quot;Rock Organ&quot;, new Patch(0, 18), organ);</span>
<span class="nc" id="L323">        newInstrument(sf2, &quot;Church Organ&quot;, new Patch(0, 19), ch_organ);</span>
<span class="nc" id="L324">        newInstrument(sf2, &quot;Accordion&quot;, new Patch(0, 20), organ);</span>
<span class="nc" id="L325">        newInstrument(sf2, &quot;Accordion&quot;, new Patch(0, 21), organ);</span>
<span class="nc" id="L326">        newInstrument(sf2, &quot;Accordion&quot;, new Patch(0, 22), organ);</span>
<span class="nc" id="L327">        newInstrument(sf2, &quot;Accordion&quot;, new Patch(0, 23), organ);</span>
<span class="nc" id="L328">        newInstrument(sf2, &quot;Guitar&quot;, new Patch(0, 24), guitar, guitar_pick);</span>
<span class="nc" id="L329">        newInstrument(sf2, &quot;Guitar&quot;, new Patch(0, 25), guitar, guitar_pick);</span>
<span class="nc" id="L330">        newInstrument(sf2, &quot;Guitar&quot;, new Patch(0, 26), guitar, guitar_pick);</span>
<span class="nc" id="L331">        newInstrument(sf2, &quot;Guitar&quot;, new Patch(0, 27), guitar, guitar_pick);</span>
<span class="nc" id="L332">        newInstrument(sf2, &quot;Guitar&quot;, new Patch(0, 28), guitar, guitar_pick);</span>
<span class="nc" id="L333">        newInstrument(sf2, &quot;Distorted Guitar&quot;, new Patch(0, 29), guitar_dist);</span>
<span class="nc" id="L334">        newInstrument(sf2, &quot;Distorted Guitar&quot;, new Patch(0, 30), guitar_dist);</span>
<span class="nc" id="L335">        newInstrument(sf2, &quot;Guitar&quot;, new Patch(0, 31), guitar, guitar_pick);</span>
<span class="nc" id="L336">        newInstrument(sf2, &quot;Finger Bass&quot;, new Patch(0, 32), bass1);</span>
<span class="nc" id="L337">        newInstrument(sf2, &quot;Finger Bass&quot;, new Patch(0, 33), bass1);</span>
<span class="nc" id="L338">        newInstrument(sf2, &quot;Finger Bass&quot;, new Patch(0, 34), bass1);</span>
<span class="nc" id="L339">        newInstrument(sf2, &quot;Frettless Bass&quot;, new Patch(0, 35), bass2);</span>
<span class="nc" id="L340">        newInstrument(sf2, &quot;Frettless Bass&quot;, new Patch(0, 36), bass2);</span>
<span class="nc" id="L341">        newInstrument(sf2, &quot;Frettless Bass&quot;, new Patch(0, 37), bass2);</span>
<span class="nc" id="L342">        newInstrument(sf2, &quot;Synth Bass1&quot;, new Patch(0, 38), synthbass);</span>
<span class="nc" id="L343">        newInstrument(sf2, &quot;Synth Bass2&quot;, new Patch(0, 39), synthbass);</span>
<span class="nc" id="L344">        newInstrument(sf2, &quot;Solo String&quot;, new Patch(0, 40), string2, solostring);</span>
<span class="nc" id="L345">        newInstrument(sf2, &quot;Solo String&quot;, new Patch(0, 41), string2, solostring);</span>
<span class="nc" id="L346">        newInstrument(sf2, &quot;Solo String&quot;, new Patch(0, 42), string2, solostring);</span>
<span class="nc" id="L347">        newInstrument(sf2, &quot;Solo String&quot;, new Patch(0, 43), string2, solostring);</span>
<span class="nc" id="L348">        newInstrument(sf2, &quot;Solo String&quot;, new Patch(0, 44), string2, solostring);</span>
<span class="nc" id="L349">        newInstrument(sf2, &quot;Def&quot;, new Patch(0, 45), defaultsound);</span>
<span class="nc" id="L350">        newInstrument(sf2, &quot;Harp&quot;, new Patch(0, 46), bell);</span>
<span class="nc" id="L351">        newInstrument(sf2, &quot;Timpani&quot;, new Patch(0, 47), timpani);</span>
<span class="nc" id="L352">        newInstrument(sf2, &quot;Strings&quot;, new Patch(0, 48), string2);</span>
<span class="nc" id="L353">        SF2Instrument slow_strings =</span>
<span class="nc" id="L354">                newInstrument(sf2, &quot;Slow Strings&quot;, new Patch(0, 49), string2);</span>
<span class="nc" id="L355">        SF2InstrumentRegion region = slow_strings.getRegions().get(0);</span>
<span class="nc" id="L356">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, 2500);</span>
<span class="nc" id="L357">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 2000);</span>
<span class="nc" id="L358">        newInstrument(sf2, &quot;Synth Strings&quot;, new Patch(0, 50), string2);</span>
<span class="nc" id="L359">        newInstrument(sf2, &quot;Synth Strings&quot;, new Patch(0, 51), string2);</span>


<span class="nc" id="L362">        newInstrument(sf2, &quot;Choir&quot;, new Patch(0, 52), choir);</span>
<span class="nc" id="L363">        newInstrument(sf2, &quot;Choir&quot;, new Patch(0, 53), choir);</span>
<span class="nc" id="L364">        newInstrument(sf2, &quot;Choir&quot;, new Patch(0, 54), choir);</span>
        {
<span class="nc" id="L366">            SF2Instrument ins = newInstrument(sf2, &quot;Orch Hit&quot;,</span>
                    new Patch(0, 55), orchhit, orchhit, timpani);
<span class="nc" id="L368">            region = ins.getRegions().get(0);</span>
<span class="nc" id="L369">            region.putInteger(SF2Region.GENERATOR_COARSETUNE, -12);</span>
<span class="nc" id="L370">            region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);</span>
        }
<span class="nc" id="L372">        newInstrument(sf2, &quot;Trumpet&quot;, new Patch(0, 56), trumpet);</span>
<span class="nc" id="L373">        newInstrument(sf2, &quot;Trombone&quot;, new Patch(0, 57), trombone);</span>
<span class="nc" id="L374">        newInstrument(sf2, &quot;Trombone&quot;, new Patch(0, 58), trombone);</span>
<span class="nc" id="L375">        newInstrument(sf2, &quot;Trumpet&quot;, new Patch(0, 59), trumpet);</span>
<span class="nc" id="L376">        newInstrument(sf2, &quot;Horn&quot;, new Patch(0, 60), horn);</span>
<span class="nc" id="L377">        newInstrument(sf2, &quot;Brass Section&quot;, new Patch(0, 61), brass_section);</span>
<span class="nc" id="L378">        newInstrument(sf2, &quot;Brass Section&quot;, new Patch(0, 62), brass_section);</span>
<span class="nc" id="L379">        newInstrument(sf2, &quot;Brass Section&quot;, new Patch(0, 63), brass_section);</span>
<span class="nc" id="L380">        newInstrument(sf2, &quot;Sax&quot;, new Patch(0, 64), sax);</span>
<span class="nc" id="L381">        newInstrument(sf2, &quot;Sax&quot;, new Patch(0, 65), sax);</span>
<span class="nc" id="L382">        newInstrument(sf2, &quot;Sax&quot;, new Patch(0, 66), sax);</span>
<span class="nc" id="L383">        newInstrument(sf2, &quot;Sax&quot;, new Patch(0, 67), sax);</span>
<span class="nc" id="L384">        newInstrument(sf2, &quot;Oboe&quot;, new Patch(0, 68), oboe);</span>
<span class="nc" id="L385">        newInstrument(sf2, &quot;Horn&quot;, new Patch(0, 69), horn);</span>
<span class="nc" id="L386">        newInstrument(sf2, &quot;Bassoon&quot;, new Patch(0, 70), bassoon);</span>
<span class="nc" id="L387">        newInstrument(sf2, &quot;Clarinet&quot;, new Patch(0, 71), clarinet);</span>
<span class="nc" id="L388">        newInstrument(sf2, &quot;Flute&quot;, new Patch(0, 72), flute);</span>
<span class="nc" id="L389">        newInstrument(sf2, &quot;Flute&quot;, new Patch(0, 73), flute);</span>
<span class="nc" id="L390">        newInstrument(sf2, &quot;Flute&quot;, new Patch(0, 74), flute);</span>
<span class="nc" id="L391">        newInstrument(sf2, &quot;Flute&quot;, new Patch(0, 75), flute);</span>
<span class="nc" id="L392">        newInstrument(sf2, &quot;Flute&quot;, new Patch(0, 76), flute);</span>
<span class="nc" id="L393">        newInstrument(sf2, &quot;Flute&quot;, new Patch(0, 77), flute);</span>
<span class="nc" id="L394">        newInstrument(sf2, &quot;Flute&quot;, new Patch(0, 78), flute);</span>
<span class="nc" id="L395">        newInstrument(sf2, &quot;Flute&quot;, new Patch(0, 79), flute);</span>
<span class="nc" id="L396">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 80), organ);</span>
<span class="nc" id="L397">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 81), organ);</span>
<span class="nc" id="L398">        newInstrument(sf2, &quot;Flute&quot;, new Patch(0, 82), flute);</span>
<span class="nc" id="L399">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 83), organ);</span>
<span class="nc" id="L400">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 84), organ);</span>
<span class="nc" id="L401">        newInstrument(sf2, &quot;Choir&quot;, new Patch(0, 85), choir);</span>
<span class="nc" id="L402">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 86), organ);</span>
<span class="nc" id="L403">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 87), organ);</span>
<span class="nc" id="L404">        newInstrument(sf2, &quot;Synth Strings&quot;, new Patch(0, 88), string2);</span>
<span class="nc" id="L405">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 89), organ);</span>
<span class="nc" id="L406">        newInstrument(sf2, &quot;Def&quot;, new Patch(0, 90), defaultsound);</span>
<span class="nc" id="L407">        newInstrument(sf2, &quot;Choir&quot;, new Patch(0, 91), choir);</span>
<span class="nc" id="L408">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 92), organ);</span>
<span class="nc" id="L409">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 93), organ);</span>
<span class="nc" id="L410">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 94), organ);</span>
<span class="nc" id="L411">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 95), organ);</span>
<span class="nc" id="L412">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 96), organ);</span>
<span class="nc" id="L413">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 97), organ);</span>
<span class="nc" id="L414">        newInstrument(sf2, &quot;Bell&quot;, new Patch(0, 98), bell);</span>
<span class="nc" id="L415">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 99), organ);</span>
<span class="nc" id="L416">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 100), organ);</span>
<span class="nc" id="L417">        newInstrument(sf2, &quot;Organ&quot;, new Patch(0, 101), organ);</span>
<span class="nc" id="L418">        newInstrument(sf2, &quot;Def&quot;, new Patch(0, 102), defaultsound);</span>
<span class="nc" id="L419">        newInstrument(sf2, &quot;Synth Strings&quot;, new Patch(0, 103), string2);</span>
<span class="nc" id="L420">        newInstrument(sf2, &quot;Def&quot;, new Patch(0, 104), defaultsound);</span>
<span class="nc" id="L421">        newInstrument(sf2, &quot;Def&quot;, new Patch(0, 105), defaultsound);</span>
<span class="nc" id="L422">        newInstrument(sf2, &quot;Def&quot;, new Patch(0, 106), defaultsound);</span>
<span class="nc" id="L423">        newInstrument(sf2, &quot;Def&quot;, new Patch(0, 107), defaultsound);</span>
<span class="nc" id="L424">        newInstrument(sf2, &quot;Marimba&quot;, new Patch(0, 108), bell);</span>
<span class="nc" id="L425">        newInstrument(sf2, &quot;Sax&quot;, new Patch(0, 109), sax);</span>
<span class="nc" id="L426">        newInstrument(sf2, &quot;Solo String&quot;, new Patch(0, 110), string2, solostring);</span>
<span class="nc" id="L427">        newInstrument(sf2, &quot;Oboe&quot;, new Patch(0, 111), oboe);</span>
<span class="nc" id="L428">        newInstrument(sf2, &quot;Bell&quot;, new Patch(0, 112), bell);</span>
<span class="nc" id="L429">        newInstrument(sf2, &quot;Melodic Toms&quot;, new Patch(0, 113), melodic_toms);</span>
<span class="nc" id="L430">        newInstrument(sf2, &quot;Marimba&quot;, new Patch(0, 114), bell);</span>
<span class="nc" id="L431">        newInstrument(sf2, &quot;Melodic Toms&quot;, new Patch(0, 115), melodic_toms);</span>
<span class="nc" id="L432">        newInstrument(sf2, &quot;Melodic Toms&quot;, new Patch(0, 116), melodic_toms);</span>
<span class="nc" id="L433">        newInstrument(sf2, &quot;Melodic Toms&quot;, new Patch(0, 117), melodic_toms);</span>
<span class="nc" id="L434">        newInstrument(sf2, &quot;Reverse Cymbal&quot;, new Patch(0, 118), reverse_cymbal);</span>
<span class="nc" id="L435">        newInstrument(sf2, &quot;Reverse Cymbal&quot;, new Patch(0, 119), reverse_cymbal);</span>
<span class="nc" id="L436">        newInstrument(sf2, &quot;Guitar&quot;, new Patch(0, 120), guitar);</span>
<span class="nc" id="L437">        newInstrument(sf2, &quot;Def&quot;, new Patch(0, 121), defaultsound);</span>
        {
<span class="nc" id="L439">            SF2Instrument ins = newInstrument(sf2, &quot;Seashore/Reverse Cymbal&quot;,</span>
                    new Patch(0, 122), reverse_cymbal);
<span class="nc" id="L441">            region = ins.getRegions().get(0);</span>
<span class="nc" id="L442">            region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L443">            region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 18500);</span>
<span class="nc" id="L444">            region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 4500);</span>
<span class="nc" id="L445">            region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, -4500);</span>
        }
        {
<span class="nc" id="L448">            SF2Instrument ins = newInstrument(sf2, &quot;Bird/Flute&quot;,</span>
                    new Patch(0, 123), flute);
<span class="nc" id="L450">            region = ins.getRegions().get(0);</span>
<span class="nc" id="L451">            region.putInteger(SF2Region.GENERATOR_COARSETUNE, 24);</span>
<span class="nc" id="L452">            region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, -3000);</span>
<span class="nc" id="L453">            region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
        }
<span class="nc" id="L455">        newInstrument(sf2, &quot;Def&quot;, new Patch(0, 124), side_stick);</span>
        {
<span class="nc" id="L457">            SF2Instrument ins = newInstrument(sf2, &quot;Seashore/Reverse Cymbal&quot;,</span>
                    new Patch(0, 125), reverse_cymbal);
<span class="nc" id="L459">            region = ins.getRegions().get(0);</span>
<span class="nc" id="L460">            region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L461">            region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 18500);</span>
<span class="nc" id="L462">            region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 4500);</span>
<span class="nc" id="L463">            region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, -4500);</span>
        }
<span class="nc" id="L465">        newInstrument(sf2, &quot;Applause/crash_cymbal&quot;,</span>
                new Patch(0, 126), crash_cymbal);
<span class="nc" id="L467">        newInstrument(sf2, &quot;Gunshot/side_stick&quot;, new Patch(0, 127), side_stick);</span>

<span class="nc bnc" id="L469" title="All 2 branches missed.">        for (SF2Instrument instrument : sf2.getInstruments()) {</span>
<span class="nc" id="L470">            Patch patch = instrument.getPatch();</span>
<span class="nc bnc" id="L471" title="All 2 branches missed.">            if (patch instanceof ModelPatch) {</span>
<span class="nc bnc" id="L472" title="All 2 branches missed.">                if (((ModelPatch) patch).isPercussion())</span>
<span class="nc" id="L473">                    continue;</span>
            }
<span class="nc" id="L475">            instrument.setName(general_midi_instruments[patch.getProgram()]);</span>
        }

<span class="nc" id="L478">        return sf2;</span>

    }

    public static SF2Layer new_bell(SF2Soundbank sf2) {
<span class="nc" id="L483">        Random random = new Random(102030201);</span>
<span class="nc" id="L484">        int x = 8;</span>
<span class="nc" id="L485">        int fftsize = 4096 * x;</span>
<span class="nc" id="L486">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L487">        double base = x * 25;</span>
<span class="nc" id="L488">        double start_w = 0.01;</span>
<span class="nc" id="L489">        double end_w = 0.05;</span>
<span class="nc" id="L490">        double start_a = 0.2;</span>
<span class="nc" id="L491">        double end_a = 0.00001;</span>
<span class="nc" id="L492">        double a = start_a;</span>
<span class="nc" id="L493">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>
<span class="nc bnc" id="L494" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc" id="L495">            double detune = 1 + (random.nextDouble() * 2 - 1) * 0.01;</span>
<span class="nc" id="L496">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L497">            complexGaussianDist(data, base * (i + 1) * detune, w, a);</span>
<span class="nc" id="L498">            a *= a_step;</span>
        }
<span class="nc" id="L500">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;EPiano&quot;, data, base);</span>
<span class="nc" id="L501">        SF2Layer layer = newLayer(sf2, &quot;EPiano&quot;, sample);</span>
<span class="nc" id="L502">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L503">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L504">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -12000);</span>
<span class="nc" id="L505">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L506">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L507">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L508">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, 1200);</span>
<span class="nc" id="L509">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L510">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -9000);</span>
<span class="nc" id="L511">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 16000);</span>
<span class="nc" id="L512">        return layer;</span>
    }

    public static SF2Layer new_guitar1(SF2Soundbank sf2) {

<span class="nc" id="L517">        int x = 8;</span>
<span class="nc" id="L518">        int fftsize = 4096 * x;</span>
<span class="nc" id="L519">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L520">        double base = x * 25;</span>
<span class="nc" id="L521">        double start_w = 0.01;</span>
<span class="nc" id="L522">        double end_w = 0.01;</span>
<span class="nc" id="L523">        double start_a = 2;</span>
<span class="nc" id="L524">        double end_a = 0.01;</span>
<span class="nc" id="L525">        double a = start_a;</span>
<span class="nc" id="L526">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>

<span class="nc" id="L528">        double[] aa = new double[40];</span>
<span class="nc bnc" id="L529" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc" id="L530">            aa[i] = a;</span>
<span class="nc" id="L531">            a *= a_step;</span>
        }

<span class="nc" id="L534">        aa[0] = 2;</span>
<span class="nc" id="L535">        aa[1] = 0.5;</span>
<span class="nc" id="L536">        aa[2] = 0.45;</span>
<span class="nc" id="L537">        aa[3] = 0.2;</span>
<span class="nc" id="L538">        aa[4] = 1;</span>
<span class="nc" id="L539">        aa[5] = 0.5;</span>
<span class="nc" id="L540">        aa[6] = 2;</span>
<span class="nc" id="L541">        aa[7] = 1;</span>
<span class="nc" id="L542">        aa[8] = 0.5;</span>
<span class="nc" id="L543">        aa[9] = 1;</span>
<span class="nc" id="L544">        aa[9] = 0.5;</span>
<span class="nc" id="L545">        aa[10] = 0.2;</span>
<span class="nc" id="L546">        aa[11] = 1;</span>
<span class="nc" id="L547">        aa[12] = 0.7;</span>
<span class="nc" id="L548">        aa[13] = 0.5;</span>
<span class="nc" id="L549">        aa[14] = 1;</span>

<span class="nc bnc" id="L551" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc" id="L552">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L553">            complexGaussianDist(data, base * (i + 1), w, aa[i]);</span>
        }

<span class="nc" id="L556">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Guitar&quot;, data, base);</span>
<span class="nc" id="L557">        SF2Layer layer = newLayer(sf2, &quot;Guitar&quot;, sample);</span>
<span class="nc" id="L558">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L559">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L560">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -12000);</span>
<span class="nc" id="L561">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L562">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 2400);</span>
<span class="nc" id="L563">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>

<span class="nc" id="L565">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -100);</span>
<span class="nc" id="L566">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L567">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -6000);</span>
<span class="nc" id="L568">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 16000);</span>
<span class="nc" id="L569">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -20);</span>
<span class="nc" id="L570">        return layer;</span>
    }

    public static SF2Layer new_guitar_dist(SF2Soundbank sf2) {

<span class="nc" id="L575">        int x = 8;</span>
<span class="nc" id="L576">        int fftsize = 4096 * x;</span>
<span class="nc" id="L577">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L578">        double base = x * 25;</span>
<span class="nc" id="L579">        double start_w = 0.01;</span>
<span class="nc" id="L580">        double end_w = 0.01;</span>
<span class="nc" id="L581">        double start_a = 2;</span>
<span class="nc" id="L582">        double end_a = 0.01;</span>
<span class="nc" id="L583">        double a = start_a;</span>
<span class="nc" id="L584">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>

<span class="nc" id="L586">        double[] aa = new double[40];</span>
<span class="nc bnc" id="L587" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc" id="L588">            aa[i] = a;</span>
<span class="nc" id="L589">            a *= a_step;</span>
        }

<span class="nc" id="L592">        aa[0] = 5;</span>
<span class="nc" id="L593">        aa[1] = 2;</span>
<span class="nc" id="L594">        aa[2] = 0.45;</span>
<span class="nc" id="L595">        aa[3] = 0.2;</span>
<span class="nc" id="L596">        aa[4] = 1;</span>
<span class="nc" id="L597">        aa[5] = 0.5;</span>
<span class="nc" id="L598">        aa[6] = 2;</span>
<span class="nc" id="L599">        aa[7] = 1;</span>
<span class="nc" id="L600">        aa[8] = 0.5;</span>
<span class="nc" id="L601">        aa[9] = 1;</span>
<span class="nc" id="L602">        aa[9] = 0.5;</span>
<span class="nc" id="L603">        aa[10] = 0.2;</span>
<span class="nc" id="L604">        aa[11] = 1;</span>
<span class="nc" id="L605">        aa[12] = 0.7;</span>
<span class="nc" id="L606">        aa[13] = 0.5;</span>
<span class="nc" id="L607">        aa[14] = 1;</span>

<span class="nc bnc" id="L609" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc" id="L610">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L611">            complexGaussianDist(data, base * (i + 1), w, aa[i]);</span>
        }


<span class="nc" id="L615">        SF2Sample sample = newSimpleFFTSample_dist(sf2, &quot;Distorted Guitar&quot;,</span>
                data, base, 10000.0);


<span class="nc" id="L619">        SF2Layer layer = newLayer(sf2, &quot;Distorted Guitar&quot;, sample);</span>
<span class="nc" id="L620">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L621">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L622">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -12000);</span>
<span class="nc" id="L623">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
        //region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 2400);
        //region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 200);

        //region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -100);
        //region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);
        //region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -1000);
<span class="nc" id="L630">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 8000);</span>
        //region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -20);
<span class="nc" id="L632">        return layer;</span>
    }

    public static SF2Layer new_guitar_pick(SF2Soundbank sf2) {

        double datab[];

        // Make treble part
        {
<span class="nc" id="L641">            int m = 2;</span>
<span class="nc" id="L642">            int fftlen = 4096 * m;</span>
<span class="nc" id="L643">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L644">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L645" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L646">                data[i] = (2.0 * (random.nextDouble() - 0.5));</span>
<span class="nc" id="L647">            fft(data);</span>
            // Remove all negative frequency
<span class="nc bnc" id="L649" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L650">                data[i] = 0;</span>
<span class="nc bnc" id="L651" title="All 2 branches missed.">            for (int i = 0; i &lt; 2048 * m; i++) {</span>
<span class="nc" id="L652">                data[i] *= Math.exp(-Math.abs((i - 23) / ((double) m)) * 1.2)</span>
<span class="nc" id="L653">                        + Math.exp(-Math.abs((i - 40) / ((double) m)) * 0.9);</span>
            }
<span class="nc" id="L655">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L656">            ifft(data);</span>
<span class="nc" id="L657">            normalize(data, 0.8);</span>
<span class="nc" id="L658">            data = realPart(data);</span>
<span class="nc" id="L659">            double gain = 1.0;</span>
<span class="nc bnc" id="L660" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L661">                data[i] *= gain;</span>
<span class="nc" id="L662">                gain *= 0.9994;</span>
            }
<span class="nc" id="L664">            datab = data;</span>

<span class="nc" id="L666">            fadeUp(data, 80);</span>
        }

<span class="nc" id="L669">        SF2Sample sample = newSimpleDrumSample(sf2, &quot;Guitar Noise&quot;, datab);</span>

<span class="nc" id="L671">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L672">        layer.setName(&quot;Guitar Noise&quot;);</span>

<span class="nc" id="L674">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L675">        layer.setGlobalZone(global);</span>
<span class="nc" id="L676">        sf2.addResource(layer);</span>

<span class="nc" id="L678">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L679">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 12000);</span>
        //region.putInteger(SF2Region.GENERATOR_SCALETUNING, 0);
//        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);
/*
        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, 0);
        region.putInteger(SF2Region.GENERATOR_SUSTAINMODENV, 1000);
        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);
        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -11000);
        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 12000);
         */

<span class="nc" id="L690">        region.setSample(sample);</span>
<span class="nc" id="L691">        layer.getRegions().add(region);</span>

<span class="nc" id="L693">        return layer;</span>
    }

    public static SF2Layer new_gpiano(SF2Soundbank sf2) {
        //Random random = new Random(302030201);
<span class="nc" id="L698">        int x = 8;</span>
<span class="nc" id="L699">        int fftsize = 4096 * x;</span>
<span class="nc" id="L700">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L701">        double base = x * 25;</span>
<span class="nc" id="L702">        double start_a = 0.2;</span>
<span class="nc" id="L703">        double end_a = 0.001;</span>
<span class="nc" id="L704">        double a = start_a;</span>
<span class="nc" id="L705">        double a_step = Math.pow(end_a / start_a, 1.0 / 15.0);</span>

<span class="nc" id="L707">        double[] aa = new double[30];</span>
<span class="nc bnc" id="L708" title="All 2 branches missed.">        for (int i = 0; i &lt; 30; i++) {</span>
<span class="nc" id="L709">            aa[i] = a;</span>
<span class="nc" id="L710">            a *= a_step;</span>
        }

<span class="nc" id="L713">        aa[0] *= 2;</span>
        //aa[2] *= 0.1;
<span class="nc" id="L715">        aa[4] *= 2;</span>


<span class="nc" id="L718">        aa[12] *= 0.9;</span>
<span class="nc" id="L719">        aa[13] *= 0.7;</span>
<span class="nc bnc" id="L720" title="All 2 branches missed.">        for (int i = 14; i &lt; 30; i++) {</span>
<span class="nc" id="L721">            aa[i] *= 0.5;</span>
        }


<span class="nc bnc" id="L725" title="All 2 branches missed.">        for (int i = 0; i &lt; 30; i++) {</span>
            //double detune = 1 + (random.nextDouble()*2 - 1)*0.0001;
<span class="nc" id="L727">            double w = 0.2;</span>
<span class="nc" id="L728">            double ai = aa[i];</span>
<span class="nc bnc" id="L729" title="All 2 branches missed.">            if (i &gt; 10) {</span>
<span class="nc" id="L730">                w = 5;</span>
<span class="nc" id="L731">                ai *= 10;</span>
            }
<span class="nc" id="L733">            int adjust = 0;</span>
<span class="nc bnc" id="L734" title="All 2 branches missed.">            if (i &gt; 5) {</span>
<span class="nc" id="L735">                adjust = (i - 5) * 7;</span>
            }
<span class="nc" id="L737">            complexGaussianDist(data, base * (i + 1) + adjust, w, ai);</span>
        }

<span class="nc" id="L740">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Grand Piano&quot;, data, base, 200);</span>
<span class="nc" id="L741">        SF2Layer layer = newLayer(sf2, &quot;Grand Piano&quot;, sample);</span>
<span class="nc" id="L742">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L743">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L744">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -7000);</span>
<span class="nc" id="L745">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L746">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L747">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L748">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -6000);</span>
<span class="nc" id="L749">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L750">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -5500);</span>
<span class="nc" id="L751">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 18000);</span>
<span class="nc" id="L752">        return layer;</span>
    }

    public static SF2Layer new_gpiano2(SF2Soundbank sf2) {
        //Random random = new Random(302030201);
<span class="nc" id="L757">        int x = 8;</span>
<span class="nc" id="L758">        int fftsize = 4096 * x;</span>
<span class="nc" id="L759">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L760">        double base = x * 25;</span>
<span class="nc" id="L761">        double start_a = 0.2;</span>
<span class="nc" id="L762">        double end_a = 0.001;</span>
<span class="nc" id="L763">        double a = start_a;</span>
<span class="nc" id="L764">        double a_step = Math.pow(end_a / start_a, 1.0 / 20.0);</span>

<span class="nc" id="L766">        double[] aa = new double[30];</span>
<span class="nc bnc" id="L767" title="All 2 branches missed.">        for (int i = 0; i &lt; 30; i++) {</span>
<span class="nc" id="L768">            aa[i] = a;</span>
<span class="nc" id="L769">            a *= a_step;</span>
        }

<span class="nc" id="L772">        aa[0] *= 1;</span>
        //aa[2] *= 0.1;
<span class="nc" id="L774">        aa[4] *= 2;</span>


<span class="nc" id="L777">        aa[12] *= 0.9;</span>
<span class="nc" id="L778">        aa[13] *= 0.7;</span>
<span class="nc bnc" id="L779" title="All 2 branches missed.">        for (int i = 14; i &lt; 30; i++) {</span>
<span class="nc" id="L780">            aa[i] *= 0.5;</span>
        }


<span class="nc bnc" id="L784" title="All 2 branches missed.">        for (int i = 0; i &lt; 30; i++) {</span>
            //double detune = 1 + (random.nextDouble()*2 - 1)*0.0001;
<span class="nc" id="L786">            double w = 0.2;</span>
<span class="nc" id="L787">            double ai = aa[i];</span>
<span class="nc bnc" id="L788" title="All 2 branches missed.">            if (i &gt; 10) {</span>
<span class="nc" id="L789">                w = 5;</span>
<span class="nc" id="L790">                ai *= 10;</span>
            }
<span class="nc" id="L792">            int adjust = 0;</span>
<span class="nc bnc" id="L793" title="All 2 branches missed.">            if (i &gt; 5) {</span>
<span class="nc" id="L794">                adjust = (i - 5) * 7;</span>
            }
<span class="nc" id="L796">            complexGaussianDist(data, base * (i + 1) + adjust, w, ai);</span>
        }

<span class="nc" id="L799">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Grand Piano&quot;, data, base, 200);</span>
<span class="nc" id="L800">        SF2Layer layer = newLayer(sf2, &quot;Grand Piano&quot;, sample);</span>
<span class="nc" id="L801">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L802">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L803">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -7000);</span>
<span class="nc" id="L804">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L805">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L806">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L807">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -6000);</span>
<span class="nc" id="L808">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L809">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -5500);</span>
<span class="nc" id="L810">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 18000);</span>
<span class="nc" id="L811">        return layer;</span>
    }

    public static SF2Layer new_piano_hammer(SF2Soundbank sf2) {

        double datab[];

        // Make treble part
        {
<span class="nc" id="L820">            int m = 2;</span>
<span class="nc" id="L821">            int fftlen = 4096 * m;</span>
<span class="nc" id="L822">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L823">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L824" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L825">                data[i] = (2.0 * (random.nextDouble() - 0.5));</span>
<span class="nc" id="L826">            fft(data);</span>
            // Remove all negative frequency
<span class="nc bnc" id="L828" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L829">                data[i] = 0;</span>
<span class="nc bnc" id="L830" title="All 2 branches missed.">            for (int i = 0; i &lt; 2048 * m; i++)</span>
<span class="nc" id="L831">                data[i] *= Math.exp(-Math.abs((i - 37) / ((double) m)) * 0.05);</span>
<span class="nc" id="L832">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L833">            ifft(data);</span>
<span class="nc" id="L834">            normalize(data, 0.6);</span>
<span class="nc" id="L835">            data = realPart(data);</span>
<span class="nc" id="L836">            double gain = 1.0;</span>
<span class="nc bnc" id="L837" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L838">                data[i] *= gain;</span>
<span class="nc" id="L839">                gain *= 0.9997;</span>
            }
<span class="nc" id="L841">            datab = data;</span>

<span class="nc" id="L843">            fadeUp(data, 80);</span>
        }

<span class="nc" id="L846">        SF2Sample sample = newSimpleDrumSample(sf2, &quot;Piano Hammer&quot;, datab);</span>

<span class="nc" id="L848">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L849">        layer.setName(&quot;Piano Hammer&quot;);</span>

<span class="nc" id="L851">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L852">        layer.setGlobalZone(global);</span>
<span class="nc" id="L853">        sf2.addResource(layer);</span>

<span class="nc" id="L855">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L856">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 12000);</span>
        //region.putInteger(SF2Region.GENERATOR_SCALETUNING, 0);
/*
        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, 0);
        region.putInteger(SF2Region.GENERATOR_SUSTAINMODENV, 1000);
        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);
        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -11000);
        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 12000);
         */

<span class="nc" id="L866">        region.setSample(sample);</span>
<span class="nc" id="L867">        layer.getRegions().add(region);</span>

<span class="nc" id="L869">        return layer;</span>
    }

    public static SF2Layer new_piano1(SF2Soundbank sf2) {
        //Random random = new Random(302030201);
<span class="nc" id="L874">        int x = 8;</span>
<span class="nc" id="L875">        int fftsize = 4096 * x;</span>
<span class="nc" id="L876">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L877">        double base = x * 25;</span>
<span class="nc" id="L878">        double start_a = 0.2;</span>
<span class="nc" id="L879">        double end_a = 0.0001;</span>
<span class="nc" id="L880">        double a = start_a;</span>
<span class="nc" id="L881">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>

<span class="nc" id="L883">        double[] aa = new double[30];</span>
<span class="nc bnc" id="L884" title="All 2 branches missed.">        for (int i = 0; i &lt; 30; i++) {</span>
<span class="nc" id="L885">            aa[i] = a;</span>
<span class="nc" id="L886">            a *= a_step;</span>
        }

<span class="nc" id="L889">        aa[0] *= 5;</span>
<span class="nc" id="L890">        aa[2] *= 0.1;</span>
<span class="nc" id="L891">        aa[7] *= 5;</span>


<span class="nc bnc" id="L894" title="All 2 branches missed.">        for (int i = 0; i &lt; 30; i++) {</span>
            //double detune = 1 + (random.nextDouble()*2 - 1)*0.0001;
<span class="nc" id="L896">            double w = 0.2;</span>
<span class="nc" id="L897">            double ai = aa[i];</span>
<span class="nc bnc" id="L898" title="All 2 branches missed.">            if (i &gt; 12) {</span>
<span class="nc" id="L899">                w = 5;</span>
<span class="nc" id="L900">                ai *= 10;</span>
            }
<span class="nc" id="L902">            int adjust = 0;</span>
<span class="nc bnc" id="L903" title="All 2 branches missed.">            if (i &gt; 5) {</span>
<span class="nc" id="L904">                adjust = (i - 5) * 7;</span>
            }
<span class="nc" id="L906">            complexGaussianDist(data, base * (i + 1) + adjust, w, ai);</span>
        }

<span class="nc" id="L909">        complexGaussianDist(data, base * (15.5), 1, 0.1);</span>
<span class="nc" id="L910">        complexGaussianDist(data, base * (17.5), 1, 0.01);</span>

<span class="nc" id="L912">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;EPiano&quot;, data, base, 200);</span>
<span class="nc" id="L913">        SF2Layer layer = newLayer(sf2, &quot;EPiano&quot;, sample);</span>
<span class="nc" id="L914">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L915">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L916">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -12000);</span>
<span class="nc" id="L917">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L918">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L919">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L920">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -1200);</span>
<span class="nc" id="L921">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L922">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -5500);</span>
<span class="nc" id="L923">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 16000);</span>
<span class="nc" id="L924">        return layer;</span>
    }

    public static SF2Layer new_epiano1(SF2Soundbank sf2) {
<span class="nc" id="L928">        Random random = new Random(302030201);</span>
<span class="nc" id="L929">        int x = 8;</span>
<span class="nc" id="L930">        int fftsize = 4096 * x;</span>
<span class="nc" id="L931">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L932">        double base = x * 25;</span>
<span class="nc" id="L933">        double start_w = 0.05;</span>
<span class="nc" id="L934">        double end_w = 0.05;</span>
<span class="nc" id="L935">        double start_a = 0.2;</span>
<span class="nc" id="L936">        double end_a = 0.0001;</span>
<span class="nc" id="L937">        double a = start_a;</span>
<span class="nc" id="L938">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>
<span class="nc bnc" id="L939" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc" id="L940">            double detune = 1 + (random.nextDouble() * 2 - 1) * 0.0001;</span>
<span class="nc" id="L941">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L942">            complexGaussianDist(data, base * (i + 1) * detune, w, a);</span>
<span class="nc" id="L943">            a *= a_step;</span>
        }



<span class="nc" id="L948">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;EPiano&quot;, data, base);</span>
<span class="nc" id="L949">        SF2Layer layer = newLayer(sf2, &quot;EPiano&quot;, sample);</span>
<span class="nc" id="L950">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L951">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L952">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -12000);</span>
<span class="nc" id="L953">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L954">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L955">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L956">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, 1200);</span>
<span class="nc" id="L957">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L958">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -9000);</span>
<span class="nc" id="L959">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 16000);</span>
<span class="nc" id="L960">        return layer;</span>
    }

    public static SF2Layer new_epiano2(SF2Soundbank sf2) {
<span class="nc" id="L964">        Random random = new Random(302030201);</span>
<span class="nc" id="L965">        int x = 8;</span>
<span class="nc" id="L966">        int fftsize = 4096 * x;</span>
<span class="nc" id="L967">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L968">        double base = x * 25;</span>
<span class="nc" id="L969">        double start_w = 0.01;</span>
<span class="nc" id="L970">        double end_w = 0.05;</span>
<span class="nc" id="L971">        double start_a = 0.2;</span>
<span class="nc" id="L972">        double end_a = 0.00001;</span>
<span class="nc" id="L973">        double a = start_a;</span>
<span class="nc" id="L974">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>
<span class="nc bnc" id="L975" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc" id="L976">            double detune = 1 + (random.nextDouble() * 2 - 1) * 0.0001;</span>
<span class="nc" id="L977">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L978">            complexGaussianDist(data, base * (i + 1) * detune, w, a);</span>
<span class="nc" id="L979">            a *= a_step;</span>
        }

<span class="nc" id="L982">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;EPiano&quot;, data, base);</span>
<span class="nc" id="L983">        SF2Layer layer = newLayer(sf2, &quot;EPiano&quot;, sample);</span>
<span class="nc" id="L984">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L985">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L986">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -12000);</span>
<span class="nc" id="L987">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L988">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 8000);</span>
<span class="nc" id="L989">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L990">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, 2400);</span>
<span class="nc" id="L991">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L992">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -9000);</span>
<span class="nc" id="L993">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 16000);</span>
<span class="nc" id="L994">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);</span>
<span class="nc" id="L995">        return layer;</span>
    }

    public static SF2Layer new_bass1(SF2Soundbank sf2) {
<span class="nc" id="L999">        int x = 8;</span>
<span class="nc" id="L1000">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1001">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1002">        double base = x * 25;</span>
<span class="nc" id="L1003">        double start_w = 0.05;</span>
<span class="nc" id="L1004">        double end_w = 0.05;</span>
<span class="nc" id="L1005">        double start_a = 0.2;</span>
<span class="nc" id="L1006">        double end_a = 0.02;</span>
<span class="nc" id="L1007">        double a = start_a;</span>
<span class="nc" id="L1008">        double a_step = Math.pow(end_a / start_a, 1.0 / 25.0);</span>

<span class="nc" id="L1010">        double[] aa = new double[25];</span>
<span class="nc bnc" id="L1011" title="All 2 branches missed.">        for (int i = 0; i &lt; 25; i++) {</span>
<span class="nc" id="L1012">            aa[i] = a;</span>
<span class="nc" id="L1013">            a *= a_step;</span>
        }

<span class="nc" id="L1016">        aa[0] *= 8;</span>
<span class="nc" id="L1017">        aa[1] *= 4;</span>
<span class="nc" id="L1018">        aa[3] *= 8;</span>
<span class="nc" id="L1019">        aa[5] *= 8;</span>

<span class="nc bnc" id="L1021" title="All 2 branches missed.">        for (int i = 0; i &lt; 25; i++) {</span>
<span class="nc" id="L1022">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L1023">            complexGaussianDist(data, base * (i + 1), w, aa[i]);</span>
        }


<span class="nc" id="L1027">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Bass&quot;, data, base);</span>
<span class="nc" id="L1028">        SF2Layer layer = newLayer(sf2, &quot;Bass&quot;, sample);</span>
<span class="nc" id="L1029">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1030">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1031">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -12000);</span>
<span class="nc" id="L1032">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L1033">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1034">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L1035">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -3000);</span>
<span class="nc" id="L1036">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L1037">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -5000);</span>
<span class="nc" id="L1038">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 11000);</span>
<span class="nc" id="L1039">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);</span>
<span class="nc" id="L1040">        return layer;</span>
    }

    public static SF2Layer new_synthbass(SF2Soundbank sf2) {
<span class="nc" id="L1044">        int x = 8;</span>
<span class="nc" id="L1045">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1046">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1047">        double base = x * 25;</span>
<span class="nc" id="L1048">        double start_w = 0.05;</span>
<span class="nc" id="L1049">        double end_w = 0.05;</span>
<span class="nc" id="L1050">        double start_a = 0.2;</span>
<span class="nc" id="L1051">        double end_a = 0.02;</span>
<span class="nc" id="L1052">        double a = start_a;</span>
<span class="nc" id="L1053">        double a_step = Math.pow(end_a / start_a, 1.0 / 25.0);</span>

<span class="nc" id="L1055">        double[] aa = new double[25];</span>
<span class="nc bnc" id="L1056" title="All 2 branches missed.">        for (int i = 0; i &lt; 25; i++) {</span>
<span class="nc" id="L1057">            aa[i] = a;</span>
<span class="nc" id="L1058">            a *= a_step;</span>
        }

<span class="nc" id="L1061">        aa[0] *= 16;</span>
<span class="nc" id="L1062">        aa[1] *= 4;</span>
<span class="nc" id="L1063">        aa[3] *= 16;</span>
<span class="nc" id="L1064">        aa[5] *= 8;</span>

<span class="nc bnc" id="L1066" title="All 2 branches missed.">        for (int i = 0; i &lt; 25; i++) {</span>
<span class="nc" id="L1067">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L1068">            complexGaussianDist(data, base * (i + 1), w, aa[i]);</span>
        }


<span class="nc" id="L1072">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Bass&quot;, data, base);</span>
<span class="nc" id="L1073">        SF2Layer layer = newLayer(sf2, &quot;Bass&quot;, sample);</span>
<span class="nc" id="L1074">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1075">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1076">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -12000);</span>
<span class="nc" id="L1077">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L1078">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1079">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L1080">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -3000);</span>
<span class="nc" id="L1081">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L1082">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, -3000);</span>
<span class="nc" id="L1083">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERQ, 100);</span>
<span class="nc" id="L1084">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 8000);</span>
<span class="nc" id="L1085">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);</span>
<span class="nc" id="L1086">        return layer;</span>
    }

    public static SF2Layer new_bass2(SF2Soundbank sf2) {
<span class="nc" id="L1090">        int x = 8;</span>
<span class="nc" id="L1091">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1092">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1093">        double base = x * 25;</span>
<span class="nc" id="L1094">        double start_w = 0.05;</span>
<span class="nc" id="L1095">        double end_w = 0.05;</span>
<span class="nc" id="L1096">        double start_a = 0.2;</span>
<span class="nc" id="L1097">        double end_a = 0.002;</span>
<span class="nc" id="L1098">        double a = start_a;</span>
<span class="nc" id="L1099">        double a_step = Math.pow(end_a / start_a, 1.0 / 25.0);</span>

<span class="nc" id="L1101">        double[] aa = new double[25];</span>
<span class="nc bnc" id="L1102" title="All 2 branches missed.">        for (int i = 0; i &lt; 25; i++) {</span>
<span class="nc" id="L1103">            aa[i] = a;</span>
<span class="nc" id="L1104">            a *= a_step;</span>
        }

<span class="nc" id="L1107">        aa[0] *= 8;</span>
<span class="nc" id="L1108">        aa[1] *= 4;</span>
<span class="nc" id="L1109">        aa[3] *= 8;</span>
<span class="nc" id="L1110">        aa[5] *= 8;</span>

<span class="nc bnc" id="L1112" title="All 2 branches missed.">        for (int i = 0; i &lt; 25; i++) {</span>
<span class="nc" id="L1113">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L1114">            complexGaussianDist(data, base * (i + 1), w, aa[i]);</span>
        }


<span class="nc" id="L1118">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Bass2&quot;, data, base);</span>
<span class="nc" id="L1119">        SF2Layer layer = newLayer(sf2, &quot;Bass2&quot;, sample);</span>
<span class="nc" id="L1120">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1121">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1122">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -8000);</span>
<span class="nc" id="L1123">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L1124">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1125">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L1126">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -6000);</span>
<span class="nc" id="L1127">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L1128">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 5000);</span>
<span class="nc" id="L1129">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);</span>
<span class="nc" id="L1130">        return layer;</span>
    }

    public static SF2Layer new_solostring(SF2Soundbank sf2) {
<span class="nc" id="L1134">        int x = 8;</span>
<span class="nc" id="L1135">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1136">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1137">        double base = x * 25;</span>
<span class="nc" id="L1138">        double start_w = 2;</span>
<span class="nc" id="L1139">        double end_w = 2;</span>
<span class="nc" id="L1140">        double start_a = 0.2;</span>
<span class="nc" id="L1141">        double end_a = 0.01;</span>

<span class="nc" id="L1143">        double[] aa = new double[18];</span>
<span class="nc" id="L1144">        double a = start_a;</span>
<span class="nc" id="L1145">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>
<span class="nc bnc" id="L1146" title="All 2 branches missed.">        for (int i = 0; i &lt; aa.length; i++) {</span>
<span class="nc" id="L1147">            a *= a_step;</span>
<span class="nc" id="L1148">            aa[i] = a;</span>
        }

<span class="nc" id="L1151">        aa[0] *= 5;</span>
<span class="nc" id="L1152">        aa[1] *= 5;</span>
<span class="nc" id="L1153">        aa[2] *= 5;</span>
<span class="nc" id="L1154">        aa[3] *= 4;</span>
<span class="nc" id="L1155">        aa[4] *= 4;</span>
<span class="nc" id="L1156">        aa[5] *= 3;</span>
<span class="nc" id="L1157">        aa[6] *= 3;</span>
<span class="nc" id="L1158">        aa[7] *= 2;</span>

<span class="nc bnc" id="L1160" title="All 2 branches missed.">        for (int i = 0; i &lt; aa.length; i++) {</span>
<span class="nc" id="L1161">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L1162">            complexGaussianDist(data, base * (i + 1), w, a);</span>
        }
<span class="nc" id="L1164">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Strings&quot;, data, base);</span>
<span class="nc" id="L1165">        SF2Layer layer = newLayer(sf2, &quot;Strings&quot;, sample);</span>
<span class="nc" id="L1166">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1167">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1168">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -5000);</span>
<span class="nc" id="L1169">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 1000);</span>
<span class="nc" id="L1170">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1171">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>
<span class="nc" id="L1172">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 9500);</span>
<span class="nc" id="L1173">        region.putInteger(SF2Region.GENERATOR_FREQVIBLFO, -1000);</span>
<span class="nc" id="L1174">        region.putInteger(SF2Region.GENERATOR_VIBLFOTOPITCH, 15);</span>
<span class="nc" id="L1175">        return layer;</span>

    }

    public static SF2Layer new_orchhit(SF2Soundbank sf2) {
<span class="nc" id="L1180">        int x = 8;</span>
<span class="nc" id="L1181">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1182">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1183">        double base = x * 25;</span>
<span class="nc" id="L1184">        double start_w = 2;</span>
<span class="nc" id="L1185">        double end_w = 80;</span>
<span class="nc" id="L1186">        double start_a = 0.2;</span>
<span class="nc" id="L1187">        double end_a = 0.001;</span>
<span class="nc" id="L1188">        double a = start_a;</span>
<span class="nc" id="L1189">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>
<span class="nc bnc" id="L1190" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc" id="L1191">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L1192">            complexGaussianDist(data, base * (i + 1), w, a);</span>
<span class="nc" id="L1193">            a *= a_step;</span>
        }
<span class="nc" id="L1195">        complexGaussianDist(data, base * 4, 300, 1);</span>


<span class="nc" id="L1198">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Och Strings&quot;, data, base);</span>
<span class="nc" id="L1199">        SF2Layer layer = newLayer(sf2, &quot;Och Strings&quot;, sample);</span>
<span class="nc" id="L1200">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1201">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1202">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -5000);</span>
<span class="nc" id="L1203">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 200);</span>
<span class="nc" id="L1204">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 200);</span>
<span class="nc" id="L1205">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L1206">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 9500);</span>
<span class="nc" id="L1207">        return layer;</span>

    }

    public static SF2Layer new_string2(SF2Soundbank sf2) {
<span class="nc" id="L1212">        int x = 8;</span>
<span class="nc" id="L1213">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1214">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1215">        double base = x * 25;</span>
<span class="nc" id="L1216">        double start_w = 2;</span>
<span class="nc" id="L1217">        double end_w = 80;</span>
<span class="nc" id="L1218">        double start_a = 0.2;</span>
<span class="nc" id="L1219">        double end_a = 0.001;</span>
<span class="nc" id="L1220">        double a = start_a;</span>
<span class="nc" id="L1221">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>
<span class="nc bnc" id="L1222" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc" id="L1223">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L1224">            complexGaussianDist(data, base * (i + 1), w, a);</span>
<span class="nc" id="L1225">            a *= a_step;</span>
        }
<span class="nc" id="L1227">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Strings&quot;, data, base);</span>
<span class="nc" id="L1228">        SF2Layer layer = newLayer(sf2, &quot;Strings&quot;, sample);</span>
<span class="nc" id="L1229">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1230">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1231">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -5000);</span>
<span class="nc" id="L1232">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 1000);</span>
<span class="nc" id="L1233">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1234">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>
<span class="nc" id="L1235">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 9500);</span>
<span class="nc" id="L1236">        return layer;</span>

    }

    public static SF2Layer new_choir(SF2Soundbank sf2) {
<span class="nc" id="L1241">        int x = 8;</span>
<span class="nc" id="L1242">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1243">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1244">        double base = x * 25;</span>
<span class="nc" id="L1245">        double start_w = 2;</span>
<span class="nc" id="L1246">        double end_w = 80;</span>
<span class="nc" id="L1247">        double start_a = 0.2;</span>
<span class="nc" id="L1248">        double end_a = 0.001;</span>
<span class="nc" id="L1249">        double a = start_a;</span>
<span class="nc" id="L1250">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>
<span class="nc" id="L1251">        double[] aa = new double[40];</span>
<span class="nc bnc" id="L1252" title="All 2 branches missed.">        for (int i = 0; i &lt; aa.length; i++) {</span>
<span class="nc" id="L1253">            a *= a_step;</span>
<span class="nc" id="L1254">            aa[i] = a;</span>
        }

<span class="nc" id="L1257">        aa[5] *= 0.1;</span>
<span class="nc" id="L1258">        aa[6] *= 0.01;</span>
<span class="nc" id="L1259">        aa[7] *= 0.1;</span>
<span class="nc" id="L1260">        aa[8] *= 0.1;</span>

<span class="nc bnc" id="L1262" title="All 2 branches missed.">        for (int i = 0; i &lt; aa.length; i++) {</span>
<span class="nc" id="L1263">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L1264">            complexGaussianDist(data, base * (i + 1), w, aa[i]);</span>
        }
<span class="nc" id="L1266">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Strings&quot;, data, base);</span>
<span class="nc" id="L1267">        SF2Layer layer = newLayer(sf2, &quot;Strings&quot;, sample);</span>
<span class="nc" id="L1268">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1269">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1270">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -5000);</span>
<span class="nc" id="L1271">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 1000);</span>
<span class="nc" id="L1272">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1273">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>
<span class="nc" id="L1274">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 9500);</span>
<span class="nc" id="L1275">        return layer;</span>

    }

    public static SF2Layer new_organ(SF2Soundbank sf2) {
<span class="nc" id="L1280">        Random random = new Random(102030201);</span>
<span class="nc" id="L1281">        int x = 1;</span>
<span class="nc" id="L1282">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1283">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1284">        double base = x * 15;</span>
<span class="nc" id="L1285">        double start_w = 0.01;</span>
<span class="nc" id="L1286">        double end_w = 0.01;</span>
<span class="nc" id="L1287">        double start_a = 0.2;</span>
<span class="nc" id="L1288">        double end_a = 0.001;</span>
<span class="nc" id="L1289">        double a = start_a;</span>
<span class="nc" id="L1290">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>

<span class="nc bnc" id="L1292" title="All 2 branches missed.">        for (int i = 0; i &lt; 12; i++) {</span>
<span class="nc" id="L1293">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L1294">            complexGaussianDist(data, base * (i + 1), w,</span>
<span class="nc" id="L1295">                    a * (0.5 + 3 * (random.nextDouble())));</span>
<span class="nc" id="L1296">            a *= a_step;</span>
        }
<span class="nc" id="L1298">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Organ&quot;, data, base);</span>
<span class="nc" id="L1299">        SF2Layer layer = newLayer(sf2, &quot;Organ&quot;, sample);</span>
<span class="nc" id="L1300">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1301">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1302">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -6000);</span>
<span class="nc" id="L1303">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L1304">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1305">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>
<span class="nc" id="L1306">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 9500);</span>
<span class="nc" id="L1307">        return layer;</span>

    }

    public static SF2Layer new_ch_organ(SF2Soundbank sf2) {
<span class="nc" id="L1312">        int x = 1;</span>
<span class="nc" id="L1313">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1314">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1315">        double base = x * 15;</span>
<span class="nc" id="L1316">        double start_w = 0.01;</span>
<span class="nc" id="L1317">        double end_w = 0.01;</span>
<span class="nc" id="L1318">        double start_a = 0.2;</span>
<span class="nc" id="L1319">        double end_a = 0.001;</span>
<span class="nc" id="L1320">        double a = start_a;</span>
<span class="nc" id="L1321">        double a_step = Math.pow(end_a / start_a, 1.0 / 60.0);</span>

<span class="nc" id="L1323">        double[] aa = new double[60];</span>
<span class="nc bnc" id="L1324" title="All 2 branches missed.">        for (int i = 0; i &lt; aa.length; i++) {</span>
<span class="nc" id="L1325">            a *= a_step;</span>
<span class="nc" id="L1326">            aa[i] = a;</span>
        }

<span class="nc" id="L1329">        aa[0] *= 5;</span>
<span class="nc" id="L1330">        aa[1] *= 2;</span>
<span class="nc" id="L1331">        aa[2] = 0;</span>
<span class="nc" id="L1332">        aa[4] = 0;</span>
<span class="nc" id="L1333">        aa[5] = 0;</span>
<span class="nc" id="L1334">        aa[7] *= 7;</span>
<span class="nc" id="L1335">        aa[9] = 0;</span>
<span class="nc" id="L1336">        aa[10] = 0;</span>
<span class="nc" id="L1337">        aa[12] = 0;</span>
<span class="nc" id="L1338">        aa[15] *= 7;</span>
<span class="nc" id="L1339">        aa[18] = 0;</span>
<span class="nc" id="L1340">        aa[20] = 0;</span>
<span class="nc" id="L1341">        aa[24] = 0;</span>
<span class="nc" id="L1342">        aa[27] *= 5;</span>
<span class="nc" id="L1343">        aa[29] = 0;</span>
<span class="nc" id="L1344">        aa[30] = 0;</span>
<span class="nc" id="L1345">        aa[33] = 0;</span>
<span class="nc" id="L1346">        aa[36] *= 4;</span>
<span class="nc" id="L1347">        aa[37] = 0;</span>
<span class="nc" id="L1348">        aa[39] = 0;</span>
<span class="nc" id="L1349">        aa[42] = 0;</span>
<span class="nc" id="L1350">        aa[43] = 0;</span>
<span class="nc" id="L1351">        aa[47] = 0;</span>
<span class="nc" id="L1352">        aa[50] *= 4;</span>
<span class="nc" id="L1353">        aa[52] = 0;</span>
<span class="nc" id="L1354">        aa[55] = 0;</span>
<span class="nc" id="L1355">        aa[57] = 0;</span>


<span class="nc" id="L1358">        aa[10] *= 0.1;</span>
<span class="nc" id="L1359">        aa[11] *= 0.1;</span>
<span class="nc" id="L1360">        aa[12] *= 0.1;</span>
<span class="nc" id="L1361">        aa[13] *= 0.1;</span>

<span class="nc" id="L1363">        aa[17] *= 0.1;</span>
<span class="nc" id="L1364">        aa[18] *= 0.1;</span>
<span class="nc" id="L1365">        aa[19] *= 0.1;</span>
<span class="nc" id="L1366">        aa[20] *= 0.1;</span>

<span class="nc bnc" id="L1368" title="All 2 branches missed.">        for (int i = 0; i &lt; 60; i++) {</span>
<span class="nc" id="L1369">            double w = start_w + (end_w - start_w) * (i / 40.0);</span>
<span class="nc" id="L1370">            complexGaussianDist(data, base * (i + 1), w, aa[i]);</span>
<span class="nc" id="L1371">            a *= a_step;</span>
        }
<span class="nc" id="L1373">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Organ&quot;, data, base);</span>
<span class="nc" id="L1374">        SF2Layer layer = newLayer(sf2, &quot;Organ&quot;, sample);</span>
<span class="nc" id="L1375">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1376">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1377">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -10000);</span>
<span class="nc" id="L1378">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L1379">        return layer;</span>

    }

    public static SF2Layer new_flute(SF2Soundbank sf2) {
<span class="nc" id="L1384">        int x = 8;</span>
<span class="nc" id="L1385">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1386">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1387">        double base = x * 15;</span>

<span class="nc" id="L1389">        complexGaussianDist(data, base * 1, 0.001, 0.5);</span>
<span class="nc" id="L1390">        complexGaussianDist(data, base * 2, 0.001, 0.5);</span>
<span class="nc" id="L1391">        complexGaussianDist(data, base * 3, 0.001, 0.5);</span>
<span class="nc" id="L1392">        complexGaussianDist(data, base * 4, 0.01, 0.5);</span>

<span class="nc" id="L1394">        complexGaussianDist(data, base * 4, 100, 120);</span>
<span class="nc" id="L1395">        complexGaussianDist(data, base * 6, 100, 40);</span>
<span class="nc" id="L1396">        complexGaussianDist(data, base * 8, 100, 80);</span>

<span class="nc" id="L1398">        complexGaussianDist(data, base * 5, 0.001, 0.05);</span>
<span class="nc" id="L1399">        complexGaussianDist(data, base * 6, 0.001, 0.06);</span>
<span class="nc" id="L1400">        complexGaussianDist(data, base * 7, 0.001, 0.04);</span>
<span class="nc" id="L1401">        complexGaussianDist(data, base * 8, 0.005, 0.06);</span>
<span class="nc" id="L1402">        complexGaussianDist(data, base * 9, 0.005, 0.06);</span>
<span class="nc" id="L1403">        complexGaussianDist(data, base * 10, 0.01, 0.1);</span>
<span class="nc" id="L1404">        complexGaussianDist(data, base * 11, 0.08, 0.7);</span>
<span class="nc" id="L1405">        complexGaussianDist(data, base * 12, 0.08, 0.6);</span>
<span class="nc" id="L1406">        complexGaussianDist(data, base * 13, 0.08, 0.6);</span>
<span class="nc" id="L1407">        complexGaussianDist(data, base * 14, 0.08, 0.6);</span>
<span class="nc" id="L1408">        complexGaussianDist(data, base * 15, 0.08, 0.5);</span>
<span class="nc" id="L1409">        complexGaussianDist(data, base * 16, 0.08, 0.5);</span>
<span class="nc" id="L1410">        complexGaussianDist(data, base * 17, 0.08, 0.2);</span>


<span class="nc" id="L1413">        complexGaussianDist(data, base * 1, 10, 8);</span>
<span class="nc" id="L1414">        complexGaussianDist(data, base * 2, 10, 8);</span>
<span class="nc" id="L1415">        complexGaussianDist(data, base * 3, 10, 8);</span>
<span class="nc" id="L1416">        complexGaussianDist(data, base * 4, 10, 8);</span>
<span class="nc" id="L1417">        complexGaussianDist(data, base * 5, 10, 8);</span>
<span class="nc" id="L1418">        complexGaussianDist(data, base * 6, 20, 9);</span>
<span class="nc" id="L1419">        complexGaussianDist(data, base * 7, 20, 9);</span>
<span class="nc" id="L1420">        complexGaussianDist(data, base * 8, 20, 9);</span>
<span class="nc" id="L1421">        complexGaussianDist(data, base * 9, 20, 8);</span>
<span class="nc" id="L1422">        complexGaussianDist(data, base * 10, 30, 8);</span>
<span class="nc" id="L1423">        complexGaussianDist(data, base * 11, 30, 9);</span>
<span class="nc" id="L1424">        complexGaussianDist(data, base * 12, 30, 9);</span>
<span class="nc" id="L1425">        complexGaussianDist(data, base * 13, 30, 8);</span>
<span class="nc" id="L1426">        complexGaussianDist(data, base * 14, 30, 8);</span>
<span class="nc" id="L1427">        complexGaussianDist(data, base * 15, 30, 7);</span>
<span class="nc" id="L1428">        complexGaussianDist(data, base * 16, 30, 7);</span>
<span class="nc" id="L1429">        complexGaussianDist(data, base * 17, 30, 6);</span>

<span class="nc" id="L1431">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Flute&quot;, data, base);</span>
<span class="nc" id="L1432">        SF2Layer layer = newLayer(sf2, &quot;Flute&quot;, sample);</span>
<span class="nc" id="L1433">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1434">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1435">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -6000);</span>
<span class="nc" id="L1436">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L1437">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1438">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>
<span class="nc" id="L1439">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 9500);</span>
<span class="nc" id="L1440">        return layer;</span>

    }

    public static SF2Layer new_horn(SF2Soundbank sf2) {
<span class="nc" id="L1445">        int x = 8;</span>
<span class="nc" id="L1446">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1447">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1448">        double base = x * 15;</span>

<span class="nc" id="L1450">        double start_a = 0.5;</span>
<span class="nc" id="L1451">        double end_a = 0.00000000001;</span>
<span class="nc" id="L1452">        double a = start_a;</span>
<span class="nc" id="L1453">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>
<span class="nc bnc" id="L1454" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc bnc" id="L1455" title="All 2 branches missed.">            if (i == 0)</span>
<span class="nc" id="L1456">                complexGaussianDist(data, base * (i + 1), 0.1, a * 0.2);</span>
            else
<span class="nc" id="L1458">                complexGaussianDist(data, base * (i + 1), 0.1, a);</span>
<span class="nc" id="L1459">            a *= a_step;</span>
        }

<span class="nc" id="L1462">        complexGaussianDist(data, base * 2, 100, 1);</span>


<span class="nc" id="L1465">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Horn&quot;, data, base);</span>
<span class="nc" id="L1466">        SF2Layer layer = newLayer(sf2, &quot;Horn&quot;, sample);</span>
<span class="nc" id="L1467">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1468">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1469">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -6000);</span>
<span class="nc" id="L1470">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L1471">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1472">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>

<span class="nc" id="L1474">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -500);</span>
<span class="nc" id="L1475">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L1476">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, 5000);</span>
<span class="nc" id="L1477">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 4500);</span>
<span class="nc" id="L1478">        return layer;</span>

    }

    public static SF2Layer new_trumpet(SF2Soundbank sf2) {
<span class="nc" id="L1483">        int x = 8;</span>
<span class="nc" id="L1484">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1485">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1486">        double base = x * 15;</span>

<span class="nc" id="L1488">        double start_a = 0.5;</span>
<span class="nc" id="L1489">        double end_a = 0.00001;</span>
<span class="nc" id="L1490">        double a = start_a;</span>
<span class="nc" id="L1491">        double a_step = Math.pow(end_a / start_a, 1.0 / 80.0);</span>
<span class="nc" id="L1492">        double[] aa = new double[80];</span>
<span class="nc bnc" id="L1493" title="All 2 branches missed.">        for (int i = 0; i &lt; 80; i++) {</span>
<span class="nc" id="L1494">            aa[i] = a;</span>
<span class="nc" id="L1495">            a *= a_step;</span>
        }

<span class="nc" id="L1498">        aa[0] *= 0.05;</span>
<span class="nc" id="L1499">        aa[1] *= 0.2;</span>
<span class="nc" id="L1500">        aa[2] *= 0.5;</span>
<span class="nc" id="L1501">        aa[3] *= 0.85;</span>

<span class="nc bnc" id="L1503" title="All 2 branches missed.">        for (int i = 0; i &lt; 80; i++) {</span>
<span class="nc" id="L1504">            complexGaussianDist(data, base * (i + 1), 0.1, aa[i]);</span>
        }

<span class="nc" id="L1507">        complexGaussianDist(data, base * 5, 300, 3);</span>


<span class="nc" id="L1510">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Trumpet&quot;, data, base);</span>
<span class="nc" id="L1511">        SF2Layer layer = newLayer(sf2, &quot;Trumpet&quot;, sample);</span>
<span class="nc" id="L1512">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1513">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1514">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -10000);</span>
<span class="nc" id="L1515">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 0);</span>
<span class="nc" id="L1516">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1517">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>

<span class="nc" id="L1519">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -4000);</span>
<span class="nc" id="L1520">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, -2500);</span>
<span class="nc" id="L1521">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, 5000);</span>
<span class="nc" id="L1522">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 4500);</span>
<span class="nc" id="L1523">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERQ, 10);</span>
<span class="nc" id="L1524">        return layer;</span>

    }

    public static SF2Layer new_brass_section(SF2Soundbank sf2) {
<span class="nc" id="L1529">        int x = 8;</span>
<span class="nc" id="L1530">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1531">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1532">        double base = x * 15;</span>

<span class="nc" id="L1534">        double start_a = 0.5;</span>
<span class="nc" id="L1535">        double end_a = 0.005;</span>
<span class="nc" id="L1536">        double a = start_a;</span>
<span class="nc" id="L1537">        double a_step = Math.pow(end_a / start_a, 1.0 / 30.0);</span>
<span class="nc" id="L1538">        double[] aa = new double[30];</span>
<span class="nc bnc" id="L1539" title="All 2 branches missed.">        for (int i = 0; i &lt; 30; i++) {</span>
<span class="nc" id="L1540">            aa[i] = a;</span>
<span class="nc" id="L1541">            a *= a_step;</span>
        }

<span class="nc" id="L1544">        aa[0] *= 0.8;</span>
<span class="nc" id="L1545">        aa[1] *= 0.9;</span>

<span class="nc" id="L1547">        double w = 5;</span>
<span class="nc bnc" id="L1548" title="All 2 branches missed.">        for (int i = 0; i &lt; 30; i++) {</span>
<span class="nc" id="L1549">            complexGaussianDist(data, base * (i + 1), 0.1 * w, aa[i] * w);</span>
<span class="nc" id="L1550">            w += 6; //*= w_step;</span>
        }

<span class="nc" id="L1553">        complexGaussianDist(data, base * 6, 300, 2);</span>


<span class="nc" id="L1556">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Brass Section&quot;, data, base);</span>
<span class="nc" id="L1557">        SF2Layer layer = newLayer(sf2, &quot;Brass Section&quot;, sample);</span>
<span class="nc" id="L1558">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1559">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1560">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -9200);</span>
<span class="nc" id="L1561">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L1562">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1563">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>

<span class="nc" id="L1565">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -3000);</span>
<span class="nc" id="L1566">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L1567">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, 5000);</span>
<span class="nc" id="L1568">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 4500);</span>
<span class="nc" id="L1569">        return layer;</span>

    }

    public static SF2Layer new_trombone(SF2Soundbank sf2) {
<span class="nc" id="L1574">        int x = 8;</span>
<span class="nc" id="L1575">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1576">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1577">        double base = x * 15;</span>

<span class="nc" id="L1579">        double start_a = 0.5;</span>
<span class="nc" id="L1580">        double end_a = 0.001;</span>
<span class="nc" id="L1581">        double a = start_a;</span>
<span class="nc" id="L1582">        double a_step = Math.pow(end_a / start_a, 1.0 / 80.0);</span>
<span class="nc" id="L1583">        double[] aa = new double[80];</span>
<span class="nc bnc" id="L1584" title="All 2 branches missed.">        for (int i = 0; i &lt; 80; i++) {</span>
<span class="nc" id="L1585">            aa[i] = a;</span>
<span class="nc" id="L1586">            a *= a_step;</span>
        }

<span class="nc" id="L1589">        aa[0] *= 0.3;</span>
<span class="nc" id="L1590">        aa[1] *= 0.7;</span>

<span class="nc bnc" id="L1592" title="All 2 branches missed.">        for (int i = 0; i &lt; 80; i++) {</span>
<span class="nc" id="L1593">            complexGaussianDist(data, base * (i + 1), 0.1, aa[i]);</span>
        }

<span class="nc" id="L1596">        complexGaussianDist(data, base * 6, 300, 2);</span>


<span class="nc" id="L1599">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Trombone&quot;, data, base);</span>
<span class="nc" id="L1600">        SF2Layer layer = newLayer(sf2, &quot;Trombone&quot;, sample);</span>
<span class="nc" id="L1601">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1602">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1603">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -8000);</span>
<span class="nc" id="L1604">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L1605">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1606">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>

<span class="nc" id="L1608">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -2000);</span>
<span class="nc" id="L1609">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L1610">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, 5000);</span>
<span class="nc" id="L1611">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 4500);</span>
<span class="nc" id="L1612">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERQ, 10);</span>
<span class="nc" id="L1613">        return layer;</span>

    }

    public static SF2Layer new_sax(SF2Soundbank sf2) {
<span class="nc" id="L1618">        int x = 8;</span>
<span class="nc" id="L1619">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1620">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1621">        double base = x * 15;</span>

<span class="nc" id="L1623">        double start_a = 0.5;</span>
<span class="nc" id="L1624">        double end_a = 0.01;</span>
<span class="nc" id="L1625">        double a = start_a;</span>
<span class="nc" id="L1626">        double a_step = Math.pow(end_a / start_a, 1.0 / 40.0);</span>
<span class="nc bnc" id="L1627" title="All 2 branches missed.">        for (int i = 0; i &lt; 40; i++) {</span>
<span class="nc bnc" id="L1628" title="All 4 branches missed.">            if (i == 0 || i == 2)</span>
<span class="nc" id="L1629">                complexGaussianDist(data, base * (i + 1), 0.1, a * 4);</span>
            else
<span class="nc" id="L1631">                complexGaussianDist(data, base * (i + 1), 0.1, a);</span>
<span class="nc" id="L1632">            a *= a_step;</span>
        }

<span class="nc" id="L1635">        complexGaussianDist(data, base * 4, 200, 1);</span>

<span class="nc" id="L1637">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Sax&quot;, data, base);</span>
<span class="nc" id="L1638">        SF2Layer layer = newLayer(sf2, &quot;Sax&quot;, sample);</span>
<span class="nc" id="L1639">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1640">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1641">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -6000);</span>
<span class="nc" id="L1642">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L1643">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1644">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>

<span class="nc" id="L1646">        region.putInteger(SF2Region.GENERATOR_ATTACKMODENV, -3000);</span>
<span class="nc" id="L1647">        region.putInteger(SF2Region.GENERATOR_RELEASEMODENV, 12000);</span>
<span class="nc" id="L1648">        region.putInteger(SF2Region.GENERATOR_MODENVTOFILTERFC, 5000);</span>
<span class="nc" id="L1649">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 4500);</span>
<span class="nc" id="L1650">        return layer;</span>

    }

    public static SF2Layer new_oboe(SF2Soundbank sf2) {
<span class="nc" id="L1655">        int x = 8;</span>
<span class="nc" id="L1656">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1657">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1658">        double base = x * 15;</span>

<span class="nc" id="L1660">        complexGaussianDist(data, base * 5, 100, 80);</span>


<span class="nc" id="L1663">        complexGaussianDist(data, base * 1, 0.01, 0.53);</span>
<span class="nc" id="L1664">        complexGaussianDist(data, base * 2, 0.01, 0.51);</span>
<span class="nc" id="L1665">        complexGaussianDist(data, base * 3, 0.01, 0.48);</span>
<span class="nc" id="L1666">        complexGaussianDist(data, base * 4, 0.01, 0.49);</span>
<span class="nc" id="L1667">        complexGaussianDist(data, base * 5, 0.01, 5);</span>
<span class="nc" id="L1668">        complexGaussianDist(data, base * 6, 0.01, 0.51);</span>
<span class="nc" id="L1669">        complexGaussianDist(data, base * 7, 0.01, 0.50);</span>
<span class="nc" id="L1670">        complexGaussianDist(data, base * 8, 0.01, 0.59);</span>
<span class="nc" id="L1671">        complexGaussianDist(data, base * 9, 0.01, 0.61);</span>
<span class="nc" id="L1672">        complexGaussianDist(data, base * 10, 0.01, 0.52);</span>
<span class="nc" id="L1673">        complexGaussianDist(data, base * 11, 0.01, 0.49);</span>
<span class="nc" id="L1674">        complexGaussianDist(data, base * 12, 0.01, 0.51);</span>
<span class="nc" id="L1675">        complexGaussianDist(data, base * 13, 0.01, 0.48);</span>
<span class="nc" id="L1676">        complexGaussianDist(data, base * 14, 0.01, 0.51);</span>
<span class="nc" id="L1677">        complexGaussianDist(data, base * 15, 0.01, 0.46);</span>
<span class="nc" id="L1678">        complexGaussianDist(data, base * 16, 0.01, 0.35);</span>
<span class="nc" id="L1679">        complexGaussianDist(data, base * 17, 0.01, 0.20);</span>
<span class="nc" id="L1680">        complexGaussianDist(data, base * 18, 0.01, 0.10);</span>
<span class="nc" id="L1681">        complexGaussianDist(data, base * 19, 0.01, 0.5);</span>
<span class="nc" id="L1682">        complexGaussianDist(data, base * 20, 0.01, 0.1);</span>


<span class="nc" id="L1685">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Oboe&quot;, data, base);</span>
<span class="nc" id="L1686">        SF2Layer layer = newLayer(sf2, &quot;Oboe&quot;, sample);</span>
<span class="nc" id="L1687">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1688">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1689">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -6000);</span>
<span class="nc" id="L1690">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L1691">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1692">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>
<span class="nc" id="L1693">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 9500);</span>
<span class="nc" id="L1694">        return layer;</span>

    }

    public static SF2Layer new_bassoon(SF2Soundbank sf2) {
<span class="nc" id="L1699">        int x = 8;</span>
<span class="nc" id="L1700">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1701">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1702">        double base = x * 15;</span>

<span class="nc" id="L1704">        complexGaussianDist(data, base * 2, 100, 40);</span>
<span class="nc" id="L1705">        complexGaussianDist(data, base * 4, 100, 20);</span>

<span class="nc" id="L1707">        complexGaussianDist(data, base * 1, 0.01, 0.53);</span>
<span class="nc" id="L1708">        complexGaussianDist(data, base * 2, 0.01, 5);</span>
<span class="nc" id="L1709">        complexGaussianDist(data, base * 3, 0.01, 0.51);</span>
<span class="nc" id="L1710">        complexGaussianDist(data, base * 4, 0.01, 0.48);</span>
<span class="nc" id="L1711">        complexGaussianDist(data, base * 5, 0.01, 1.49);</span>
<span class="nc" id="L1712">        complexGaussianDist(data, base * 6, 0.01, 0.51);</span>
<span class="nc" id="L1713">        complexGaussianDist(data, base * 7, 0.01, 0.50);</span>
<span class="nc" id="L1714">        complexGaussianDist(data, base * 8, 0.01, 0.59);</span>
<span class="nc" id="L1715">        complexGaussianDist(data, base * 9, 0.01, 0.61);</span>
<span class="nc" id="L1716">        complexGaussianDist(data, base * 10, 0.01, 0.52);</span>
<span class="nc" id="L1717">        complexGaussianDist(data, base * 11, 0.01, 0.49);</span>
<span class="nc" id="L1718">        complexGaussianDist(data, base * 12, 0.01, 0.51);</span>
<span class="nc" id="L1719">        complexGaussianDist(data, base * 13, 0.01, 0.48);</span>
<span class="nc" id="L1720">        complexGaussianDist(data, base * 14, 0.01, 0.51);</span>
<span class="nc" id="L1721">        complexGaussianDist(data, base * 15, 0.01, 0.46);</span>
<span class="nc" id="L1722">        complexGaussianDist(data, base * 16, 0.01, 0.35);</span>
<span class="nc" id="L1723">        complexGaussianDist(data, base * 17, 0.01, 0.20);</span>
<span class="nc" id="L1724">        complexGaussianDist(data, base * 18, 0.01, 0.10);</span>
<span class="nc" id="L1725">        complexGaussianDist(data, base * 19, 0.01, 0.5);</span>
<span class="nc" id="L1726">        complexGaussianDist(data, base * 20, 0.01, 0.1);</span>


<span class="nc" id="L1729">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Flute&quot;, data, base);</span>
<span class="nc" id="L1730">        SF2Layer layer = newLayer(sf2, &quot;Flute&quot;, sample);</span>
<span class="nc" id="L1731">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1732">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1733">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -6000);</span>
<span class="nc" id="L1734">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L1735">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1736">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>
<span class="nc" id="L1737">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 9500);</span>
<span class="nc" id="L1738">        return layer;</span>

    }

    public static SF2Layer new_clarinet(SF2Soundbank sf2) {
<span class="nc" id="L1743">        int x = 8;</span>
<span class="nc" id="L1744">        int fftsize = 4096 * x;</span>
<span class="nc" id="L1745">        double[] data = new double[fftsize * 2];</span>
<span class="nc" id="L1746">        double base = x * 15;</span>

<span class="nc" id="L1748">        complexGaussianDist(data, base * 1, 0.001, 0.5);</span>
<span class="nc" id="L1749">        complexGaussianDist(data, base * 2, 0.001, 0.02);</span>
<span class="nc" id="L1750">        complexGaussianDist(data, base * 3, 0.001, 0.2);</span>
<span class="nc" id="L1751">        complexGaussianDist(data, base * 4, 0.01, 0.1);</span>

<span class="nc" id="L1753">        complexGaussianDist(data, base * 4, 100, 60);</span>
<span class="nc" id="L1754">        complexGaussianDist(data, base * 6, 100, 20);</span>
<span class="nc" id="L1755">        complexGaussianDist(data, base * 8, 100, 20);</span>

<span class="nc" id="L1757">        complexGaussianDist(data, base * 5, 0.001, 0.1);</span>
<span class="nc" id="L1758">        complexGaussianDist(data, base * 6, 0.001, 0.09);</span>
<span class="nc" id="L1759">        complexGaussianDist(data, base * 7, 0.001, 0.02);</span>
<span class="nc" id="L1760">        complexGaussianDist(data, base * 8, 0.005, 0.16);</span>
<span class="nc" id="L1761">        complexGaussianDist(data, base * 9, 0.005, 0.96);</span>
<span class="nc" id="L1762">        complexGaussianDist(data, base * 10, 0.01, 0.9);</span>
<span class="nc" id="L1763">        complexGaussianDist(data, base * 11, 0.08, 1.2);</span>
<span class="nc" id="L1764">        complexGaussianDist(data, base * 12, 0.08, 1.8);</span>
<span class="nc" id="L1765">        complexGaussianDist(data, base * 13, 0.08, 1.6);</span>
<span class="nc" id="L1766">        complexGaussianDist(data, base * 14, 0.08, 1.2);</span>
<span class="nc" id="L1767">        complexGaussianDist(data, base * 15, 0.08, 0.9);</span>
<span class="nc" id="L1768">        complexGaussianDist(data, base * 16, 0.08, 0.5);</span>
<span class="nc" id="L1769">        complexGaussianDist(data, base * 17, 0.08, 0.2);</span>


<span class="nc" id="L1772">        complexGaussianDist(data, base * 1, 10, 8);</span>
<span class="nc" id="L1773">        complexGaussianDist(data, base * 2, 10, 8);</span>
<span class="nc" id="L1774">        complexGaussianDist(data, base * 3, 10, 8);</span>
<span class="nc" id="L1775">        complexGaussianDist(data, base * 4, 10, 8);</span>
<span class="nc" id="L1776">        complexGaussianDist(data, base * 5, 10, 8);</span>
<span class="nc" id="L1777">        complexGaussianDist(data, base * 6, 20, 9);</span>
<span class="nc" id="L1778">        complexGaussianDist(data, base * 7, 20, 9);</span>
<span class="nc" id="L1779">        complexGaussianDist(data, base * 8, 20, 9);</span>
<span class="nc" id="L1780">        complexGaussianDist(data, base * 9, 20, 8);</span>
<span class="nc" id="L1781">        complexGaussianDist(data, base * 10, 30, 8);</span>
<span class="nc" id="L1782">        complexGaussianDist(data, base * 11, 30, 9);</span>
<span class="nc" id="L1783">        complexGaussianDist(data, base * 12, 30, 9);</span>
<span class="nc" id="L1784">        complexGaussianDist(data, base * 13, 30, 8);</span>
<span class="nc" id="L1785">        complexGaussianDist(data, base * 14, 30, 8);</span>
<span class="nc" id="L1786">        complexGaussianDist(data, base * 15, 30, 7);</span>
<span class="nc" id="L1787">        complexGaussianDist(data, base * 16, 30, 7);</span>
<span class="nc" id="L1788">        complexGaussianDist(data, base * 17, 30, 6);</span>

<span class="nc" id="L1790">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Clarinet&quot;, data, base);</span>
<span class="nc" id="L1791">        SF2Layer layer = newLayer(sf2, &quot;Clarinet&quot;, sample);</span>
<span class="nc" id="L1792">        SF2Region region = layer.getRegions().get(0);</span>
<span class="nc" id="L1793">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L1794">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -6000);</span>
<span class="nc" id="L1795">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L1796">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 4000);</span>
<span class="nc" id="L1797">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, -100);</span>
<span class="nc" id="L1798">        region.putInteger(SF2Region.GENERATOR_INITIALFILTERFC, 9500);</span>
<span class="nc" id="L1799">        return layer;</span>

    }

    public static SF2Layer new_timpani(SF2Soundbank sf2) {

        double datab[];
        double datah[];

        // Make Bass Part
        {
<span class="nc" id="L1810">            int fftlen = 4096 * 8;</span>
<span class="nc" id="L1811">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L1812">            double base = 48;</span>
<span class="nc" id="L1813">            complexGaussianDist(data, base * 2, 0.2, 1);</span>
<span class="nc" id="L1814">            complexGaussianDist(data, base * 3, 0.2, 0.7);</span>
<span class="nc" id="L1815">            complexGaussianDist(data, base * 5, 10, 1);</span>
<span class="nc" id="L1816">            complexGaussianDist(data, base * 6, 9, 1);</span>
<span class="nc" id="L1817">            complexGaussianDist(data, base * 8, 15, 1);</span>
<span class="nc" id="L1818">            complexGaussianDist(data, base * 9, 18, 0.8);</span>
<span class="nc" id="L1819">            complexGaussianDist(data, base * 11, 21, 0.5);</span>
<span class="nc" id="L1820">            complexGaussianDist(data, base * 13, 28, 0.3);</span>
<span class="nc" id="L1821">            complexGaussianDist(data, base * 14, 22, 0.1);</span>
<span class="nc" id="L1822">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L1823">            ifft(data);</span>
<span class="nc" id="L1824">            normalize(data, 0.5);</span>
<span class="nc" id="L1825">            data = realPart(data);</span>

<span class="nc" id="L1827">            double d_len = data.length;</span>
<span class="nc bnc" id="L1828" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L1829">                double g = (1.0 - (i / d_len));</span>
<span class="nc" id="L1830">                data[i] *= g * g;</span>
            }
<span class="nc" id="L1832">            fadeUp(data, 40);</span>
<span class="nc" id="L1833">            datab = data;</span>
        }

        // Make treble part
        {
<span class="nc" id="L1838">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L1839">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L1840">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L1841" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2) {</span>
<span class="nc" id="L1842">                data[i] = (2.0 * (random.nextDouble() - 0.5)) * 0.1;</span>
            }
<span class="nc" id="L1844">            fft(data);</span>
            // Remove all negative frequency
<span class="nc bnc" id="L1846" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L1847">                data[i] = 0;</span>
<span class="nc bnc" id="L1848" title="All 2 branches missed.">            for (int i = 1024 * 4; i &lt; 2048 * 4; i++)</span>
<span class="nc" id="L1849">                data[i] = 1.0 - (i - 4096) / 4096.0;</span>
<span class="nc bnc" id="L1850" title="All 2 branches missed.">            for (int i = 0; i &lt; 300; i++) {</span>
<span class="nc" id="L1851">                double g = (1.0 - (i / 300.0));</span>
<span class="nc" id="L1852">                data[i] *= 1.0 + 20 * g * g;</span>
            }
<span class="nc bnc" id="L1854" title="All 2 branches missed.">            for (int i = 0; i &lt; 24; i++)</span>
<span class="nc" id="L1855">                data[i] = 0;</span>
<span class="nc" id="L1856">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L1857">            ifft(data);</span>
<span class="nc" id="L1858">            normalize(data, 0.9);</span>
<span class="nc" id="L1859">            data = realPart(data);</span>
<span class="nc" id="L1860">            double gain = 1.0;</span>
<span class="nc bnc" id="L1861" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L1862">                data[i] *= gain;</span>
<span class="nc" id="L1863">                gain *= 0.9998;</span>
            }
<span class="nc" id="L1865">            datah = data;</span>
        }

<span class="nc bnc" id="L1868" title="All 2 branches missed.">        for (int i = 0; i &lt; datah.length; i++)</span>
<span class="nc" id="L1869">            datab[i] += datah[i] * 0.02;</span>

<span class="nc" id="L1871">        normalize(datab, 0.9);</span>

<span class="nc" id="L1873">        SF2Sample sample = newSimpleDrumSample(sf2, &quot;Timpani&quot;, datab);</span>

<span class="nc" id="L1875">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L1876">        layer.setName(&quot;Timpani&quot;);</span>

<span class="nc" id="L1878">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L1879">        layer.setGlobalZone(global);</span>
<span class="nc" id="L1880">        sf2.addResource(layer);</span>

<span class="nc" id="L1882">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L1883">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 12000);</span>
<span class="nc" id="L1884">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);</span>
<span class="nc" id="L1885">        region.setSample(sample);</span>
<span class="nc" id="L1886">        layer.getRegions().add(region);</span>

<span class="nc" id="L1888">        return layer;</span>
    }

    public static SF2Layer new_melodic_toms(SF2Soundbank sf2) {

        double datab[];
        double datah[];

        // Make Bass Part
        {
<span class="nc" id="L1898">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L1899">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L1900">            complexGaussianDist(data, 30, 0.5, 1);</span>
<span class="nc" id="L1901">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L1902">            ifft(data);</span>
<span class="nc" id="L1903">            normalize(data, 0.8);</span>
<span class="nc" id="L1904">            data = realPart(data);</span>

<span class="nc" id="L1906">            double d_len = data.length;</span>
<span class="nc bnc" id="L1907" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++)</span>
<span class="nc" id="L1908">                data[i] *= (1.0 - (i / d_len));</span>
<span class="nc" id="L1909">            datab = data;</span>
        }

        // Make treble part
        {
<span class="nc" id="L1914">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L1915">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L1916">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L1917" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L1918">                data[i] = (2.0 * (random.nextDouble() - 0.5)) * 0.1;</span>
<span class="nc" id="L1919">            fft(data);</span>
            // Remove all negative frequency
<span class="nc bnc" id="L1921" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L1922">                data[i] = 0;</span>
<span class="nc bnc" id="L1923" title="All 2 branches missed.">            for (int i = 1024 * 4; i &lt; 2048 * 4; i++)</span>
<span class="nc" id="L1924">                data[i] = 1.0 - (i - 4096) / 4096.0;</span>
<span class="nc bnc" id="L1925" title="All 2 branches missed.">            for (int i = 0; i &lt; 200; i++) {</span>
<span class="nc" id="L1926">                double g = (1.0 - (i / 200.0));</span>
<span class="nc" id="L1927">                data[i] *= 1.0 + 20 * g * g;</span>
            }
<span class="nc bnc" id="L1929" title="All 2 branches missed.">            for (int i = 0; i &lt; 30; i++)</span>
<span class="nc" id="L1930">                data[i] = 0;</span>
<span class="nc" id="L1931">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L1932">            ifft(data);</span>
<span class="nc" id="L1933">            normalize(data, 0.9);</span>
<span class="nc" id="L1934">            data = realPart(data);</span>
<span class="nc" id="L1935">            double gain = 1.0;</span>
<span class="nc bnc" id="L1936" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L1937">                data[i] *= gain;</span>
<span class="nc" id="L1938">                gain *= 0.9996;</span>
            }
<span class="nc" id="L1940">            datah = data;</span>
        }

<span class="nc bnc" id="L1943" title="All 2 branches missed.">        for (int i = 0; i &lt; datah.length; i++)</span>
<span class="nc" id="L1944">            datab[i] += datah[i] * 0.5;</span>
<span class="nc bnc" id="L1945" title="All 2 branches missed.">        for (int i = 0; i &lt; 5; i++)</span>
<span class="nc" id="L1946">            datab[i] *= i / 5.0;</span>

<span class="nc" id="L1948">        normalize(datab, 0.99);</span>

<span class="nc" id="L1950">        SF2Sample sample = newSimpleDrumSample(sf2, &quot;Melodic Toms&quot;, datab);</span>
<span class="nc" id="L1951">        sample.setOriginalPitch(63);</span>

<span class="nc" id="L1953">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L1954">        layer.setName(&quot;Melodic Toms&quot;);</span>

<span class="nc" id="L1956">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L1957">        layer.setGlobalZone(global);</span>
<span class="nc" id="L1958">        sf2.addResource(layer);</span>

<span class="nc" id="L1960">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L1961">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 12000);</span>
        //region.putInteger(SF2Region.GENERATOR_SCALETUNING, 0);
<span class="nc" id="L1963">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);</span>
<span class="nc" id="L1964">        region.setSample(sample);</span>
<span class="nc" id="L1965">        layer.getRegions().add(region);</span>

<span class="nc" id="L1967">        return layer;</span>
    }

    public static SF2Layer new_reverse_cymbal(SF2Soundbank sf2) {
        double datah[];
        {
<span class="nc" id="L1973">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L1974">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L1975">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L1976" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L1977">                data[i] = (2.0 * (random.nextDouble() - 0.5));</span>
<span class="nc bnc" id="L1978" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L1979">                data[i] = 0;</span>
<span class="nc bnc" id="L1980" title="All 2 branches missed.">            for (int i = 0; i &lt; 100; i++)</span>
<span class="nc" id="L1981">                data[i] = 0;</span>

<span class="nc bnc" id="L1983" title="All 2 branches missed.">            for (int i = 0; i &lt; 512 * 2; i++) {</span>
<span class="nc" id="L1984">                double gain = (i / (512.0 * 2.0));</span>
<span class="nc" id="L1985">                data[i] = 1 - gain;</span>
            }
<span class="nc" id="L1987">            datah = data;</span>
        }

<span class="nc" id="L1990">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Reverse Cymbal&quot;,</span>
                datah, 100, 20);

<span class="nc" id="L1993">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L1994">        layer.setName(&quot;Reverse Cymbal&quot;);</span>

<span class="nc" id="L1996">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L1997">        layer.setGlobalZone(global);</span>
<span class="nc" id="L1998">        sf2.addResource(layer);</span>

<span class="nc" id="L2000">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L2001">        region.putInteger(SF2Region.GENERATOR_ATTACKVOLENV, -200);</span>
<span class="nc" id="L2002">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, -12000);</span>
<span class="nc" id="L2003">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L2004">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, -1000);</span>
<span class="nc" id="L2005">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L2006">        region.setSample(sample);</span>
<span class="nc" id="L2007">        layer.getRegions().add(region);</span>

<span class="nc" id="L2009">        return layer;</span>
    }

    public static SF2Layer new_snare_drum(SF2Soundbank sf2) {

        double datab[];
        double datah[];

        // Make Bass Part
        {
<span class="nc" id="L2019">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L2020">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L2021">            complexGaussianDist(data, 24, 0.5, 1);</span>
<span class="nc" id="L2022">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L2023">            ifft(data);</span>
<span class="nc" id="L2024">            normalize(data, 0.5);</span>
<span class="nc" id="L2025">            data = realPart(data);</span>

<span class="nc" id="L2027">            double d_len = data.length;</span>
<span class="nc bnc" id="L2028" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++)</span>
<span class="nc" id="L2029">                data[i] *= (1.0 - (i / d_len));</span>
<span class="nc" id="L2030">            datab = data;</span>
        }

        // Make treble part
        {
<span class="nc" id="L2035">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L2036">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L2037">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L2038" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L2039">                data[i] = (2.0 * (random.nextDouble() - 0.5)) * 0.1;</span>
<span class="nc" id="L2040">            fft(data);</span>
            // Remove all negative frequency
<span class="nc bnc" id="L2042" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L2043">                data[i] = 0;</span>
<span class="nc bnc" id="L2044" title="All 2 branches missed.">            for (int i = 1024 * 4; i &lt; 2048 * 4; i++)</span>
<span class="nc" id="L2045">                data[i] = 1.0 - (i - 4096) / 4096.0;</span>
<span class="nc bnc" id="L2046" title="All 2 branches missed.">            for (int i = 0; i &lt; 300; i++) {</span>
<span class="nc" id="L2047">                double g = (1.0 - (i / 300.0));</span>
<span class="nc" id="L2048">                data[i] *= 1.0 + 20 * g * g;</span>
            }
<span class="nc bnc" id="L2050" title="All 2 branches missed.">            for (int i = 0; i &lt; 24; i++)</span>
<span class="nc" id="L2051">                data[i] = 0;</span>
<span class="nc" id="L2052">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L2053">            ifft(data);</span>
<span class="nc" id="L2054">            normalize(data, 0.9);</span>
<span class="nc" id="L2055">            data = realPart(data);</span>
<span class="nc" id="L2056">            double gain = 1.0;</span>
<span class="nc bnc" id="L2057" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L2058">                data[i] *= gain;</span>
<span class="nc" id="L2059">                gain *= 0.9998;</span>
            }
<span class="nc" id="L2061">            datah = data;</span>
        }

<span class="nc bnc" id="L2064" title="All 2 branches missed.">        for (int i = 0; i &lt; datah.length; i++)</span>
<span class="nc" id="L2065">            datab[i] += datah[i];</span>
<span class="nc bnc" id="L2066" title="All 2 branches missed.">        for (int i = 0; i &lt; 5; i++)</span>
<span class="nc" id="L2067">            datab[i] *= i / 5.0;</span>

<span class="nc" id="L2069">        SF2Sample sample = newSimpleDrumSample(sf2, &quot;Snare Drum&quot;, datab);</span>

<span class="nc" id="L2071">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L2072">        layer.setName(&quot;Snare Drum&quot;);</span>

<span class="nc" id="L2074">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L2075">        layer.setGlobalZone(global);</span>
<span class="nc" id="L2076">        sf2.addResource(layer);</span>

<span class="nc" id="L2078">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L2079">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 12000);</span>
<span class="nc" id="L2080">        region.putInteger(SF2Region.GENERATOR_SCALETUNING, 0);</span>
<span class="nc" id="L2081">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);</span>
<span class="nc" id="L2082">        region.setSample(sample);</span>
<span class="nc" id="L2083">        layer.getRegions().add(region);</span>

<span class="nc" id="L2085">        return layer;</span>
    }

    public static SF2Layer new_bass_drum(SF2Soundbank sf2) {

        double datab[];
        double datah[];

        // Make Bass Part
        {
<span class="nc" id="L2095">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L2096">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L2097">            complexGaussianDist(data, 1.8 * 5 + 1, 2, 1);</span>
<span class="nc" id="L2098">            complexGaussianDist(data, 1.8 * 9 + 1, 2, 1);</span>
<span class="nc" id="L2099">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L2100">            ifft(data);</span>
<span class="nc" id="L2101">            normalize(data, 0.9);</span>
<span class="nc" id="L2102">            data = realPart(data);</span>
<span class="nc" id="L2103">            double d_len = data.length;</span>
<span class="nc bnc" id="L2104" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++)</span>
<span class="nc" id="L2105">                data[i] *= (1.0 - (i / d_len));</span>
<span class="nc" id="L2106">            datab = data;</span>
        }

        // Make treble part
        {
<span class="nc" id="L2111">            int fftlen = 4096;</span>
<span class="nc" id="L2112">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L2113">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L2114" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L2115">                data[i] = (2.0 * (random.nextDouble() - 0.5)) * 0.1;</span>
<span class="nc" id="L2116">            fft(data);</span>
            // Remove all negative frequency
<span class="nc bnc" id="L2118" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L2119">                data[i] = 0;</span>
<span class="nc bnc" id="L2120" title="All 2 branches missed.">            for (int i = 1024; i &lt; 2048; i++)</span>
<span class="nc" id="L2121">                data[i] = 1.0 - (i - 1024) / 1024.0;</span>
<span class="nc bnc" id="L2122" title="All 2 branches missed.">            for (int i = 0; i &lt; 512; i++)</span>
<span class="nc" id="L2123">                data[i] = 10 * i / 512.0;</span>
<span class="nc bnc" id="L2124" title="All 2 branches missed.">            for (int i = 0; i &lt; 10; i++)</span>
<span class="nc" id="L2125">                data[i] = 0;</span>
<span class="nc" id="L2126">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L2127">            ifft(data);</span>
<span class="nc" id="L2128">            normalize(data, 0.9);</span>
<span class="nc" id="L2129">            data = realPart(data);</span>
<span class="nc" id="L2130">            double gain = 1.0;</span>
<span class="nc bnc" id="L2131" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L2132">                data[i] *= gain;</span>
<span class="nc" id="L2133">                gain *= 0.999;</span>
            }
<span class="nc" id="L2135">            datah = data;</span>
        }

<span class="nc bnc" id="L2138" title="All 2 branches missed.">        for (int i = 0; i &lt; datah.length; i++)</span>
<span class="nc" id="L2139">            datab[i] += datah[i] * 0.5;</span>
<span class="nc bnc" id="L2140" title="All 2 branches missed.">        for (int i = 0; i &lt; 5; i++)</span>
<span class="nc" id="L2141">            datab[i] *= i / 5.0;</span>

<span class="nc" id="L2143">        SF2Sample sample = newSimpleDrumSample(sf2, &quot;Bass Drum&quot;, datab);</span>

<span class="nc" id="L2145">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L2146">        layer.setName(&quot;Bass Drum&quot;);</span>

<span class="nc" id="L2148">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L2149">        layer.setGlobalZone(global);</span>
<span class="nc" id="L2150">        sf2.addResource(layer);</span>

<span class="nc" id="L2152">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L2153">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 12000);</span>
<span class="nc" id="L2154">        region.putInteger(SF2Region.GENERATOR_SCALETUNING, 0);</span>
<span class="nc" id="L2155">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);</span>
<span class="nc" id="L2156">        region.setSample(sample);</span>
<span class="nc" id="L2157">        layer.getRegions().add(region);</span>

<span class="nc" id="L2159">        return layer;</span>
    }

    public static SF2Layer new_tom(SF2Soundbank sf2) {

        double datab[];
        double datah[];

        // Make Bass Part
        {
<span class="nc" id="L2169">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L2170">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L2171">            complexGaussianDist(data, 30, 0.5, 1);</span>
<span class="nc" id="L2172">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L2173">            ifft(data);</span>
<span class="nc" id="L2174">            normalize(data, 0.8);</span>
<span class="nc" id="L2175">            data = realPart(data);</span>

<span class="nc" id="L2177">            double d_len = data.length;</span>
<span class="nc bnc" id="L2178" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++)</span>
<span class="nc" id="L2179">                data[i] *= (1.0 - (i / d_len));</span>
<span class="nc" id="L2180">            datab = data;</span>
        }

        // Make treble part
        {
<span class="nc" id="L2185">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L2186">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L2187">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L2188" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L2189">                data[i] = (2.0 * (random.nextDouble() - 0.5)) * 0.1;</span>
<span class="nc" id="L2190">            fft(data);</span>
            // Remove all negative frequency
<span class="nc bnc" id="L2192" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L2193">                data[i] = 0;</span>
<span class="nc bnc" id="L2194" title="All 2 branches missed.">            for (int i = 1024 * 4; i &lt; 2048 * 4; i++)</span>
<span class="nc" id="L2195">                data[i] = 1.0 - (i - 4096) / 4096.0;</span>
<span class="nc bnc" id="L2196" title="All 2 branches missed.">            for (int i = 0; i &lt; 200; i++) {</span>
<span class="nc" id="L2197">                double g = (1.0 - (i / 200.0));</span>
<span class="nc" id="L2198">                data[i] *= 1.0 + 20 * g * g;</span>
            }
<span class="nc bnc" id="L2200" title="All 2 branches missed.">            for (int i = 0; i &lt; 30; i++)</span>
<span class="nc" id="L2201">                data[i] = 0;</span>
<span class="nc" id="L2202">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L2203">            ifft(data);</span>
<span class="nc" id="L2204">            normalize(data, 0.9);</span>
<span class="nc" id="L2205">            data = realPart(data);</span>
<span class="nc" id="L2206">            double gain = 1.0;</span>
<span class="nc bnc" id="L2207" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L2208">                data[i] *= gain;</span>
<span class="nc" id="L2209">                gain *= 0.9996;</span>
            }
<span class="nc" id="L2211">            datah = data;</span>
        }

<span class="nc bnc" id="L2214" title="All 2 branches missed.">        for (int i = 0; i &lt; datah.length; i++)</span>
<span class="nc" id="L2215">            datab[i] += datah[i] * 0.5;</span>
<span class="nc bnc" id="L2216" title="All 2 branches missed.">        for (int i = 0; i &lt; 5; i++)</span>
<span class="nc" id="L2217">            datab[i] *= i / 5.0;</span>

<span class="nc" id="L2219">        normalize(datab, 0.99);</span>

<span class="nc" id="L2221">        SF2Sample sample = newSimpleDrumSample(sf2, &quot;Tom&quot;, datab);</span>
<span class="nc" id="L2222">        sample.setOriginalPitch(50);</span>

<span class="nc" id="L2224">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L2225">        layer.setName(&quot;Tom&quot;);</span>

<span class="nc" id="L2227">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L2228">        layer.setGlobalZone(global);</span>
<span class="nc" id="L2229">        sf2.addResource(layer);</span>

<span class="nc" id="L2231">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L2232">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 12000);</span>
        //region.putInteger(SF2Region.GENERATOR_SCALETUNING, 0);
<span class="nc" id="L2234">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -100);</span>
<span class="nc" id="L2235">        region.setSample(sample);</span>
<span class="nc" id="L2236">        layer.getRegions().add(region);</span>

<span class="nc" id="L2238">        return layer;</span>
    }

    public static SF2Layer new_closed_hihat(SF2Soundbank sf2) {
        double datah[];

        // Make treble part
        {
<span class="nc" id="L2246">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L2247">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L2248">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L2249" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L2250">                data[i] = (2.0 * (random.nextDouble() - 0.5)) * 0.1;</span>
<span class="nc" id="L2251">            fft(data);</span>
            // Remove all negative frequency
<span class="nc bnc" id="L2253" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L2254">                data[i] = 0;</span>
<span class="nc bnc" id="L2255" title="All 2 branches missed.">            for (int i = 1024 * 4; i &lt; 2048 * 4; i++)</span>
<span class="nc" id="L2256">                data[i] = 1.0 - (i - 4096) / 4096.0;</span>
<span class="nc bnc" id="L2257" title="All 2 branches missed.">            for (int i = 0; i &lt; 2048; i++)</span>
<span class="nc" id="L2258">                data[i] = 0.2 + 0.8 * (i / 2048.0);</span>
<span class="nc" id="L2259">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L2260">            ifft(data);</span>
<span class="nc" id="L2261">            normalize(data, 0.9);</span>
<span class="nc" id="L2262">            data = realPart(data);</span>
<span class="nc" id="L2263">            double gain = 1.0;</span>
<span class="nc bnc" id="L2264" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L2265">                data[i] *= gain;</span>
<span class="nc" id="L2266">                gain *= 0.9996;</span>
            }
<span class="nc" id="L2268">            datah = data;</span>
        }

<span class="nc bnc" id="L2271" title="All 2 branches missed.">        for (int i = 0; i &lt; 5; i++)</span>
<span class="nc" id="L2272">            datah[i] *= i / 5.0;</span>
<span class="nc" id="L2273">        SF2Sample sample = newSimpleDrumSample(sf2, &quot;Closed Hi-Hat&quot;, datah);</span>

<span class="nc" id="L2275">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L2276">        layer.setName(&quot;Closed Hi-Hat&quot;);</span>

<span class="nc" id="L2278">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L2279">        layer.setGlobalZone(global);</span>
<span class="nc" id="L2280">        sf2.addResource(layer);</span>

<span class="nc" id="L2282">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L2283">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 12000);</span>
<span class="nc" id="L2284">        region.putInteger(SF2Region.GENERATOR_SCALETUNING, 0);</span>
<span class="nc" id="L2285">        region.putInteger(SF2Region.GENERATOR_EXCLUSIVECLASS, 1);</span>
<span class="nc" id="L2286">        region.setSample(sample);</span>
<span class="nc" id="L2287">        layer.getRegions().add(region);</span>

<span class="nc" id="L2289">        return layer;</span>
    }

    public static SF2Layer new_open_hihat(SF2Soundbank sf2) {
        double datah[];
        {
<span class="nc" id="L2295">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L2296">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L2297">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L2298" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L2299">                data[i] = (2.0 * (random.nextDouble() - 0.5));</span>
<span class="nc bnc" id="L2300" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L2301">                data[i] = 0;</span>
<span class="nc bnc" id="L2302" title="All 2 branches missed.">            for (int i = 0; i &lt; 200; i++)</span>
<span class="nc" id="L2303">                data[i] = 0;</span>
<span class="nc bnc" id="L2304" title="All 2 branches missed.">            for (int i = 0; i &lt; 2048 * 4; i++) {</span>
<span class="nc" id="L2305">                double gain = (i / (2048.0 * 4.0));</span>
<span class="nc" id="L2306">                data[i] = gain;</span>
            }
<span class="nc" id="L2308">            datah = data;</span>
        }

<span class="nc" id="L2311">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Open Hi-Hat&quot;, datah, 1000, 5);</span>

<span class="nc" id="L2313">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L2314">        layer.setName(&quot;Open Hi-Hat&quot;);</span>

<span class="nc" id="L2316">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L2317">        layer.setGlobalZone(global);</span>
<span class="nc" id="L2318">        sf2.addResource(layer);</span>

<span class="nc" id="L2320">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L2321">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 1500);</span>
<span class="nc" id="L2322">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L2323">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 1500);</span>
<span class="nc" id="L2324">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L2325">        region.putInteger(SF2Region.GENERATOR_SCALETUNING, 0);</span>
<span class="nc" id="L2326">        region.putInteger(SF2Region.GENERATOR_EXCLUSIVECLASS, 1);</span>
<span class="nc" id="L2327">        region.setSample(sample);</span>
<span class="nc" id="L2328">        layer.getRegions().add(region);</span>

<span class="nc" id="L2330">        return layer;</span>
    }

    public static SF2Layer new_crash_cymbal(SF2Soundbank sf2) {
        double datah[];
        {
<span class="nc" id="L2336">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L2337">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L2338">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L2339" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L2340">                data[i] = (2.0 * (random.nextDouble() - 0.5));</span>
<span class="nc bnc" id="L2341" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L2342">                data[i] = 0;</span>
<span class="nc bnc" id="L2343" title="All 2 branches missed.">            for (int i = 0; i &lt; 100; i++)</span>
<span class="nc" id="L2344">                data[i] = 0;</span>
<span class="nc bnc" id="L2345" title="All 2 branches missed.">            for (int i = 0; i &lt; 512 * 2; i++) {</span>
<span class="nc" id="L2346">                double gain = (i / (512.0 * 2.0));</span>
<span class="nc" id="L2347">                data[i] = gain;</span>
            }
<span class="nc" id="L2349">            datah = data;</span>
        }

<span class="nc" id="L2352">        SF2Sample sample = newSimpleFFTSample(sf2, &quot;Crash Cymbal&quot;, datah, 1000, 5);</span>

<span class="nc" id="L2354">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L2355">        layer.setName(&quot;Crash Cymbal&quot;);</span>

<span class="nc" id="L2357">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L2358">        layer.setGlobalZone(global);</span>
<span class="nc" id="L2359">        sf2.addResource(layer);</span>

<span class="nc" id="L2361">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L2362">        region.putInteger(SF2Region.GENERATOR_DECAYVOLENV, 1800);</span>
<span class="nc" id="L2363">        region.putInteger(SF2Region.GENERATOR_SAMPLEMODES, 1);</span>
<span class="nc" id="L2364">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 1800);</span>
<span class="nc" id="L2365">        region.putInteger(SF2Region.GENERATOR_SUSTAINVOLENV, 1000);</span>
<span class="nc" id="L2366">        region.putInteger(SF2Region.GENERATOR_SCALETUNING, 0);</span>
<span class="nc" id="L2367">        region.setSample(sample);</span>
<span class="nc" id="L2368">        layer.getRegions().add(region);</span>

<span class="nc" id="L2370">        return layer;</span>
    }

    public static SF2Layer new_side_stick(SF2Soundbank sf2) {
        double datab[];

        // Make treble part
        {
<span class="nc" id="L2378">            int fftlen = 4096 * 4;</span>
<span class="nc" id="L2379">            double[] data = new double[2 * fftlen];</span>
<span class="nc" id="L2380">            Random random = new Random(3049912);</span>
<span class="nc bnc" id="L2381" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i += 2)</span>
<span class="nc" id="L2382">                data[i] = (2.0 * (random.nextDouble() - 0.5)) * 0.1;</span>
<span class="nc" id="L2383">            fft(data);</span>
            // Remove all negative frequency
<span class="nc bnc" id="L2385" title="All 2 branches missed.">            for (int i = fftlen / 2; i &lt; data.length; i++)</span>
<span class="nc" id="L2386">                data[i] = 0;</span>
<span class="nc bnc" id="L2387" title="All 2 branches missed.">            for (int i = 1024 * 4; i &lt; 2048 * 4; i++)</span>
<span class="nc" id="L2388">                data[i] = 1.0 - (i - 4096) / 4096.0;</span>
<span class="nc bnc" id="L2389" title="All 2 branches missed.">            for (int i = 0; i &lt; 200; i++) {</span>
<span class="nc" id="L2390">                double g = (1.0 - (i / 200.0));</span>
<span class="nc" id="L2391">                data[i] *= 1.0 + 20 * g * g;</span>
            }
<span class="nc bnc" id="L2393" title="All 2 branches missed.">            for (int i = 0; i &lt; 30; i++)</span>
<span class="nc" id="L2394">                data[i] = 0;</span>
<span class="nc" id="L2395">            randomPhase(data, new Random(3049912));</span>
<span class="nc" id="L2396">            ifft(data);</span>
<span class="nc" id="L2397">            normalize(data, 0.9);</span>
<span class="nc" id="L2398">            data = realPart(data);</span>
<span class="nc" id="L2399">            double gain = 1.0;</span>
<span class="nc bnc" id="L2400" title="All 2 branches missed.">            for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L2401">                data[i] *= gain;</span>
<span class="nc" id="L2402">                gain *= 0.9996;</span>
            }
<span class="nc" id="L2404">            datab = data;</span>
        }

<span class="nc bnc" id="L2407" title="All 2 branches missed.">        for (int i = 0; i &lt; 10; i++)</span>
<span class="nc" id="L2408">            datab[i] *= i / 10.0;</span>

<span class="nc" id="L2410">        SF2Sample sample = newSimpleDrumSample(sf2, &quot;Side Stick&quot;, datab);</span>

<span class="nc" id="L2412">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L2413">        layer.setName(&quot;Side Stick&quot;);</span>

<span class="nc" id="L2415">        SF2GlobalRegion global = new SF2GlobalRegion();</span>
<span class="nc" id="L2416">        layer.setGlobalZone(global);</span>
<span class="nc" id="L2417">        sf2.addResource(layer);</span>

<span class="nc" id="L2419">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L2420">        region.putInteger(SF2Region.GENERATOR_RELEASEVOLENV, 12000);</span>
<span class="nc" id="L2421">        region.putInteger(SF2Region.GENERATOR_SCALETUNING, 0);</span>
<span class="nc" id="L2422">        region.putInteger(SF2Region.GENERATOR_INITIALATTENUATION, -50);</span>
<span class="nc" id="L2423">        region.setSample(sample);</span>
<span class="nc" id="L2424">        layer.getRegions().add(region);</span>

<span class="nc" id="L2426">        return layer;</span>

    }

    public static SF2Sample newSimpleFFTSample(SF2Soundbank sf2, String name,
            double[] data, double base) {
<span class="nc" id="L2432">        return newSimpleFFTSample(sf2, name, data, base, 10);</span>
    }

    public static SF2Sample newSimpleFFTSample(SF2Soundbank sf2, String name,
            double[] data, double base, int fadeuptime) {

<span class="nc" id="L2438">        int fftsize = data.length / 2;</span>
<span class="nc" id="L2439">        AudioFormat format = new AudioFormat(44100, 16, 1, true, false);</span>
<span class="nc" id="L2440">        double basefreq = (base / fftsize) * format.getSampleRate() * 0.5;</span>

<span class="nc" id="L2442">        randomPhase(data);</span>
<span class="nc" id="L2443">        ifft(data);</span>
<span class="nc" id="L2444">        data = realPart(data);</span>
<span class="nc" id="L2445">        normalize(data, 0.9);</span>
<span class="nc" id="L2446">        float[] fdata = toFloat(data);</span>
<span class="nc" id="L2447">        fdata = loopExtend(fdata, fdata.length + 512);</span>
<span class="nc" id="L2448">        fadeUp(fdata, fadeuptime);</span>
<span class="nc" id="L2449">        byte[] bdata = toBytes(fdata, format);</span>

        /*
         * Create SoundFont2 sample.
         */
<span class="nc" id="L2454">        SF2Sample sample = new SF2Sample(sf2);</span>
<span class="nc" id="L2455">        sample.setName(name);</span>
<span class="nc" id="L2456">        sample.setData(bdata);</span>
<span class="nc" id="L2457">        sample.setStartLoop(256);</span>
<span class="nc" id="L2458">        sample.setEndLoop(fftsize + 256);</span>
<span class="nc" id="L2459">        sample.setSampleRate((long) format.getSampleRate());</span>
<span class="nc" id="L2460">        double orgnote = (69 + 12)</span>
<span class="nc" id="L2461">                + (12 * Math.log(basefreq / 440.0) / Math.log(2));</span>
<span class="nc" id="L2462">        sample.setOriginalPitch((int) orgnote);</span>
<span class="nc" id="L2463">        sample.setPitchCorrection((byte) (-(orgnote - (int) orgnote) * 100.0));</span>
<span class="nc" id="L2464">        sf2.addResource(sample);</span>

<span class="nc" id="L2466">        return sample;</span>
    }

    public static SF2Sample newSimpleFFTSample_dist(SF2Soundbank sf2,
            String name, double[] data, double base, double preamp) {

<span class="nc" id="L2472">        int fftsize = data.length / 2;</span>
<span class="nc" id="L2473">        AudioFormat format = new AudioFormat(44100, 16, 1, true, false);</span>
<span class="nc" id="L2474">        double basefreq = (base / fftsize) * format.getSampleRate() * 0.5;</span>

<span class="nc" id="L2476">        randomPhase(data);</span>
<span class="nc" id="L2477">        ifft(data);</span>
<span class="nc" id="L2478">        data = realPart(data);</span>

<span class="nc bnc" id="L2480" title="All 2 branches missed.">        for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc" id="L2481">            data[i] = (1 - Math.exp(-Math.abs(data[i] * preamp)))</span>
<span class="nc" id="L2482">                    * Math.signum(data[i]);</span>
        }

<span class="nc" id="L2485">        normalize(data, 0.9);</span>
<span class="nc" id="L2486">        float[] fdata = toFloat(data);</span>
<span class="nc" id="L2487">        fdata = loopExtend(fdata, fdata.length + 512);</span>
<span class="nc" id="L2488">        fadeUp(fdata, 80);</span>
<span class="nc" id="L2489">        byte[] bdata = toBytes(fdata, format);</span>

        /*
         * Create SoundFont2 sample.
         */
<span class="nc" id="L2494">        SF2Sample sample = new SF2Sample(sf2);</span>
<span class="nc" id="L2495">        sample.setName(name);</span>
<span class="nc" id="L2496">        sample.setData(bdata);</span>
<span class="nc" id="L2497">        sample.setStartLoop(256);</span>
<span class="nc" id="L2498">        sample.setEndLoop(fftsize + 256);</span>
<span class="nc" id="L2499">        sample.setSampleRate((long) format.getSampleRate());</span>
<span class="nc" id="L2500">        double orgnote = (69 + 12)</span>
<span class="nc" id="L2501">                + (12 * Math.log(basefreq / 440.0) / Math.log(2));</span>
<span class="nc" id="L2502">        sample.setOriginalPitch((int) orgnote);</span>
<span class="nc" id="L2503">        sample.setPitchCorrection((byte) (-(orgnote - (int) orgnote) * 100.0));</span>
<span class="nc" id="L2504">        sf2.addResource(sample);</span>

<span class="nc" id="L2506">        return sample;</span>
    }

    public static SF2Sample newSimpleDrumSample(SF2Soundbank sf2, String name,
            double[] data) {

<span class="nc" id="L2512">        int fftsize = data.length;</span>
<span class="nc" id="L2513">        AudioFormat format = new AudioFormat(44100, 16, 1, true, false);</span>

<span class="nc" id="L2515">        byte[] bdata = toBytes(toFloat(realPart(data)), format);</span>

        /*
         * Create SoundFont2 sample.
         */
<span class="nc" id="L2520">        SF2Sample sample = new SF2Sample(sf2);</span>
<span class="nc" id="L2521">        sample.setName(name);</span>
<span class="nc" id="L2522">        sample.setData(bdata);</span>
<span class="nc" id="L2523">        sample.setStartLoop(256);</span>
<span class="nc" id="L2524">        sample.setEndLoop(fftsize + 256);</span>
<span class="nc" id="L2525">        sample.setSampleRate((long) format.getSampleRate());</span>
<span class="nc" id="L2526">        sample.setOriginalPitch(60);</span>
<span class="nc" id="L2527">        sf2.addResource(sample);</span>

<span class="nc" id="L2529">        return sample;</span>
    }

    public static SF2Layer newLayer(SF2Soundbank sf2, String name, SF2Sample sample) {
<span class="nc" id="L2533">        SF2LayerRegion region = new SF2LayerRegion();</span>
<span class="nc" id="L2534">        region.setSample(sample);</span>

<span class="nc" id="L2536">        SF2Layer layer = new SF2Layer(sf2);</span>
<span class="nc" id="L2537">        layer.setName(name);</span>
<span class="nc" id="L2538">        layer.getRegions().add(region);</span>
<span class="nc" id="L2539">        sf2.addResource(layer);</span>

<span class="nc" id="L2541">        return layer;</span>
    }

    public static SF2Instrument newInstrument(SF2Soundbank sf2, String name,
            Patch patch, SF2Layer... layers) {

        /*
         * Create SoundFont2 instrument.
         */
<span class="nc" id="L2550">        SF2Instrument ins = new SF2Instrument(sf2);</span>
<span class="nc" id="L2551">        ins.setPatch(patch);</span>
<span class="nc" id="L2552">        ins.setName(name);</span>
<span class="nc" id="L2553">        sf2.addInstrument(ins);</span>

        /*
         * Create region for instrument.
         */
<span class="nc bnc" id="L2558" title="All 2 branches missed.">        for (int i = 0; i &lt; layers.length; i++) {</span>
<span class="nc" id="L2559">            SF2InstrumentRegion insregion = new SF2InstrumentRegion();</span>
<span class="nc" id="L2560">            insregion.setLayer(layers[i]);</span>
<span class="nc" id="L2561">            ins.getRegions().add(insregion);</span>
        }

<span class="nc" id="L2564">        return ins;</span>
    }

    static public void ifft(double[] data) {
<span class="nc" id="L2568">        new FFT(data.length / 2, 1).transform(data);</span>
<span class="nc" id="L2569">    }</span>

    static public void fft(double[] data) {
<span class="nc" id="L2572">        new FFT(data.length / 2, -1).transform(data);</span>
<span class="nc" id="L2573">    }</span>

    public static void complexGaussianDist(double[] cdata, double m,
            double s, double v) {
<span class="nc bnc" id="L2577" title="All 2 branches missed.">        for (int x = 0; x &lt; cdata.length / 4; x++) {</span>
<span class="nc" id="L2578">            cdata[x * 2] += v * (1.0 / (s * Math.sqrt(2 * Math.PI))</span>
<span class="nc" id="L2579">                    * Math.exp((-1.0 / 2.0) * Math.pow((x - m) / s, 2.0)));</span>
        }
<span class="nc" id="L2581">    }</span>

    static public void randomPhase(double[] data) {
<span class="nc bnc" id="L2584" title="All 2 branches missed.">        for (int i = 0; i &lt; data.length; i += 2) {</span>
<span class="nc" id="L2585">            double phase = Math.random() * 2 * Math.PI;</span>
<span class="nc" id="L2586">            double d = data[i];</span>
<span class="nc" id="L2587">            data[i] = Math.sin(phase) * d;</span>
<span class="nc" id="L2588">            data[i + 1] = Math.cos(phase) * d;</span>
        }
<span class="nc" id="L2590">    }</span>

    static public void randomPhase(double[] data, Random random) {
<span class="nc bnc" id="L2593" title="All 2 branches missed.">        for (int i = 0; i &lt; data.length; i += 2) {</span>
<span class="nc" id="L2594">            double phase = random.nextDouble() * 2 * Math.PI;</span>
<span class="nc" id="L2595">            double d = data[i];</span>
<span class="nc" id="L2596">            data[i] = Math.sin(phase) * d;</span>
<span class="nc" id="L2597">            data[i + 1] = Math.cos(phase) * d;</span>
        }
<span class="nc" id="L2599">    }</span>

    static public void normalize(double[] data, double target) {
<span class="nc" id="L2602">        double maxvalue = 0;</span>
<span class="nc bnc" id="L2603" title="All 2 branches missed.">        for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc bnc" id="L2604" title="All 2 branches missed.">            if (data[i] &gt; maxvalue)</span>
<span class="nc" id="L2605">                maxvalue = data[i];</span>
<span class="nc bnc" id="L2606" title="All 2 branches missed.">            if (-data[i] &gt; maxvalue)</span>
<span class="nc" id="L2607">                maxvalue = -data[i];</span>
        }
<span class="nc bnc" id="L2609" title="All 2 branches missed.">        if (maxvalue == 0)</span>
<span class="nc" id="L2610">            return;</span>
<span class="nc" id="L2611">        double gain = target / maxvalue;</span>
<span class="nc bnc" id="L2612" title="All 2 branches missed.">        for (int i = 0; i &lt; data.length; i++)</span>
<span class="nc" id="L2613">            data[i] *= gain;</span>
<span class="nc" id="L2614">    }</span>

    static public void normalize(float[] data, double target) {
<span class="nc" id="L2617">        double maxvalue = 0.5;</span>
<span class="nc bnc" id="L2618" title="All 2 branches missed.">        for (int i = 0; i &lt; data.length; i++) {</span>
<span class="nc bnc" id="L2619" title="All 2 branches missed.">            if (data[i * 2] &gt; maxvalue)</span>
<span class="nc" id="L2620">                maxvalue = data[i * 2];</span>
<span class="nc bnc" id="L2621" title="All 2 branches missed.">            if (-data[i * 2] &gt; maxvalue)</span>
<span class="nc" id="L2622">                maxvalue = -data[i * 2];</span>
        }
<span class="nc" id="L2624">        double gain = target / maxvalue;</span>
<span class="nc bnc" id="L2625" title="All 2 branches missed.">        for (int i = 0; i &lt; data.length; i++)</span>
<span class="nc" id="L2626">            data[i * 2] *= gain;</span>
<span class="nc" id="L2627">    }</span>

    static public double[] realPart(double[] in) {
<span class="nc" id="L2630">        double[] out = new double[in.length / 2];</span>
<span class="nc bnc" id="L2631" title="All 2 branches missed.">        for (int i = 0; i &lt; out.length; i++) {</span>
<span class="nc" id="L2632">            out[i] = in[i * 2];</span>
        }
<span class="nc" id="L2634">        return out;</span>
    }

    static public double[] imgPart(double[] in) {
<span class="nc" id="L2638">        double[] out = new double[in.length / 2];</span>
<span class="nc bnc" id="L2639" title="All 2 branches missed.">        for (int i = 0; i &lt; out.length; i++) {</span>
<span class="nc" id="L2640">            out[i] = in[i * 2];</span>
        }
<span class="nc" id="L2642">        return out;</span>
    }

    static public float[] toFloat(double[] in) {
<span class="nc" id="L2646">        float[] out = new float[in.length];</span>
<span class="nc bnc" id="L2647" title="All 2 branches missed.">        for (int i = 0; i &lt; out.length; i++) {</span>
<span class="nc" id="L2648">            out[i] = (float) in[i];</span>
        }
<span class="nc" id="L2650">        return out;</span>
    }

    static public byte[] toBytes(float[] in, AudioFormat format) {
<span class="nc" id="L2654">        byte[] out = new byte[in.length * format.getFrameSize()];</span>
<span class="nc" id="L2655">        return AudioFloatConverter.getConverter(format).toByteArray(in, out);</span>
    }

    static public void fadeUp(double[] data, int samples) {
<span class="nc" id="L2659">        double dsamples = samples;</span>
<span class="nc bnc" id="L2660" title="All 2 branches missed.">        for (int i = 0; i &lt; samples; i++)</span>
<span class="nc" id="L2661">            data[i] *= i / dsamples;</span>
<span class="nc" id="L2662">    }</span>

    static public void fadeUp(float[] data, int samples) {
<span class="nc" id="L2665">        double dsamples = samples;</span>
<span class="nc bnc" id="L2666" title="All 2 branches missed.">        for (int i = 0; i &lt; samples; i++)</span>
<span class="nc" id="L2667">            data[i] *= i / dsamples;</span>
<span class="nc" id="L2668">    }</span>

    static public double[] loopExtend(double[] data, int newsize) {
<span class="nc" id="L2671">        double[] outdata = new double[newsize];</span>
<span class="nc" id="L2672">        int p_len = data.length;</span>
<span class="nc" id="L2673">        int p_ps = 0;</span>
<span class="nc bnc" id="L2674" title="All 2 branches missed.">        for (int i = 0; i &lt; outdata.length; i++) {</span>
<span class="nc" id="L2675">            outdata[i] = data[p_ps];</span>
<span class="nc" id="L2676">            p_ps++;</span>
<span class="nc bnc" id="L2677" title="All 2 branches missed.">            if (p_ps == p_len)</span>
<span class="nc" id="L2678">                p_ps = 0;</span>
        }
<span class="nc" id="L2680">        return outdata;</span>
    }

    static public float[] loopExtend(float[] data, int newsize) {
<span class="nc" id="L2684">        float[] outdata = new float[newsize];</span>
<span class="nc" id="L2685">        int p_len = data.length;</span>
<span class="nc" id="L2686">        int p_ps = 0;</span>
<span class="nc bnc" id="L2687" title="All 2 branches missed.">        for (int i = 0; i &lt; outdata.length; i++) {</span>
<span class="nc" id="L2688">            outdata[i] = data[p_ps];</span>
<span class="nc" id="L2689">            p_ps++;</span>
<span class="nc bnc" id="L2690" title="All 2 branches missed.">            if (p_ps == p_len)</span>
<span class="nc" id="L2691">                p_ps = 0;</span>
        }
<span class="nc" id="L2693">        return outdata;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>UnicodeProp.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">java.util.regex</a> &gt; <span class="el_source">UnicodeProp.java</span></div><h1>UnicodeProp.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2011, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package java.util.regex;

import java.util.HashMap;
import java.util.Locale;

<span class="nc" id="L31">enum UnicodeProp {</span>

<span class="nc" id="L33">    ALPHABETIC {</span>
        public boolean is(int ch) {
<span class="nc" id="L35">            return Character.isAlphabetic(ch);</span>
        }
    },

<span class="nc" id="L39">    LETTER {</span>
        public boolean is(int ch) {
<span class="nc" id="L41">            return Character.isLetter(ch);</span>
        }
    },

<span class="nc" id="L45">    IDEOGRAPHIC {</span>
        public boolean is(int ch) {
<span class="nc" id="L47">            return Character.isIdeographic(ch);</span>
        }
    },

<span class="nc" id="L51">    LOWERCASE {</span>
        public boolean is(int ch) {
<span class="nc" id="L53">            return Character.isLowerCase(ch);</span>
        }
    },

<span class="nc" id="L57">    UPPERCASE {</span>
        public boolean is(int ch) {
<span class="nc" id="L59">            return Character.isUpperCase(ch);</span>
        }
    },

<span class="nc" id="L63">    TITLECASE {</span>
        public boolean is(int ch) {
<span class="nc" id="L65">            return Character.isTitleCase(ch);</span>
        }
    },

<span class="nc" id="L69">    WHITE_SPACE {</span>
        // \p{Whitespace}
        public boolean is(int ch) {
<span class="nc" id="L72">            return ((((1 &lt;&lt; Character.SPACE_SEPARATOR) |</span>
                      (1 &lt;&lt; Character.LINE_SEPARATOR) |
<span class="nc bnc" id="L74" title="All 8 branches missed.">                      (1 &lt;&lt; Character.PARAGRAPH_SEPARATOR)) &gt;&gt; Character.getType(ch)) &amp; 1)</span>
                   != 0 || (ch &gt;= 0x9 &amp;&amp; ch &lt;= 0xd) || (ch == 0x85);
        }
    },

<span class="nc" id="L79">    CONTROL {</span>
        // \p{gc=Control}
        public boolean is(int ch) {
<span class="nc bnc" id="L82" title="All 2 branches missed.">            return Character.getType(ch) == Character.CONTROL;</span>
        }
    },

<span class="nc" id="L86">    PUNCTUATION {</span>
        // \p{gc=Punctuation}
        public boolean is(int ch) {
<span class="nc" id="L89">            return ((((1 &lt;&lt; Character.CONNECTOR_PUNCTUATION) |</span>
                      (1 &lt;&lt; Character.DASH_PUNCTUATION) |
                      (1 &lt;&lt; Character.START_PUNCTUATION) |
                      (1 &lt;&lt; Character.END_PUNCTUATION) |
                      (1 &lt;&lt; Character.OTHER_PUNCTUATION) |
                      (1 &lt;&lt; Character.INITIAL_QUOTE_PUNCTUATION) |
<span class="nc bnc" id="L95" title="All 2 branches missed.">                      (1 &lt;&lt; Character.FINAL_QUOTE_PUNCTUATION)) &gt;&gt; Character.getType(ch)) &amp; 1)</span>
                   != 0;
        }
    },

<span class="nc" id="L100">    HEX_DIGIT {</span>
        // \p{gc=Decimal_Number}
        // \p{Hex_Digit}    -&gt; PropList.txt: Hex_Digit
        public boolean is(int ch) {
<span class="nc bnc" id="L104" title="All 26 branches missed.">            return DIGIT.is(ch) ||</span>
                   (ch &gt;= 0x0030 &amp;&amp; ch &lt;= 0x0039) ||
                   (ch &gt;= 0x0041 &amp;&amp; ch &lt;= 0x0046) ||
                   (ch &gt;= 0x0061 &amp;&amp; ch &lt;= 0x0066) ||
                   (ch &gt;= 0xFF10 &amp;&amp; ch &lt;= 0xFF19) ||
                   (ch &gt;= 0xFF21 &amp;&amp; ch &lt;= 0xFF26) ||
                   (ch &gt;= 0xFF41 &amp;&amp; ch &lt;= 0xFF46);
        }
    },

<span class="nc" id="L114">    ASSIGNED {</span>
        public boolean is(int ch) {
<span class="nc bnc" id="L116" title="All 2 branches missed.">            return Character.getType(ch) != Character.UNASSIGNED;</span>
        }
    },

<span class="nc" id="L120">    NONCHARACTER_CODE_POINT {</span>
        // PropList.txt:Noncharacter_Code_Point
        public boolean is(int ch) {
<span class="nc bnc" id="L123" title="All 6 branches missed.">            return (ch &amp; 0xfffe) == 0xfffe || (ch &gt;= 0xfdd0 &amp;&amp; ch &lt;= 0xfdef);</span>
        }
    },

<span class="nc" id="L127">    DIGIT {</span>
        // \p{gc=Decimal_Number}
        public boolean is(int ch) {
<span class="nc" id="L130">            return Character.isDigit(ch);</span>
        }
    },

<span class="nc" id="L134">    ALNUM {</span>
        // \p{alpha}
        // \p{digit}
        public boolean is(int ch) {
<span class="nc bnc" id="L138" title="All 4 branches missed.">            return ALPHABETIC.is(ch) || DIGIT.is(ch);</span>
        }
    },

<span class="nc" id="L142">    BLANK {</span>
        // \p{Whitespace} --
        // [\N{LF} \N{VT} \N{FF} \N{CR} \N{NEL}  -&gt; 0xa, 0xb, 0xc, 0xd, 0x85
        //  \p{gc=Line_Separator}
        //  \p{gc=Paragraph_Separator}]
        public boolean is(int ch) {
<span class="nc bnc" id="L148" title="All 4 branches missed.">            return Character.getType(ch) == Character.SPACE_SEPARATOR ||</span>
                   ch == 0x9; // \N{HT}
        }
    },

<span class="nc" id="L153">    GRAPH {</span>
        // [^
        //  \p{space}
        //  \p{gc=Control}
        //  \p{gc=Surrogate}
        //  \p{gc=Unassigned}]
        public boolean is(int ch) {
<span class="nc" id="L160">            return ((((1 &lt;&lt; Character.SPACE_SEPARATOR) |</span>
                      (1 &lt;&lt; Character.LINE_SEPARATOR) |
                      (1 &lt;&lt; Character.PARAGRAPH_SEPARATOR) |
                      (1 &lt;&lt; Character.CONTROL) |
                      (1 &lt;&lt; Character.SURROGATE) |
<span class="nc bnc" id="L165" title="All 2 branches missed.">                      (1 &lt;&lt; Character.UNASSIGNED)) &gt;&gt; Character.getType(ch)) &amp; 1)</span>
                   == 0;
        }
    },

<span class="nc" id="L170">    PRINT {</span>
        // \p{graph}
        // \p{blank}
        // -- \p{cntrl}
        public boolean is(int ch) {
<span class="nc bnc" id="L175" title="All 6 branches missed.">            return (GRAPH.is(ch) || BLANK.is(ch)) &amp;&amp; !CONTROL.is(ch);</span>
        }
    },

<span class="nc" id="L179">    WORD {</span>
        //  \p{alpha}
        //  \p{gc=Mark}
        //  \p{digit}
        //  \p{gc=Connector_Punctuation}
        //  \p{Join_Control}    200C..200D

        public boolean is(int ch) {
<span class="nc bnc" id="L187" title="All 2 branches missed.">            return ALPHABETIC.is(ch) ||</span>
                   ((((1 &lt;&lt; Character.NON_SPACING_MARK) |
                      (1 &lt;&lt; Character.ENCLOSING_MARK) |
                      (1 &lt;&lt; Character.COMBINING_SPACING_MARK) |
                      (1 &lt;&lt; Character.DECIMAL_DIGIT_NUMBER) |
<span class="nc bnc" id="L192" title="All 2 branches missed.">                      (1 &lt;&lt; Character.CONNECTOR_PUNCTUATION)) &gt;&gt; Character.getType(ch)) &amp; 1)</span>
                   != 0 ||
<span class="nc bnc" id="L194" title="All 2 branches missed.">                   JOIN_CONTROL.is(ch);</span>
        }
    },

<span class="nc" id="L198">    JOIN_CONTROL {</span>
        //  200C..200D    PropList.txt:Join_Control
        public boolean is(int ch) {
<span class="nc bnc" id="L201" title="All 4 branches missed.">           return (ch == 0x200C || ch == 0x200D);</span>
        }
    };

<span class="nc" id="L205">    private final static HashMap&lt;String, String&gt; posix = new HashMap&lt;&gt;();</span>
<span class="nc" id="L206">    private final static HashMap&lt;String, String&gt; aliases = new HashMap&lt;&gt;();</span>
    static {
<span class="nc" id="L208">        posix.put(&quot;ALPHA&quot;, &quot;ALPHABETIC&quot;);</span>
<span class="nc" id="L209">        posix.put(&quot;LOWER&quot;, &quot;LOWERCASE&quot;);</span>
<span class="nc" id="L210">        posix.put(&quot;UPPER&quot;, &quot;UPPERCASE&quot;);</span>
<span class="nc" id="L211">        posix.put(&quot;SPACE&quot;, &quot;WHITE_SPACE&quot;);</span>
<span class="nc" id="L212">        posix.put(&quot;PUNCT&quot;, &quot;PUNCTUATION&quot;);</span>
<span class="nc" id="L213">        posix.put(&quot;XDIGIT&quot;,&quot;HEX_DIGIT&quot;);</span>
<span class="nc" id="L214">        posix.put(&quot;ALNUM&quot;, &quot;ALNUM&quot;);</span>
<span class="nc" id="L215">        posix.put(&quot;CNTRL&quot;, &quot;CONTROL&quot;);</span>
<span class="nc" id="L216">        posix.put(&quot;DIGIT&quot;, &quot;DIGIT&quot;);</span>
<span class="nc" id="L217">        posix.put(&quot;BLANK&quot;, &quot;BLANK&quot;);</span>
<span class="nc" id="L218">        posix.put(&quot;GRAPH&quot;, &quot;GRAPH&quot;);</span>
<span class="nc" id="L219">        posix.put(&quot;PRINT&quot;, &quot;PRINT&quot;);</span>

<span class="nc" id="L221">        aliases.put(&quot;WHITESPACE&quot;, &quot;WHITE_SPACE&quot;);</span>
<span class="nc" id="L222">        aliases.put(&quot;HEXDIGIT&quot;,&quot;HEX_DIGIT&quot;);</span>
<span class="nc" id="L223">        aliases.put(&quot;NONCHARACTERCODEPOINT&quot;, &quot;NONCHARACTER_CODE_POINT&quot;);</span>
<span class="nc" id="L224">        aliases.put(&quot;JOINCONTROL&quot;, &quot;JOIN_CONTROL&quot;);</span>
<span class="nc" id="L225">    }</span>

    public static UnicodeProp forName(String propName) {
<span class="nc" id="L228">        propName = propName.toUpperCase(Locale.ENGLISH);</span>
<span class="nc" id="L229">        String alias = aliases.get(propName);</span>
<span class="nc bnc" id="L230" title="All 2 branches missed.">        if (alias != null)</span>
<span class="nc" id="L231">            propName = alias;</span>
        try {
<span class="nc" id="L233">            return valueOf (propName);</span>
<span class="nc" id="L234">        } catch (IllegalArgumentException x) {}</span>
<span class="nc" id="L235">        return null;</span>
    }

    public static UnicodeProp forPOSIXName(String propName) {
<span class="nc" id="L239">        propName = posix.get(propName.toUpperCase(Locale.ENGLISH));</span>
<span class="nc bnc" id="L240" title="All 2 branches missed.">        if (propName == null)</span>
<span class="nc" id="L241">            return null;</span>
<span class="nc" id="L242">        return valueOf (propName);</span>
    }

    public abstract boolean is(int ch);
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
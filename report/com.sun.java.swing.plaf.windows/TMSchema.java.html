<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../resources/report.gif" type="image/gif"/><title>TMSchema.java</title><link rel="stylesheet" href="../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Foo</a> &gt; <a href="index.html" class="el_package">com.sun.java.swing.plaf.windows</a> &gt; <span class="el_source">TMSchema.java</span></div><h1>TMSchema.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2005, 2006, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

/*
 * &lt;p&gt;These classes are designed to be used while the
 * corresponding &lt;code&gt;LookAndFeel&lt;/code&gt; class has been installed
 * (&lt;code&gt;UIManager.setLookAndFeel(new &lt;i&gt;XXX&lt;/i&gt;LookAndFeel())&lt;/code&gt;).
 * Using them while a different &lt;code&gt;LookAndFeel&lt;/code&gt; is installed
 * may produce unexpected results, including exceptions.
 * Additionally, changing the &lt;code&gt;LookAndFeel&lt;/code&gt;
 * maintained by the &lt;code&gt;UIManager&lt;/code&gt; without updating the
 * corresponding &lt;code&gt;ComponentUI&lt;/code&gt; of any
 * &lt;code&gt;JComponent&lt;/code&gt;s may also produce unexpected results,
 * such as the wrong colors showing up, and is generally not
 * encouraged.
 *
 */

package com.sun.java.swing.plaf.windows;

import java.awt.*;
import java.util.*;

import javax.swing.*;

import sun.awt.windows.ThemeReader;

/**
 * Implements Windows Parts and their States and Properties for the Windows Look and Feel.
 *
 * See http://msdn.microsoft.com/library/default.asp?url=/library/en-us/shellcc/platform/commctls/userex/topics/partsandstates.asp
 * See tmschema.h (or vssym32.h &amp; vsstyle.h for MS Vista)
 *
 * @author Leif Samuelsson
 */
<span class="nc" id="L58">class TMSchema {</span>

    /**
     * An enumeration of the various Windows controls (also known as
     * components, or top-level parts)
     */
<span class="nc" id="L64">    public static enum Control {</span>
<span class="nc" id="L65">        BUTTON,</span>
<span class="nc" id="L66">        COMBOBOX,</span>
<span class="nc" id="L67">        EDIT,</span>
<span class="nc" id="L68">        HEADER,</span>
<span class="nc" id="L69">        LISTBOX,</span>
<span class="nc" id="L70">        LISTVIEW,</span>
<span class="nc" id="L71">        MENU,</span>
<span class="nc" id="L72">        PROGRESS,</span>
<span class="nc" id="L73">        REBAR,</span>
<span class="nc" id="L74">        SCROLLBAR,</span>
<span class="nc" id="L75">        SPIN,</span>
<span class="nc" id="L76">        TAB,</span>
<span class="nc" id="L77">        TOOLBAR,</span>
<span class="nc" id="L78">        TRACKBAR,</span>
<span class="nc" id="L79">        TREEVIEW,</span>
<span class="nc" id="L80">        WINDOW</span>
    }


    /**
     * An enumeration of the Windows compoent parts
     */
<span class="nc" id="L87">    public static enum Part {</span>
<span class="nc" id="L88">        MENU (Control.MENU, 0), // Special case, not in native</span>
<span class="nc" id="L89">        MP_BARBACKGROUND   (Control.MENU, 7),</span>
<span class="nc" id="L90">        MP_BARITEM         (Control.MENU, 8),</span>
<span class="nc" id="L91">        MP_POPUPBACKGROUND (Control.MENU, 9),</span>
<span class="nc" id="L92">        MP_POPUPBORDERS    (Control.MENU, 10),</span>
<span class="nc" id="L93">        MP_POPUPCHECK      (Control.MENU, 11),</span>
<span class="nc" id="L94">        MP_POPUPCHECKBACKGROUND (Control.MENU, 12),</span>
<span class="nc" id="L95">        MP_POPUPGUTTER     (Control.MENU, 13),</span>
<span class="nc" id="L96">        MP_POPUPITEM       (Control.MENU, 14),</span>
<span class="nc" id="L97">        MP_POPUPSEPARATOR  (Control.MENU, 15),</span>
<span class="nc" id="L98">        MP_POPUPSUBMENU    (Control.MENU, 16),</span>

<span class="nc" id="L100">        BP_PUSHBUTTON (Control.BUTTON, 1),</span>
<span class="nc" id="L101">        BP_RADIOBUTTON(Control.BUTTON, 2),</span>
<span class="nc" id="L102">        BP_CHECKBOX   (Control.BUTTON, 3),</span>
<span class="nc" id="L103">        BP_GROUPBOX   (Control.BUTTON, 4),</span>

<span class="nc" id="L105">        CP_COMBOBOX      (Control.COMBOBOX, 0),</span>
<span class="nc" id="L106">        CP_DROPDOWNBUTTON(Control.COMBOBOX, 1),</span>
<span class="nc" id="L107">        CP_BACKGROUND    (Control.COMBOBOX, 2),</span>
<span class="nc" id="L108">        CP_TRANSPARENTBACKGROUND (Control.COMBOBOX, 3),</span>
<span class="nc" id="L109">        CP_BORDER                (Control.COMBOBOX, 4),</span>
<span class="nc" id="L110">        CP_READONLY              (Control.COMBOBOX, 5),</span>
<span class="nc" id="L111">        CP_DROPDOWNBUTTONRIGHT   (Control.COMBOBOX, 6),</span>
<span class="nc" id="L112">        CP_DROPDOWNBUTTONLEFT    (Control.COMBOBOX, 7),</span>
<span class="nc" id="L113">        CP_CUEBANNER             (Control.COMBOBOX, 8),</span>


<span class="nc" id="L116">        EP_EDIT    (Control.EDIT, 0),</span>
<span class="nc" id="L117">        EP_EDITTEXT(Control.EDIT, 1),</span>

<span class="nc" id="L119">        HP_HEADERITEM(Control.HEADER,      1),</span>
<span class="nc" id="L120">        HP_HEADERSORTARROW(Control.HEADER, 4),</span>

<span class="nc" id="L122">        LBP_LISTBOX(Control.LISTBOX, 0),</span>

<span class="nc" id="L124">        LVP_LISTVIEW(Control.LISTVIEW, 0),</span>

<span class="nc" id="L126">        PP_PROGRESS (Control.PROGRESS, 0),</span>
<span class="nc" id="L127">        PP_BAR      (Control.PROGRESS, 1),</span>
<span class="nc" id="L128">        PP_BARVERT  (Control.PROGRESS, 2),</span>
<span class="nc" id="L129">        PP_CHUNK    (Control.PROGRESS, 3),</span>
<span class="nc" id="L130">        PP_CHUNKVERT(Control.PROGRESS, 4),</span>

<span class="nc" id="L132">        RP_GRIPPER    (Control.REBAR, 1),</span>
<span class="nc" id="L133">        RP_GRIPPERVERT(Control.REBAR, 2),</span>

<span class="nc" id="L135">        SBP_SCROLLBAR     (Control.SCROLLBAR,  0),</span>
<span class="nc" id="L136">        SBP_ARROWBTN      (Control.SCROLLBAR,  1),</span>
<span class="nc" id="L137">        SBP_THUMBBTNHORZ  (Control.SCROLLBAR,  2),</span>
<span class="nc" id="L138">        SBP_THUMBBTNVERT  (Control.SCROLLBAR,  3),</span>
<span class="nc" id="L139">        SBP_LOWERTRACKHORZ(Control.SCROLLBAR,  4),</span>
<span class="nc" id="L140">        SBP_UPPERTRACKHORZ(Control.SCROLLBAR,  5),</span>
<span class="nc" id="L141">        SBP_LOWERTRACKVERT(Control.SCROLLBAR,  6),</span>
<span class="nc" id="L142">        SBP_UPPERTRACKVERT(Control.SCROLLBAR,  7),</span>
<span class="nc" id="L143">        SBP_GRIPPERHORZ   (Control.SCROLLBAR,  8),</span>
<span class="nc" id="L144">        SBP_GRIPPERVERT   (Control.SCROLLBAR,  9),</span>
<span class="nc" id="L145">        SBP_SIZEBOX       (Control.SCROLLBAR, 10),</span>

<span class="nc" id="L147">        SPNP_UP  (Control.SPIN, 1),</span>
<span class="nc" id="L148">        SPNP_DOWN(Control.SPIN, 2),</span>

<span class="nc" id="L150">        TABP_TABITEM         (Control.TAB, 1),</span>
<span class="nc" id="L151">        TABP_TABITEMLEFTEDGE (Control.TAB, 2),</span>
<span class="nc" id="L152">        TABP_TABITEMRIGHTEDGE(Control.TAB, 3),</span>
<span class="nc" id="L153">        TABP_PANE            (Control.TAB, 9),</span>

<span class="nc" id="L155">        TP_TOOLBAR        (Control.TOOLBAR, 0),</span>
<span class="nc" id="L156">        TP_BUTTON         (Control.TOOLBAR, 1),</span>
<span class="nc" id="L157">        TP_SEPARATOR      (Control.TOOLBAR, 5),</span>
<span class="nc" id="L158">        TP_SEPARATORVERT  (Control.TOOLBAR, 6),</span>

<span class="nc" id="L160">        TKP_TRACK      (Control.TRACKBAR,  1),</span>
<span class="nc" id="L161">        TKP_TRACKVERT  (Control.TRACKBAR,  2),</span>
<span class="nc" id="L162">        TKP_THUMB      (Control.TRACKBAR,  3),</span>
<span class="nc" id="L163">        TKP_THUMBBOTTOM(Control.TRACKBAR,  4),</span>
<span class="nc" id="L164">        TKP_THUMBTOP   (Control.TRACKBAR,  5),</span>
<span class="nc" id="L165">        TKP_THUMBVERT  (Control.TRACKBAR,  6),</span>
<span class="nc" id="L166">        TKP_THUMBLEFT  (Control.TRACKBAR,  7),</span>
<span class="nc" id="L167">        TKP_THUMBRIGHT (Control.TRACKBAR,  8),</span>
<span class="nc" id="L168">        TKP_TICS       (Control.TRACKBAR,  9),</span>
<span class="nc" id="L169">        TKP_TICSVERT   (Control.TRACKBAR, 10),</span>

<span class="nc" id="L171">        TVP_TREEVIEW(Control.TREEVIEW, 0),</span>
<span class="nc" id="L172">        TVP_GLYPH   (Control.TREEVIEW, 2),</span>

<span class="nc" id="L174">        WP_WINDOW          (Control.WINDOW,  0),</span>
<span class="nc" id="L175">        WP_CAPTION         (Control.WINDOW,  1),</span>
<span class="nc" id="L176">        WP_MINCAPTION      (Control.WINDOW,  3),</span>
<span class="nc" id="L177">        WP_MAXCAPTION      (Control.WINDOW,  5),</span>
<span class="nc" id="L178">        WP_FRAMELEFT       (Control.WINDOW,  7),</span>
<span class="nc" id="L179">        WP_FRAMERIGHT      (Control.WINDOW,  8),</span>
<span class="nc" id="L180">        WP_FRAMEBOTTOM     (Control.WINDOW,  9),</span>
<span class="nc" id="L181">        WP_SYSBUTTON       (Control.WINDOW, 13),</span>
<span class="nc" id="L182">        WP_MDISYSBUTTON    (Control.WINDOW, 14),</span>
<span class="nc" id="L183">        WP_MINBUTTON       (Control.WINDOW, 15),</span>
<span class="nc" id="L184">        WP_MDIMINBUTTON    (Control.WINDOW, 16),</span>
<span class="nc" id="L185">        WP_MAXBUTTON       (Control.WINDOW, 17),</span>
<span class="nc" id="L186">        WP_CLOSEBUTTON     (Control.WINDOW, 18),</span>
<span class="nc" id="L187">        WP_MDICLOSEBUTTON  (Control.WINDOW, 20),</span>
<span class="nc" id="L188">        WP_RESTOREBUTTON   (Control.WINDOW, 21),</span>
<span class="nc" id="L189">        WP_MDIRESTOREBUTTON(Control.WINDOW, 22);</span>

        private final Control control;
        private final int value;

<span class="nc" id="L194">        private Part(Control control, int value) {</span>
<span class="nc" id="L195">            this.control = control;</span>
<span class="nc" id="L196">            this.value = value;</span>
<span class="nc" id="L197">        }</span>

        public int getValue() {
<span class="nc" id="L200">            return value;</span>
        }

        public String getControlName(Component component) {
<span class="nc" id="L204">            String str = &quot;&quot;;</span>
<span class="nc bnc" id="L205" title="All 2 branches missed.">            if (component instanceof JComponent) {</span>
<span class="nc" id="L206">                JComponent c = (JComponent)component;</span>
<span class="nc" id="L207">                String subAppName = (String)c.getClientProperty(&quot;XPStyle.subAppName&quot;);</span>
<span class="nc bnc" id="L208" title="All 2 branches missed.">                if (subAppName != null) {</span>
<span class="nc" id="L209">                    str = subAppName + &quot;::&quot;;</span>
                }
            }
<span class="nc" id="L212">            return str + control.toString();</span>
        }

        public String toString() {
<span class="nc" id="L216">            return control.toString()+&quot;.&quot;+name();</span>
        }
    }


    /**
     * An enumeration of the possible component states
     */
<span class="nc" id="L224">    public static enum State {</span>
<span class="nc" id="L225">        ACTIVE,</span>
<span class="nc" id="L226">        ASSIST,</span>
<span class="nc" id="L227">        BITMAP,</span>
<span class="nc" id="L228">        CHECKED,</span>
<span class="nc" id="L229">        CHECKEDDISABLED,</span>
<span class="nc" id="L230">        CHECKEDHOT,</span>
<span class="nc" id="L231">        CHECKEDNORMAL,</span>
<span class="nc" id="L232">        CHECKEDPRESSED,</span>
<span class="nc" id="L233">        CHECKMARKNORMAL,</span>
<span class="nc" id="L234">        CHECKMARKDISABLED,</span>
<span class="nc" id="L235">        BULLETNORMAL,</span>
<span class="nc" id="L236">        BULLETDISABLED,</span>
<span class="nc" id="L237">        CLOSED,</span>
<span class="nc" id="L238">        DEFAULTED,</span>
<span class="nc" id="L239">        DISABLED,</span>
<span class="nc" id="L240">        DISABLEDHOT,</span>
<span class="nc" id="L241">        DISABLEDPUSHED,</span>
<span class="nc" id="L242">        DOWNDISABLED,</span>
<span class="nc" id="L243">        DOWNHOT,</span>
<span class="nc" id="L244">        DOWNNORMAL,</span>
<span class="nc" id="L245">        DOWNPRESSED,</span>
<span class="nc" id="L246">        FOCUSED,</span>
<span class="nc" id="L247">        HOT,</span>
<span class="nc" id="L248">        HOTCHECKED,</span>
<span class="nc" id="L249">        ICONHOT,</span>
<span class="nc" id="L250">        ICONNORMAL,</span>
<span class="nc" id="L251">        ICONPRESSED,</span>
<span class="nc" id="L252">        ICONSORTEDHOT,</span>
<span class="nc" id="L253">        ICONSORTEDNORMAL,</span>
<span class="nc" id="L254">        ICONSORTEDPRESSED,</span>
<span class="nc" id="L255">        INACTIVE,</span>
<span class="nc" id="L256">        INACTIVENORMAL,         // See note 1</span>
<span class="nc" id="L257">        INACTIVEHOT,            // See note 1</span>
<span class="nc" id="L258">        INACTIVEPUSHED,         // See note 1</span>
<span class="nc" id="L259">        INACTIVEDISABLED,       // See note 1</span>
<span class="nc" id="L260">        LEFTDISABLED,</span>
<span class="nc" id="L261">        LEFTHOT,</span>
<span class="nc" id="L262">        LEFTNORMAL,</span>
<span class="nc" id="L263">        LEFTPRESSED,</span>
<span class="nc" id="L264">        MIXEDDISABLED,</span>
<span class="nc" id="L265">        MIXEDHOT,</span>
<span class="nc" id="L266">        MIXEDNORMAL,</span>
<span class="nc" id="L267">        MIXEDPRESSED,</span>
<span class="nc" id="L268">        NORMAL,</span>
<span class="nc" id="L269">        PRESSED,</span>
<span class="nc" id="L270">        OPENED,</span>
<span class="nc" id="L271">        PUSHED,</span>
<span class="nc" id="L272">        READONLY,</span>
<span class="nc" id="L273">        RIGHTDISABLED,</span>
<span class="nc" id="L274">        RIGHTHOT,</span>
<span class="nc" id="L275">        RIGHTNORMAL,</span>
<span class="nc" id="L276">        RIGHTPRESSED,</span>
<span class="nc" id="L277">        SELECTED,</span>
<span class="nc" id="L278">        UNCHECKEDDISABLED,</span>
<span class="nc" id="L279">        UNCHECKEDHOT,</span>
<span class="nc" id="L280">        UNCHECKEDNORMAL,</span>
<span class="nc" id="L281">        UNCHECKEDPRESSED,</span>
<span class="nc" id="L282">        UPDISABLED,</span>
<span class="nc" id="L283">        UPHOT,</span>
<span class="nc" id="L284">        UPNORMAL,</span>
<span class="nc" id="L285">        UPPRESSED,</span>
<span class="nc" id="L286">        HOVER,</span>
<span class="nc" id="L287">        UPHOVER,</span>
<span class="nc" id="L288">        DOWNHOVER,</span>
<span class="nc" id="L289">        LEFTHOVER,</span>
<span class="nc" id="L290">        RIGHTHOVER,</span>
<span class="nc" id="L291">        SORTEDDOWN,</span>
<span class="nc" id="L292">        SORTEDHOT,</span>
<span class="nc" id="L293">        SORTEDNORMAL,</span>
<span class="nc" id="L294">        SORTEDPRESSED,</span>
<span class="nc" id="L295">        SORTEDUP;</span>


        /**
         * A map of allowed states for each Part
         */
        private static EnumMap&lt;Part, State[]&gt; stateMap;

        private static synchronized void initStates() {
<span class="nc" id="L304">            stateMap = new EnumMap&lt;Part, State[]&gt;(Part.class);</span>

<span class="nc" id="L306">            stateMap.put(Part.EP_EDITTEXT,</span>
                       new State[] {
                        NORMAL, HOT, SELECTED, DISABLED, FOCUSED, READONLY, ASSIST
            });

<span class="nc" id="L311">            stateMap.put(Part.BP_PUSHBUTTON,</span>
                       new State[] { NORMAL, HOT, PRESSED, DISABLED, DEFAULTED });

<span class="nc" id="L314">            stateMap.put(Part.BP_RADIOBUTTON,</span>
                       new State[] {
                        UNCHECKEDNORMAL, UNCHECKEDHOT, UNCHECKEDPRESSED, UNCHECKEDDISABLED,
                        CHECKEDNORMAL,   CHECKEDHOT,   CHECKEDPRESSED,   CHECKEDDISABLED
            });

<span class="nc" id="L320">            stateMap.put(Part.BP_CHECKBOX,</span>
                       new State[] {
                        UNCHECKEDNORMAL, UNCHECKEDHOT, UNCHECKEDPRESSED, UNCHECKEDDISABLED,
                        CHECKEDNORMAL,   CHECKEDHOT,   CHECKEDPRESSED,   CHECKEDDISABLED,
                        MIXEDNORMAL,     MIXEDHOT,     MIXEDPRESSED,     MIXEDDISABLED
            });

<span class="nc" id="L327">            State[] comboBoxStates = new State[] { NORMAL, HOT, PRESSED, DISABLED };</span>
<span class="nc" id="L328">            stateMap.put(Part.CP_COMBOBOX, comboBoxStates);</span>
<span class="nc" id="L329">            stateMap.put(Part.CP_DROPDOWNBUTTON, comboBoxStates);</span>
<span class="nc" id="L330">            stateMap.put(Part.CP_BACKGROUND, comboBoxStates);</span>
<span class="nc" id="L331">            stateMap.put(Part.CP_TRANSPARENTBACKGROUND, comboBoxStates);</span>
<span class="nc" id="L332">            stateMap.put(Part.CP_BORDER, comboBoxStates);</span>
<span class="nc" id="L333">            stateMap.put(Part.CP_READONLY, comboBoxStates);</span>
<span class="nc" id="L334">            stateMap.put(Part.CP_DROPDOWNBUTTONRIGHT, comboBoxStates);</span>
<span class="nc" id="L335">            stateMap.put(Part.CP_DROPDOWNBUTTONLEFT, comboBoxStates);</span>
<span class="nc" id="L336">            stateMap.put(Part.CP_CUEBANNER, comboBoxStates);</span>

<span class="nc" id="L338">            stateMap.put(Part.HP_HEADERITEM, new State[] { NORMAL, HOT, PRESSED,</span>
                          SORTEDNORMAL, SORTEDHOT, SORTEDPRESSED,
                          ICONNORMAL, ICONHOT, ICONPRESSED,
                          ICONSORTEDNORMAL, ICONSORTEDHOT, ICONSORTEDPRESSED });

<span class="nc" id="L343">            stateMap.put(Part.HP_HEADERSORTARROW,</span>
                         new State[] {SORTEDDOWN, SORTEDUP});

<span class="nc" id="L346">            State[] scrollBarStates = new State[] { NORMAL, HOT, PRESSED, DISABLED, HOVER };</span>
<span class="nc" id="L347">            stateMap.put(Part.SBP_SCROLLBAR,    scrollBarStates);</span>
<span class="nc" id="L348">            stateMap.put(Part.SBP_THUMBBTNVERT, scrollBarStates);</span>
<span class="nc" id="L349">            stateMap.put(Part.SBP_THUMBBTNHORZ, scrollBarStates);</span>
<span class="nc" id="L350">            stateMap.put(Part.SBP_GRIPPERVERT,  scrollBarStates);</span>
<span class="nc" id="L351">            stateMap.put(Part.SBP_GRIPPERHORZ,  scrollBarStates);</span>

<span class="nc" id="L353">            stateMap.put(Part.SBP_ARROWBTN,</span>
                       new State[] {
                UPNORMAL,    UPHOT,     UPPRESSED,    UPDISABLED,
                DOWNNORMAL,  DOWNHOT,   DOWNPRESSED,  DOWNDISABLED,
                LEFTNORMAL,  LEFTHOT,   LEFTPRESSED,  LEFTDISABLED,
                RIGHTNORMAL, RIGHTHOT,  RIGHTPRESSED, RIGHTDISABLED,
                UPHOVER,     DOWNHOVER, LEFTHOVER,    RIGHTHOVER
            });


<span class="nc" id="L363">            State[] spinnerStates = new State[] { NORMAL, HOT, PRESSED, DISABLED };</span>
<span class="nc" id="L364">            stateMap.put(Part.SPNP_UP,   spinnerStates);</span>
<span class="nc" id="L365">            stateMap.put(Part.SPNP_DOWN, spinnerStates);</span>

<span class="nc" id="L367">            stateMap.put(Part.TVP_GLYPH, new State[] { CLOSED, OPENED });</span>

<span class="nc" id="L369">            State[] frameButtonStates = new State[] {</span>
                        NORMAL,         HOT,         PUSHED,         DISABLED,  // See note 1
                        INACTIVENORMAL, INACTIVEHOT, INACTIVEPUSHED, INACTIVEDISABLED,
            };
            // Note 1: The INACTIVE frame button states apply when the frame
            //         is inactive. They are not defined in tmschema.h

            // Fix for 6316538: Vista has five frame button states
<span class="nc bnc" id="L377" title="All 2 branches missed.">            if (ThemeReader.getInt(Control.WINDOW.toString(),</span>
<span class="nc" id="L378">                                   Part.WP_CLOSEBUTTON.getValue(), 1,</span>
<span class="nc" id="L379">                                   Prop.IMAGECOUNT.getValue()) == 10) {</span>
<span class="nc" id="L380">                frameButtonStates = new State[] {</span>
                        NORMAL,         HOT,         PUSHED,         DISABLED,         null,
                        INACTIVENORMAL, INACTIVEHOT, INACTIVEPUSHED, INACTIVEDISABLED, null
                };
            }

<span class="nc" id="L386">            stateMap.put(Part.WP_MINBUTTON,     frameButtonStates);</span>
<span class="nc" id="L387">            stateMap.put(Part.WP_MAXBUTTON,     frameButtonStates);</span>
<span class="nc" id="L388">            stateMap.put(Part.WP_RESTOREBUTTON, frameButtonStates);</span>
<span class="nc" id="L389">            stateMap.put(Part.WP_CLOSEBUTTON,   frameButtonStates);</span>

            // States for Slider (trackbar)
<span class="nc" id="L392">            stateMap.put(Part.TKP_TRACK,     new State[] { NORMAL });</span>
<span class="nc" id="L393">            stateMap.put(Part.TKP_TRACKVERT, new State[] { NORMAL });</span>

<span class="nc" id="L395">            State[] sliderThumbStates =</span>
                new State[] { NORMAL, HOT, PRESSED, FOCUSED, DISABLED };
<span class="nc" id="L397">            stateMap.put(Part.TKP_THUMB,       sliderThumbStates);</span>
<span class="nc" id="L398">            stateMap.put(Part.TKP_THUMBBOTTOM, sliderThumbStates);</span>
<span class="nc" id="L399">            stateMap.put(Part.TKP_THUMBTOP,    sliderThumbStates);</span>
<span class="nc" id="L400">            stateMap.put(Part.TKP_THUMBVERT,   sliderThumbStates);</span>
<span class="nc" id="L401">            stateMap.put(Part.TKP_THUMBRIGHT,  sliderThumbStates);</span>

            // States for Tabs
<span class="nc" id="L404">            State[] tabStates = new State[] { NORMAL, HOT, SELECTED, DISABLED, FOCUSED };</span>
<span class="nc" id="L405">            stateMap.put(Part.TABP_TABITEM,          tabStates);</span>
<span class="nc" id="L406">            stateMap.put(Part.TABP_TABITEMLEFTEDGE,  tabStates);</span>
<span class="nc" id="L407">            stateMap.put(Part.TABP_TABITEMRIGHTEDGE, tabStates);</span>


<span class="nc" id="L410">            stateMap.put(Part.TP_BUTTON,</span>
                       new State[] {
                        NORMAL, HOT, PRESSED, DISABLED, CHECKED, HOTCHECKED
            });

<span class="nc" id="L415">            State[] frameStates = new State[] { ACTIVE, INACTIVE };</span>
<span class="nc" id="L416">            stateMap.put(Part.WP_WINDOW,      frameStates);</span>
<span class="nc" id="L417">            stateMap.put(Part.WP_FRAMELEFT,   frameStates);</span>
<span class="nc" id="L418">            stateMap.put(Part.WP_FRAMERIGHT,  frameStates);</span>
<span class="nc" id="L419">            stateMap.put(Part.WP_FRAMEBOTTOM, frameStates);</span>

<span class="nc" id="L421">            State[] captionStates = new State[] { ACTIVE, INACTIVE, DISABLED };</span>
<span class="nc" id="L422">            stateMap.put(Part.WP_CAPTION,    captionStates);</span>
<span class="nc" id="L423">            stateMap.put(Part.WP_MINCAPTION, captionStates);</span>
<span class="nc" id="L424">            stateMap.put(Part.WP_MAXCAPTION, captionStates);</span>

<span class="nc" id="L426">            stateMap.put(Part.MP_BARBACKGROUND,</span>
                         new State[] { ACTIVE, INACTIVE });
<span class="nc" id="L428">            stateMap.put(Part.MP_BARITEM,</span>
                         new State[] { NORMAL, HOT, PUSHED,
                                       DISABLED, DISABLEDHOT, DISABLEDPUSHED });
<span class="nc" id="L431">            stateMap.put(Part.MP_POPUPCHECK,</span>
                         new State[] { CHECKMARKNORMAL, CHECKMARKDISABLED,
                                       BULLETNORMAL, BULLETDISABLED });
<span class="nc" id="L434">            stateMap.put(Part.MP_POPUPCHECKBACKGROUND,</span>
                         new State[] { DISABLEDPUSHED, NORMAL, BITMAP });
<span class="nc" id="L436">            stateMap.put(Part.MP_POPUPITEM,</span>
                         new State[] { NORMAL, HOT, DISABLED, DISABLEDHOT });
<span class="nc" id="L438">            stateMap.put(Part.MP_POPUPSUBMENU,</span>
                         new State[] { NORMAL, DISABLED });

<span class="nc" id="L441">        }</span>


        public static synchronized int getValue(Part part, State state) {
<span class="nc bnc" id="L445" title="All 2 branches missed.">            if (stateMap == null) {</span>
<span class="nc" id="L446">                initStates();</span>
            }

<span class="nc" id="L449">            Enum[] states = stateMap.get(part);</span>
<span class="nc bnc" id="L450" title="All 2 branches missed.">            if (states != null) {</span>
<span class="nc bnc" id="L451" title="All 2 branches missed.">                for (int i = 0; i &lt; states.length; i++) {</span>
<span class="nc bnc" id="L452" title="All 2 branches missed.">                    if (state == states[i]) {</span>
<span class="nc" id="L453">                        return i + 1;</span>
                    }
                }
            }

<span class="nc bnc" id="L458" title="All 4 branches missed.">            if (state == null || state == State.NORMAL) {</span>
<span class="nc" id="L459">                return 1;</span>
            }

<span class="nc" id="L462">            return 0;</span>
        }

    }


    /**
     * An enumeration of the possible component attributes and the
     * corresponding value type
     */
<span class="nc" id="L472">    public static enum Prop {</span>
<span class="nc" id="L473">        COLOR(Color.class,                204),</span>
<span class="nc" id="L474">        SIZE(Dimension.class,             207),</span>

<span class="nc" id="L476">        FLATMENUS(Boolean.class,         1001),</span>

<span class="nc" id="L478">        BORDERONLY(Boolean.class,        2203), // only draw the border area of the image</span>

<span class="nc" id="L480">        IMAGECOUNT(Integer.class,        2401), // the number of state images in an imagefile</span>
<span class="nc" id="L481">        BORDERSIZE(Integer.class,        2403), // the size of the border line for bgtype=BorderFill</span>

<span class="nc" id="L483">        PROGRESSCHUNKSIZE(Integer.class, 2411), // size of progress control chunks</span>
<span class="nc" id="L484">        PROGRESSSPACESIZE(Integer.class, 2412), // size of progress control spaces</span>

<span class="nc" id="L486">        TEXTSHADOWOFFSET(Point.class,    3402), // where char shadows are drawn, relative to orig. chars</span>

<span class="nc" id="L488">        NORMALSIZE(Dimension.class,      3409), // size of dest rect that exactly source</span>


<span class="nc" id="L491">        SIZINGMARGINS ( Insets.class,    3601), // margins used for 9-grid sizing</span>
<span class="nc" id="L492">        CONTENTMARGINS(Insets.class,     3602), // margins that define where content can be placed</span>
<span class="nc" id="L493">        CAPTIONMARGINS(Insets.class,     3603), // margins that define where caption text can be placed</span>

<span class="nc" id="L495">        BORDERCOLOR(Color.class,         3801), // color of borders for BorderFill</span>
<span class="nc" id="L496">        FILLCOLOR  (  Color.class,       3802), // color of bg fill</span>
<span class="nc" id="L497">        TEXTCOLOR  (  Color.class,       3803), // color text is drawn in</span>

<span class="nc" id="L499">        TEXTSHADOWCOLOR(Color.class,     3818), // color of text shadow</span>

<span class="nc" id="L501">        BGTYPE(Integer.class,            4001), // basic drawing type for each part</span>

<span class="nc" id="L503">        TEXTSHADOWTYPE(Integer.class,    4010), // type of shadow to draw with text</span>

<span class="nc" id="L505">        TRANSITIONDURATIONS(Integer.class, 6000);</span>

        private final Class type;
        private final int value;

<span class="nc" id="L510">        private Prop(Class type, int value) {</span>
<span class="nc" id="L511">            this.type     = type;</span>
<span class="nc" id="L512">            this.value    = value;</span>
<span class="nc" id="L513">        }</span>

        public int getValue() {
<span class="nc" id="L516">            return value;</span>
        }

        public String toString() {
<span class="nc" id="L520">            return name()+&quot;[&quot;+type.getName()+&quot;] = &quot;+value;</span>
        }
    }


    /**
     * An enumeration of attribute values for some Props
     */
<span class="nc" id="L528">    public static enum TypeEnum {</span>
<span class="nc" id="L529">        BT_IMAGEFILE (Prop.BGTYPE, &quot;imagefile&quot;,  0),</span>
<span class="nc" id="L530">        BT_BORDERFILL(Prop.BGTYPE, &quot;borderfill&quot;, 1),</span>

<span class="nc" id="L532">        TST_NONE(Prop.TEXTSHADOWTYPE, &quot;none&quot;, 0),</span>
<span class="nc" id="L533">        TST_SINGLE(Prop.TEXTSHADOWTYPE, &quot;single&quot;, 1),</span>
<span class="nc" id="L534">        TST_CONTINUOUS(Prop.TEXTSHADOWTYPE, &quot;continuous&quot;, 2);</span>


<span class="nc" id="L537">        private TypeEnum(Prop prop, String enumName, int value) {</span>
<span class="nc" id="L538">            this.prop = prop;</span>
<span class="nc" id="L539">            this.enumName = enumName;</span>
<span class="nc" id="L540">            this.value = value;</span>
<span class="nc" id="L541">        }</span>

        private final Prop prop;
        private final String enumName;
        private final int value;

        public String toString() {
<span class="nc" id="L548">            return prop+&quot;=&quot;+enumName+&quot;=&quot;+value;</span>
        }

        String getName() {
<span class="nc" id="L552">            return enumName;</span>
        }


        static TypeEnum getTypeEnum(Prop prop, int enumval) {
<span class="nc bnc" id="L557" title="All 2 branches missed.">            for (TypeEnum e : TypeEnum.values()) {</span>
<span class="nc bnc" id="L558" title="All 4 branches missed.">                if (e.prop == prop &amp;&amp; e.value == enumval) {</span>
<span class="nc" id="L559">                    return e;</span>
                }
            }
<span class="nc" id="L562">            return null;</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Menu.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Foo</a> &gt; <a href="index.html" class="el_package">java.awt</a> &gt; <span class="el_source">Menu.java</span></div><h1>Menu.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1995, 2006, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */
package java.awt;

import java.io.IOException;
import java.io.ObjectInputStream;
import java.util.Vector;
import java.util.Enumeration;
import java.awt.peer.MenuPeer;
import java.awt.event.KeyEvent;
import javax.accessibility.*;
import sun.awt.AWTAccessor;

/**
 * A &lt;code&gt;Menu&lt;/code&gt; object is a pull-down menu component
 * that is deployed from a menu bar.
 * &lt;p&gt;
 * A menu can optionally be a &lt;i&gt;tear-off&lt;/i&gt; menu. A tear-off menu
 * can be opened and dragged away from its parent menu bar or menu.
 * It remains on the screen after the mouse button has been released.
 * The mechanism for tearing off a menu is platform dependent, since
 * the look and feel of the tear-off menu is determined by its peer.
 * On platforms that do not support tear-off menus, the tear-off
 * property is ignored.
 * &lt;p&gt;
 * Each item in a menu must belong to the &lt;code&gt;MenuItem&lt;/code&gt;
 * class. It can be an instance of &lt;code&gt;MenuItem&lt;/code&gt;, a submenu
 * (an instance of &lt;code&gt;Menu&lt;/code&gt;), or a check box (an instance of
 * &lt;code&gt;CheckboxMenuItem&lt;/code&gt;).
 *
 * @author Sami Shaio
 * @see     java.awt.MenuItem
 * @see     java.awt.CheckboxMenuItem
 * @since   JDK1.0
 */
public class Menu extends MenuItem implements MenuContainer, Accessible {

    static {
        /* ensure that the necessary native libraries are loaded */
<span class="nc" id="L62">        Toolkit.loadLibraries();</span>
<span class="nc bnc" id="L63" title="All 2 branches missed.">        if (!GraphicsEnvironment.isHeadless()) {</span>
<span class="nc" id="L64">            initIDs();</span>
        }

<span class="nc" id="L67">        AWTAccessor.setMenuAccessor(</span>
<span class="nc" id="L68">            new AWTAccessor.MenuAccessor() {</span>
                public Vector&lt;MenuComponent&gt; getItems(Menu menu) {
<span class="nc" id="L70">                    return menu.items;</span>
                }
            });
    }

    /**
     * A vector of the items that will be part of the Menu.
     *
     * @serial
     * @see #countItems()
     */
<span class="nc" id="L81">    Vector&lt;MenuComponent&gt; items = new Vector&lt;&gt;();</span>

    /**
     * This field indicates whether the menu has the
     * tear of property or not.  It will be set to
     * &lt;code&gt;true&lt;/code&gt; if the menu has the tear off
     * property and it will be set to &lt;code&gt;false&lt;/code&gt;
     * if it does not.
     * A torn off menu can be deleted by a user when
     * it is no longer needed.
     *
     * @serial
     * @see #isTearOff()
     */
    boolean             tearOff;

    /**
     * This field will be set to &lt;code&gt;true&lt;/code&gt;
     * if the Menu in question is actually a help
     * menu.  Otherwise it will be set to &lt;code&gt;
     * false&lt;/code&gt;.
     *
     * @serial
     */
    boolean             isHelpMenu;

    private static final String base = &quot;menu&quot;;
<span class="nc" id="L108">    private static int nameCounter = 0;</span>

    /*
     * JDK 1.1 serialVersionUID
     */
     private static final long serialVersionUID = -8809584163345499784L;

    /**
     * Constructs a new menu with an empty label. This menu is not
     * a tear-off menu.
     * @exception HeadlessException if GraphicsEnvironment.isHeadless()
     * returns true.
     * @see java.awt.GraphicsEnvironment#isHeadless
     * @since      JDK1.1
     */
    public Menu() throws HeadlessException {
<span class="nc" id="L124">        this(&quot;&quot;, false);</span>
<span class="nc" id="L125">    }</span>

    /**
     * Constructs a new menu with the specified label. This menu is not
     * a tear-off menu.
     * @param       label the menu's label in the menu bar, or in
     *                   another menu of which this menu is a submenu.
     * @exception HeadlessException if GraphicsEnvironment.isHeadless()
     * returns true.
     * @see java.awt.GraphicsEnvironment#isHeadless
     */
    public Menu(String label) throws HeadlessException {
<span class="nc" id="L137">        this(label, false);</span>
<span class="nc" id="L138">    }</span>

    /**
     * Constructs a new menu with the specified label,
     * indicating whether the menu can be torn off.
     * &lt;p&gt;
     * Tear-off functionality may not be supported by all
     * implementations of AWT.  If a particular implementation doesn't
     * support tear-off menus, this value is silently ignored.
     * @param       label the menu's label in the menu bar, or in
     *                   another menu of which this menu is a submenu.
     * @param       tearOff   if &lt;code&gt;true&lt;/code&gt;, the menu
     *                   is a tear-off menu.
     * @exception HeadlessException if GraphicsEnvironment.isHeadless()
     * returns true.
     * @see java.awt.GraphicsEnvironment#isHeadless
     * @since       JDK1.0.
     */
    public Menu(String label, boolean tearOff) throws HeadlessException {
<span class="nc" id="L157">        super(label);</span>
<span class="nc" id="L158">        this.tearOff = tearOff;</span>
<span class="nc" id="L159">    }</span>

    /**
     * Construct a name for this MenuComponent.  Called by getName() when
     * the name is null.
     */
    String constructComponentName() {
<span class="nc" id="L166">        synchronized (Menu.class) {</span>
<span class="nc" id="L167">            return base + nameCounter++;</span>
<span class="nc" id="L168">        }</span>
    }

    /**
     * Creates the menu's peer.  The peer allows us to modify the
     * appearance of the menu without changing its functionality.
     */
    public void addNotify() {
<span class="nc" id="L176">        synchronized (getTreeLock()) {</span>
<span class="nc bnc" id="L177" title="All 2 branches missed.">            if (peer == null)</span>
<span class="nc" id="L178">                peer = Toolkit.getDefaultToolkit().createMenu(this);</span>
<span class="nc" id="L179">            int nitems = getItemCount();</span>
<span class="nc bnc" id="L180" title="All 2 branches missed.">            for (int i = 0 ; i &lt; nitems ; i++) {</span>
<span class="nc" id="L181">                MenuItem mi = getItem(i);</span>
<span class="nc" id="L182">                mi.parent = this;</span>
<span class="nc" id="L183">                mi.addNotify();</span>
            }
<span class="nc" id="L185">        }</span>
<span class="nc" id="L186">    }</span>

    /**
     * Removes the menu's peer.  The peer allows us to modify the appearance
     * of the menu without changing its functionality.
     */
    public void removeNotify() {
<span class="nc" id="L193">        synchronized (getTreeLock()) {</span>
<span class="nc" id="L194">            int nitems = getItemCount();</span>
<span class="nc bnc" id="L195" title="All 2 branches missed.">            for (int i = 0 ; i &lt; nitems ; i++) {</span>
<span class="nc" id="L196">                getItem(i).removeNotify();</span>
            }
<span class="nc" id="L198">            super.removeNotify();</span>
<span class="nc" id="L199">        }</span>
<span class="nc" id="L200">    }</span>

    /**
     * Indicates whether this menu is a tear-off menu.
     * &lt;p&gt;
     * Tear-off functionality may not be supported by all
     * implementations of AWT.  If a particular implementation doesn't
     * support tear-off menus, this value is silently ignored.
     * @return      &lt;code&gt;true&lt;/code&gt; if this is a tear-off menu;
     *                         &lt;code&gt;false&lt;/code&gt; otherwise.
     */
    public boolean isTearOff() {
<span class="nc" id="L212">        return tearOff;</span>
    }

    /**
      * Get the number of items in this menu.
      * @return     the number of items in this menu.
      * @since      JDK1.1
      */
    public int getItemCount() {
<span class="nc" id="L221">        return countItems();</span>
    }

    /**
     * @deprecated As of JDK version 1.1,
     * replaced by &lt;code&gt;getItemCount()&lt;/code&gt;.
     */
    @Deprecated
    public int countItems() {
<span class="nc" id="L230">        return countItemsImpl();</span>
    }

    /*
     * This is called by the native code, so client code can't
     * be called on the toolkit thread.
     */
    final int countItemsImpl() {
<span class="nc" id="L238">        return items.size();</span>
    }

    /**
     * Gets the item located at the specified index of this menu.
     * @param     index the position of the item to be returned.
     * @return    the item located at the specified index.
     */
    public MenuItem getItem(int index) {
<span class="nc" id="L247">        return getItemImpl(index);</span>
    }

    /*
     * This is called by the native code, so client code can't
     * be called on the toolkit thread.
     */
    final MenuItem getItemImpl(int index) {
<span class="nc" id="L255">        return (MenuItem)items.elementAt(index);</span>
    }

    /**
     * Adds the specified menu item to this menu. If the
     * menu item has been part of another menu, removes it
     * from that menu.
     *
     * @param       mi   the menu item to be added
     * @return      the menu item added
     * @see         java.awt.Menu#insert(java.lang.String, int)
     * @see         java.awt.Menu#insert(java.awt.MenuItem, int)
     */
    public MenuItem add(MenuItem mi) {
<span class="nc" id="L269">        synchronized (getTreeLock()) {</span>
<span class="nc bnc" id="L270" title="All 2 branches missed.">            if (mi.parent != null) {</span>
<span class="nc" id="L271">                mi.parent.remove(mi);</span>
            }
<span class="nc" id="L273">            items.addElement(mi);</span>
<span class="nc" id="L274">            mi.parent = this;</span>
<span class="nc" id="L275">            MenuPeer peer = (MenuPeer)this.peer;</span>
<span class="nc bnc" id="L276" title="All 2 branches missed.">            if (peer != null) {</span>
<span class="nc" id="L277">                mi.addNotify();</span>
<span class="nc" id="L278">                peer.addItem(mi);</span>
            }
<span class="nc" id="L280">            return mi;</span>
<span class="nc" id="L281">        }</span>
    }

    /**
     * Adds an item with the specified label to this menu.
     *
     * @param       label   the text on the item
     * @see         java.awt.Menu#insert(java.lang.String, int)
     * @see         java.awt.Menu#insert(java.awt.MenuItem, int)
     */
    public void add(String label) {
<span class="nc" id="L292">        add(new MenuItem(label));</span>
<span class="nc" id="L293">    }</span>

    /**
     * Inserts a menu item into this menu
     * at the specified position.
     *
     * @param         menuitem  the menu item to be inserted.
     * @param         index     the position at which the menu
     *                          item should be inserted.
     * @see           java.awt.Menu#add(java.lang.String)
     * @see           java.awt.Menu#add(java.awt.MenuItem)
     * @exception     IllegalArgumentException if the value of
     *                    &lt;code&gt;index&lt;/code&gt; is less than zero
     * @since         JDK1.1
     */

    public void insert(MenuItem menuitem, int index) {
<span class="nc" id="L310">        synchronized (getTreeLock()) {</span>
<span class="nc bnc" id="L311" title="All 2 branches missed.">            if (index &lt; 0) {</span>
<span class="nc" id="L312">                throw new IllegalArgumentException(&quot;index less than zero.&quot;);</span>
            }

<span class="nc" id="L315">            int nitems = getItemCount();</span>
<span class="nc" id="L316">            Vector&lt;MenuItem&gt; tempItems = new Vector&lt;&gt;();</span>

            /* Remove the item at index, nitems-index times
               storing them in a temporary vector in the
               order they appear on the menu.
            */
<span class="nc bnc" id="L322" title="All 2 branches missed.">            for (int i = index ; i &lt; nitems; i++) {</span>
<span class="nc" id="L323">                tempItems.addElement(getItem(index));</span>
<span class="nc" id="L324">                remove(index);</span>
            }

<span class="nc" id="L327">            add(menuitem);</span>

            /* Add the removed items back to the menu, they are
               already in the correct order in the temp vector.
            */
<span class="nc bnc" id="L332" title="All 2 branches missed.">            for (int i = 0; i &lt; tempItems.size()  ; i++) {</span>
<span class="nc" id="L333">                add(tempItems.elementAt(i));</span>
            }
<span class="nc" id="L335">        }</span>
<span class="nc" id="L336">    }</span>

    /**
     * Inserts a menu item with the specified label into this menu
     * at the specified position.  This is a convenience method for
     * &lt;code&gt;insert(menuItem, index)&lt;/code&gt;.
     *
     * @param       label the text on the item
     * @param       index the position at which the menu item
     *                      should be inserted
     * @see         java.awt.Menu#add(java.lang.String)
     * @see         java.awt.Menu#add(java.awt.MenuItem)
     * @exception     IllegalArgumentException if the value of
     *                    &lt;code&gt;index&lt;/code&gt; is less than zero
     * @since       JDK1.1
     */

    public void insert(String label, int index) {
<span class="nc" id="L354">        insert(new MenuItem(label), index);</span>
<span class="nc" id="L355">    }</span>

    /**
     * Adds a separator line, or a hypen, to the menu at the current position.
     * @see         java.awt.Menu#insertSeparator(int)
     */
    public void addSeparator() {
<span class="nc" id="L362">        add(&quot;-&quot;);</span>
<span class="nc" id="L363">    }</span>

    /**
     * Inserts a separator at the specified position.
     * @param       index the position at which the
     *                       menu separator should be inserted.
     * @exception   IllegalArgumentException if the value of
     *                       &lt;code&gt;index&lt;/code&gt; is less than 0.
     * @see         java.awt.Menu#addSeparator
     * @since       JDK1.1
     */

    public void insertSeparator(int index) {
<span class="nc" id="L376">        synchronized (getTreeLock()) {</span>
<span class="nc bnc" id="L377" title="All 2 branches missed.">            if (index &lt; 0) {</span>
<span class="nc" id="L378">                throw new IllegalArgumentException(&quot;index less than zero.&quot;);</span>
            }

<span class="nc" id="L381">            int nitems = getItemCount();</span>
<span class="nc" id="L382">            Vector&lt;MenuItem&gt; tempItems = new Vector&lt;&gt;();</span>

            /* Remove the item at index, nitems-index times
               storing them in a temporary vector in the
               order they appear on the menu.
            */
<span class="nc bnc" id="L388" title="All 2 branches missed.">            for (int i = index ; i &lt; nitems; i++) {</span>
<span class="nc" id="L389">                tempItems.addElement(getItem(index));</span>
<span class="nc" id="L390">                remove(index);</span>
            }

<span class="nc" id="L393">            addSeparator();</span>

            /* Add the removed items back to the menu, they are
               already in the correct order in the temp vector.
            */
<span class="nc bnc" id="L398" title="All 2 branches missed.">            for (int i = 0; i &lt; tempItems.size()  ; i++) {</span>
<span class="nc" id="L399">                add(tempItems.elementAt(i));</span>
            }
<span class="nc" id="L401">        }</span>
<span class="nc" id="L402">    }</span>

    /**
     * Removes the menu item at the specified index from this menu.
     * @param       index the position of the item to be removed.
     */
    public void remove(int index) {
<span class="nc" id="L409">        synchronized (getTreeLock()) {</span>
<span class="nc" id="L410">            MenuItem mi = getItem(index);</span>
<span class="nc" id="L411">            items.removeElementAt(index);</span>
<span class="nc" id="L412">            MenuPeer peer = (MenuPeer)this.peer;</span>
<span class="nc bnc" id="L413" title="All 2 branches missed.">            if (peer != null) {</span>
<span class="nc" id="L414">                mi.removeNotify();</span>
<span class="nc" id="L415">                mi.parent = null;</span>
<span class="nc" id="L416">                peer.delItem(index);</span>
            }
<span class="nc" id="L418">        }</span>
<span class="nc" id="L419">    }</span>

    /**
     * Removes the specified menu item from this menu.
     * @param  item the item to be removed from the menu.
     *         If &lt;code&gt;item&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;
     *         or is not in this menu, this method does
     *         nothing.
     */
    public void remove(MenuComponent item) {
<span class="nc" id="L429">        synchronized (getTreeLock()) {</span>
<span class="nc" id="L430">            int index = items.indexOf(item);</span>
<span class="nc bnc" id="L431" title="All 2 branches missed.">            if (index &gt;= 0) {</span>
<span class="nc" id="L432">                remove(index);</span>
            }
<span class="nc" id="L434">        }</span>
<span class="nc" id="L435">    }</span>

    /**
     * Removes all items from this menu.
     * @since       JDK1.0.
     */
    public void removeAll() {
<span class="nc" id="L442">        synchronized (getTreeLock()) {</span>
<span class="nc" id="L443">            int nitems = getItemCount();</span>
<span class="nc bnc" id="L444" title="All 2 branches missed.">            for (int i = nitems-1 ; i &gt;= 0 ; i--) {</span>
<span class="nc" id="L445">                remove(i);</span>
            }
<span class="nc" id="L447">        }</span>
<span class="nc" id="L448">    }</span>

    /*
     * Post an ActionEvent to the target of the MenuPeer
     * associated with the specified keyboard event (on
     * keydown).  Returns true if there is an associated
     * keyboard event.
     */
    boolean handleShortcut(KeyEvent e) {
<span class="nc" id="L457">        int nitems = getItemCount();</span>
<span class="nc bnc" id="L458" title="All 2 branches missed.">        for (int i = 0 ; i &lt; nitems ; i++) {</span>
<span class="nc" id="L459">            MenuItem mi = getItem(i);</span>
<span class="nc bnc" id="L460" title="All 2 branches missed.">            if (mi.handleShortcut(e)) {</span>
<span class="nc" id="L461">                return true;</span>
            }
        }
<span class="nc" id="L464">        return false;</span>
    }

    MenuItem getShortcutMenuItem(MenuShortcut s) {
<span class="nc" id="L468">        int nitems = getItemCount();</span>
<span class="nc bnc" id="L469" title="All 2 branches missed.">        for (int i = 0 ; i &lt; nitems ; i++) {</span>
<span class="nc" id="L470">            MenuItem mi = getItem(i).getShortcutMenuItem(s);</span>
<span class="nc bnc" id="L471" title="All 2 branches missed.">            if (mi != null) {</span>
<span class="nc" id="L472">                return mi;</span>
            }
        }
<span class="nc" id="L475">        return null;</span>
    }

    synchronized Enumeration&lt;MenuShortcut&gt; shortcuts() {
<span class="nc" id="L479">        Vector&lt;MenuShortcut&gt; shortcuts = new Vector&lt;&gt;();</span>
<span class="nc" id="L480">        int nitems = getItemCount();</span>
<span class="nc bnc" id="L481" title="All 2 branches missed.">        for (int i = 0 ; i &lt; nitems ; i++) {</span>
<span class="nc" id="L482">            MenuItem mi = getItem(i);</span>
<span class="nc bnc" id="L483" title="All 2 branches missed.">            if (mi instanceof Menu) {</span>
<span class="nc" id="L484">                Enumeration&lt;MenuShortcut&gt; e = ((Menu)mi).shortcuts();</span>
<span class="nc bnc" id="L485" title="All 2 branches missed.">                while (e.hasMoreElements()) {</span>
<span class="nc" id="L486">                    shortcuts.addElement(e.nextElement());</span>
                }
<span class="nc" id="L488">            } else {</span>
<span class="nc" id="L489">                MenuShortcut ms = mi.getShortcut();</span>
<span class="nc bnc" id="L490" title="All 2 branches missed.">                if (ms != null) {</span>
<span class="nc" id="L491">                    shortcuts.addElement(ms);</span>
                }
            }
        }
<span class="nc" id="L495">        return shortcuts.elements();</span>
    }

    void deleteShortcut(MenuShortcut s) {
<span class="nc" id="L499">        int nitems = getItemCount();</span>
<span class="nc bnc" id="L500" title="All 2 branches missed.">        for (int i = 0 ; i &lt; nitems ; i++) {</span>
<span class="nc" id="L501">            getItem(i).deleteShortcut(s);</span>
        }
<span class="nc" id="L503">    }</span>


    /* Serialization support.  A MenuContainer is responsible for
     * restoring the parent fields of its children.
     */

    /**
     * The menu serialized Data Version.
     *
     * @serial
     */
<span class="nc" id="L515">    private int menuSerializedDataVersion = 1;</span>

    /**
     * Writes default serializable fields to stream.
     *
     * @param s the &lt;code&gt;ObjectOutputStream&lt;/code&gt; to write
     * @see AWTEventMulticaster#save(ObjectOutputStream, String, EventListener)
     * @see #readObject(ObjectInputStream)
     */
    private void writeObject(java.io.ObjectOutputStream s)
      throws java.io.IOException
    {
<span class="nc" id="L527">      s.defaultWriteObject();</span>
<span class="nc" id="L528">    }</span>

    /**
     * Reads the &lt;code&gt;ObjectInputStream&lt;/code&gt;.
     * Unrecognized keys or values will be ignored.
     *
     * @param s the &lt;code&gt;ObjectInputStream&lt;/code&gt; to read
     * @exception HeadlessException if
     *   &lt;code&gt;GraphicsEnvironment.isHeadless&lt;/code&gt; returns
     *   &lt;code&gt;true&lt;/code&gt;
     * @see java.awt.GraphicsEnvironment#isHeadless
     * @see #writeObject(ObjectOutputStream)
     */
    private void readObject(ObjectInputStream s)
      throws IOException, ClassNotFoundException, HeadlessException
    {
      // HeadlessException will be thrown from MenuComponent's readObject
<span class="nc" id="L545">      s.defaultReadObject();</span>
<span class="nc bnc" id="L546" title="All 2 branches missed.">      for(int i = 0; i &lt; items.size(); i++) {</span>
<span class="nc" id="L547">        MenuItem item = (MenuItem)items.elementAt(i);</span>
<span class="nc" id="L548">        item.parent = this;</span>
      }
<span class="nc" id="L550">    }</span>

    /**
     * Returns a string representing the state of this &lt;code&gt;Menu&lt;/code&gt;.
     * This method is intended to be used only for debugging purposes, and the
     * content and format of the returned string may vary between
     * implementations. The returned string may be empty but may not be
     * &lt;code&gt;null&lt;/code&gt;.
     *
     * @return the parameter string of this menu
     */
    public String paramString() {
<span class="nc" id="L562">        String str = &quot;,tearOff=&quot; + tearOff+&quot;,isHelpMenu=&quot; + isHelpMenu;</span>
<span class="nc" id="L563">        return super.paramString() + str;</span>
    }

    /**
     * Initialize JNI field and method IDs
     */
    private static native void initIDs();


/////////////////
// Accessibility support
////////////////

    /**
     * Gets the AccessibleContext associated with this Menu.
     * For menus, the AccessibleContext takes the form of an
     * AccessibleAWTMenu.
     * A new AccessibleAWTMenu instance is created if necessary.
     *
     * @return an AccessibleAWTMenu that serves as the
     *         AccessibleContext of this Menu
     * @since 1.3
     */
    public AccessibleContext getAccessibleContext() {
<span class="nc bnc" id="L587" title="All 2 branches missed.">        if (accessibleContext == null) {</span>
<span class="nc" id="L588">            accessibleContext = new AccessibleAWTMenu();</span>
        }
<span class="nc" id="L590">        return accessibleContext;</span>
    }

    /**
     * Defined in MenuComponent. Overridden here.
     */
    int getAccessibleChildIndex(MenuComponent child) {
<span class="nc" id="L597">        return items.indexOf(child);</span>
    }

    /**
     * Inner class of Menu used to provide default support for
     * accessibility.  This class is not meant to be used directly by
     * application developers, but is instead meant only to be
     * subclassed by menu component developers.
     * &lt;p&gt;
     * This class implements accessibility support for the
     * &lt;code&gt;Menu&lt;/code&gt; class.  It provides an implementation of the
     * Java Accessibility API appropriate to menu user-interface elements.
     * @since 1.3
     */
<span class="nc" id="L611">    protected class AccessibleAWTMenu extends AccessibleAWTMenuItem</span>
    {
        /*
         * JDK 1.3 serialVersionUID
         */
        private static final long serialVersionUID = 5228160894980069094L;

        /**
         * Get the role of this object.
         *
         * @return an instance of AccessibleRole describing the role of the
         * object
         */
        public AccessibleRole getAccessibleRole() {
<span class="nc" id="L625">            return AccessibleRole.MENU;</span>
        }

    } // class AccessibleAWTMenu

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
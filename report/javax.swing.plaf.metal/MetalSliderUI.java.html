<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>MetalSliderUI.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">javax.swing.plaf.metal</a> &gt; <span class="el_source">MetalSliderUI.java</span></div><h1>MetalSliderUI.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1998, 2009, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.swing.plaf.metal;

import javax.swing.plaf.basic.BasicSliderUI;

import java.awt.Graphics;
import java.awt.Dimension;
import java.awt.Rectangle;
import java.awt.Color;
import java.beans.*;

import javax.swing.*;
import javax.swing.plaf.*;

/**
 * A Java L&amp;amp;F implementation of SliderUI.
 * &lt;p&gt;
 * &lt;strong&gt;Warning:&lt;/strong&gt;
 * Serialized objects of this class will not be compatible with
 * future Swing releases. The current serialization support is
 * appropriate for short term storage or RMI between applications running
 * the same version of Swing.  As of 1.4, support for long term storage
 * of all JavaBeans&amp;trade;
 * has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
 * Please see {@link java.beans.XMLEncoder}.
 *
 * @author Tom Santos
 */
public class MetalSliderUI extends BasicSliderUI {

<span class="nc" id="L55">    protected final int TICK_BUFFER = 4;</span>
<span class="nc" id="L56">    protected boolean filledSlider = false;</span>
    // NOTE: these next five variables are currently unused.
    protected static Color thumbColor;
    protected static Color highlightColor;
    protected static Color darkShadowColor;
    protected static int trackWidth;
    protected static int tickLength;
    private int safeLength;

   /**
    * A default horizontal thumb &lt;code&gt;Icon&lt;/code&gt;. This field might not be
    * used. To change the &lt;code&gt;Icon&lt;/code&gt; used by this delegate directly set it
    * using the &lt;code&gt;Slider.horizontalThumbIcon&lt;/code&gt; UIManager property.
    */
    protected static Icon horizThumbIcon;

   /**
    * A default vertical thumb &lt;code&gt;Icon&lt;/code&gt;. This field might not be
    * used. To change the &lt;code&gt;Icon&lt;/code&gt; used by this delegate directly set it
    * using the &lt;code&gt;Slider.verticalThumbIcon&lt;/code&gt; UIManager property.
    */
    protected static Icon vertThumbIcon;

    private static Icon SAFE_HORIZ_THUMB_ICON;
    private static Icon SAFE_VERT_THUMB_ICON;


<span class="nc" id="L83">    protected final String SLIDER_FILL = &quot;JSlider.isFilled&quot;;</span>

    public static ComponentUI createUI(JComponent c)    {
<span class="nc" id="L86">        return new MetalSliderUI();</span>
    }

    public MetalSliderUI() {
<span class="nc" id="L90">        super( null );</span>
<span class="nc" id="L91">    }</span>

    private static Icon getHorizThumbIcon() {
<span class="nc bnc" id="L94" title="All 2 branches missed.">        if (System.getSecurityManager() != null) {</span>
<span class="nc" id="L95">            return SAFE_HORIZ_THUMB_ICON;</span>
        } else {
<span class="nc" id="L97">            return horizThumbIcon;</span>
        }
    }

    private static Icon getVertThumbIcon() {
<span class="nc bnc" id="L102" title="All 2 branches missed.">        if (System.getSecurityManager() != null) {</span>
<span class="nc" id="L103">            return SAFE_VERT_THUMB_ICON;</span>
        } else {
<span class="nc" id="L105">            return vertThumbIcon;</span>
        }
    }

    public void installUI( JComponent c ) {
<span class="nc" id="L110">        trackWidth = ((Integer)UIManager.get( &quot;Slider.trackWidth&quot; )).intValue();</span>
<span class="nc" id="L111">        tickLength = safeLength = ((Integer)UIManager.get( &quot;Slider.majorTickLength&quot; )).intValue();</span>
<span class="nc" id="L112">        horizThumbIcon = SAFE_HORIZ_THUMB_ICON =</span>
<span class="nc" id="L113">                UIManager.getIcon( &quot;Slider.horizontalThumbIcon&quot; );</span>
<span class="nc" id="L114">        vertThumbIcon = SAFE_VERT_THUMB_ICON =</span>
<span class="nc" id="L115">                UIManager.getIcon( &quot;Slider.verticalThumbIcon&quot; );</span>

<span class="nc" id="L117">        super.installUI( c );</span>

<span class="nc" id="L119">        thumbColor = UIManager.getColor(&quot;Slider.thumb&quot;);</span>
<span class="nc" id="L120">        highlightColor = UIManager.getColor(&quot;Slider.highlight&quot;);</span>
<span class="nc" id="L121">        darkShadowColor = UIManager.getColor(&quot;Slider.darkShadow&quot;);</span>

<span class="nc" id="L123">        scrollListener.setScrollByBlock( false );</span>

<span class="nc" id="L125">        prepareFilledSliderField();</span>
<span class="nc" id="L126">    }</span>

    protected PropertyChangeListener createPropertyChangeListener( JSlider slider ) {
<span class="nc" id="L129">        return new MetalPropertyListener();</span>
    }

<span class="nc" id="L132">    protected class MetalPropertyListener extends BasicSliderUI.PropertyChangeHandler {</span>
        public void propertyChange( PropertyChangeEvent e ) {  // listen for slider fill
<span class="nc" id="L134">            super.propertyChange( e );</span>

<span class="nc bnc" id="L136" title="All 2 branches missed.">            if (e.getPropertyName().equals(SLIDER_FILL)) {</span>
<span class="nc" id="L137">                prepareFilledSliderField();</span>
            }
<span class="nc" id="L139">        }</span>
    }

    private void prepareFilledSliderField() {
        // Use true for Ocean theme
<span class="nc" id="L144">        filledSlider = MetalLookAndFeel.usingOcean();</span>

<span class="nc" id="L146">        Object sliderFillProp = slider.getClientProperty(SLIDER_FILL);</span>

<span class="nc bnc" id="L148" title="All 2 branches missed.">        if (sliderFillProp != null) {</span>
<span class="nc" id="L149">            filledSlider = ((Boolean) sliderFillProp).booleanValue();</span>
        }
<span class="nc" id="L151">    }</span>

    public void paintThumb(Graphics g)  {
<span class="nc" id="L154">        Rectangle knobBounds = thumbRect;</span>

<span class="nc" id="L156">        g.translate( knobBounds.x, knobBounds.y );</span>

<span class="nc bnc" id="L158" title="All 2 branches missed.">        if ( slider.getOrientation() == JSlider.HORIZONTAL ) {</span>
<span class="nc" id="L159">            getHorizThumbIcon().paintIcon( slider, g, 0, 0 );</span>
        }
        else {
<span class="nc" id="L162">            getVertThumbIcon().paintIcon( slider, g, 0, 0 );</span>
        }

<span class="nc" id="L165">        g.translate( -knobBounds.x, -knobBounds.y );</span>
<span class="nc" id="L166">    }</span>

    /**
     * Returns a rectangle enclosing the track that will be painted.
     */
    private Rectangle getPaintTrackRect() {
<span class="nc" id="L172">        int trackLeft = 0, trackRight, trackTop = 0, trackBottom;</span>
<span class="nc bnc" id="L173" title="All 2 branches missed.">        if (slider.getOrientation() == JSlider.HORIZONTAL) {</span>
<span class="nc" id="L174">            trackBottom = (trackRect.height - 1) - getThumbOverhang();</span>
<span class="nc" id="L175">            trackTop = trackBottom - (getTrackWidth() - 1);</span>
<span class="nc" id="L176">            trackRight = trackRect.width - 1;</span>
        }
        else {
<span class="nc bnc" id="L179" title="All 2 branches missed.">            if (MetalUtils.isLeftToRight(slider)) {</span>
<span class="nc" id="L180">                trackLeft = (trackRect.width - getThumbOverhang()) -</span>
<span class="nc" id="L181">                                                         getTrackWidth();</span>
<span class="nc" id="L182">                trackRight = (trackRect.width - getThumbOverhang()) - 1;</span>
            }
            else {
<span class="nc" id="L185">                trackLeft = getThumbOverhang();</span>
<span class="nc" id="L186">                trackRight = getThumbOverhang() + getTrackWidth() - 1;</span>
            }
<span class="nc" id="L188">            trackBottom = trackRect.height - 1;</span>
        }
<span class="nc" id="L190">        return new Rectangle(trackRect.x + trackLeft, trackRect.y + trackTop,</span>
                             trackRight - trackLeft, trackBottom - trackTop);
    }

    public void paintTrack(Graphics g)  {
<span class="nc bnc" id="L195" title="All 2 branches missed.">        if (MetalLookAndFeel.usingOcean()) {</span>
<span class="nc" id="L196">            oceanPaintTrack(g);</span>
<span class="nc" id="L197">            return;</span>
        }
<span class="nc bnc" id="L199" title="All 2 branches missed.">        Color trackColor = !slider.isEnabled() ? MetalLookAndFeel.getControlShadow() :</span>
<span class="nc" id="L200">                           slider.getForeground();</span>

<span class="nc" id="L202">        boolean leftToRight = MetalUtils.isLeftToRight(slider);</span>

<span class="nc" id="L204">        g.translate( trackRect.x, trackRect.y );</span>

<span class="nc" id="L206">        int trackLeft = 0;</span>
<span class="nc" id="L207">        int trackTop = 0;</span>
        int trackRight;
        int trackBottom;

        // Draw the track
<span class="nc bnc" id="L212" title="All 2 branches missed.">        if ( slider.getOrientation() == JSlider.HORIZONTAL ) {</span>
<span class="nc" id="L213">            trackBottom = (trackRect.height - 1) - getThumbOverhang();</span>
<span class="nc" id="L214">            trackTop = trackBottom - (getTrackWidth() - 1);</span>
<span class="nc" id="L215">            trackRight = trackRect.width - 1;</span>
        }
        else {
<span class="nc bnc" id="L218" title="All 2 branches missed.">            if (leftToRight) {</span>
<span class="nc" id="L219">                trackLeft = (trackRect.width - getThumbOverhang()) -</span>
<span class="nc" id="L220">                                                         getTrackWidth();</span>
<span class="nc" id="L221">                trackRight = (trackRect.width - getThumbOverhang()) - 1;</span>
            }
            else {
<span class="nc" id="L224">                trackLeft = getThumbOverhang();</span>
<span class="nc" id="L225">                trackRight = getThumbOverhang() + getTrackWidth() - 1;</span>
            }
<span class="nc" id="L227">            trackBottom = trackRect.height - 1;</span>
        }

<span class="nc bnc" id="L230" title="All 2 branches missed.">        if ( slider.isEnabled() ) {</span>
<span class="nc" id="L231">            g.setColor( MetalLookAndFeel.getControlDarkShadow() );</span>
<span class="nc" id="L232">            g.drawRect( trackLeft, trackTop,</span>
                        (trackRight - trackLeft) - 1, (trackBottom - trackTop) - 1 );

<span class="nc" id="L235">            g.setColor( MetalLookAndFeel.getControlHighlight() );</span>
<span class="nc" id="L236">            g.drawLine( trackLeft + 1, trackBottom, trackRight, trackBottom );</span>
<span class="nc" id="L237">            g.drawLine( trackRight, trackTop + 1, trackRight, trackBottom );</span>

<span class="nc" id="L239">            g.setColor( MetalLookAndFeel.getControlShadow() );</span>
<span class="nc" id="L240">            g.drawLine( trackLeft + 1, trackTop + 1, trackRight - 2, trackTop + 1 );</span>
<span class="nc" id="L241">            g.drawLine( trackLeft + 1, trackTop + 1, trackLeft + 1, trackBottom - 2 );</span>
        }
        else {
<span class="nc" id="L244">            g.setColor( MetalLookAndFeel.getControlShadow() );</span>
<span class="nc" id="L245">            g.drawRect( trackLeft, trackTop,</span>
                        (trackRight - trackLeft) - 1, (trackBottom - trackTop) - 1 );
        }

        // Draw the fill
<span class="nc bnc" id="L250" title="All 2 branches missed.">        if ( filledSlider ) {</span>
            int middleOfThumb;
            int fillTop;
            int fillLeft;
            int fillBottom;
            int fillRight;

<span class="nc bnc" id="L257" title="All 2 branches missed.">            if ( slider.getOrientation() == JSlider.HORIZONTAL ) {</span>
<span class="nc" id="L258">                middleOfThumb = thumbRect.x + (thumbRect.width / 2);</span>
<span class="nc" id="L259">                middleOfThumb -= trackRect.x; // To compensate for the g.translate()</span>
<span class="nc bnc" id="L260" title="All 2 branches missed.">                fillTop = !slider.isEnabled() ? trackTop : trackTop + 1;</span>
<span class="nc bnc" id="L261" title="All 2 branches missed.">                fillBottom = !slider.isEnabled() ? trackBottom - 1 : trackBottom - 2;</span>

<span class="nc bnc" id="L263" title="All 2 branches missed.">                if ( !drawInverted() ) {</span>
<span class="nc bnc" id="L264" title="All 2 branches missed.">                    fillLeft = !slider.isEnabled() ? trackLeft : trackLeft + 1;</span>
<span class="nc" id="L265">                    fillRight = middleOfThumb;</span>
                }
                else {
<span class="nc" id="L268">                    fillLeft = middleOfThumb;</span>
<span class="nc bnc" id="L269" title="All 2 branches missed.">                    fillRight = !slider.isEnabled() ? trackRight - 1 : trackRight - 2;</span>
                }
            }
            else {
<span class="nc" id="L273">                middleOfThumb = thumbRect.y + (thumbRect.height / 2);</span>
<span class="nc" id="L274">                middleOfThumb -= trackRect.y; // To compensate for the g.translate()</span>
<span class="nc bnc" id="L275" title="All 2 branches missed.">                fillLeft = !slider.isEnabled() ? trackLeft : trackLeft + 1;</span>
<span class="nc bnc" id="L276" title="All 2 branches missed.">                fillRight = !slider.isEnabled() ? trackRight - 1 : trackRight - 2;</span>

<span class="nc bnc" id="L278" title="All 2 branches missed.">                if ( !drawInverted() ) {</span>
<span class="nc" id="L279">                    fillTop = middleOfThumb;</span>
<span class="nc bnc" id="L280" title="All 2 branches missed.">                    fillBottom = !slider.isEnabled() ? trackBottom - 1 : trackBottom - 2;</span>
                }
                else {
<span class="nc bnc" id="L283" title="All 2 branches missed.">                    fillTop = !slider.isEnabled() ? trackTop : trackTop + 1;</span>
<span class="nc" id="L284">                    fillBottom = middleOfThumb;</span>
                }
            }

<span class="nc bnc" id="L288" title="All 2 branches missed.">            if ( slider.isEnabled() ) {</span>
<span class="nc" id="L289">                g.setColor( slider.getBackground() );</span>
<span class="nc" id="L290">                g.drawLine( fillLeft, fillTop, fillRight, fillTop );</span>
<span class="nc" id="L291">                g.drawLine( fillLeft, fillTop, fillLeft, fillBottom );</span>

<span class="nc" id="L293">                g.setColor( MetalLookAndFeel.getControlShadow() );</span>
<span class="nc" id="L294">                g.fillRect( fillLeft + 1, fillTop + 1,</span>
                            fillRight - fillLeft, fillBottom - fillTop );
            }
            else {
<span class="nc" id="L298">                g.setColor( MetalLookAndFeel.getControlShadow() );</span>
<span class="nc" id="L299">                g.fillRect(fillLeft, fillTop, fillRight - fillLeft, fillBottom - fillTop);</span>
            }
        }

<span class="nc" id="L303">        g.translate( -trackRect.x, -trackRect.y );</span>
<span class="nc" id="L304">    }</span>

    private void oceanPaintTrack(Graphics g)  {
<span class="nc" id="L307">        boolean leftToRight = MetalUtils.isLeftToRight(slider);</span>
<span class="nc" id="L308">        boolean drawInverted = drawInverted();</span>
<span class="nc" id="L309">        Color sliderAltTrackColor = (Color)UIManager.get(</span>
                                    &quot;Slider.altTrackColor&quot;);

        // Translate to the origin of the painting rectangle
<span class="nc" id="L313">        Rectangle paintRect = getPaintTrackRect();</span>
<span class="nc" id="L314">        g.translate(paintRect.x, paintRect.y);</span>

        // Width and height of the painting rectangle.
<span class="nc" id="L317">        int w = paintRect.width;</span>
<span class="nc" id="L318">        int h = paintRect.height;</span>

<span class="nc bnc" id="L320" title="All 2 branches missed.">        if (slider.getOrientation() == JSlider.HORIZONTAL) {</span>
<span class="nc" id="L321">            int middleOfThumb = thumbRect.x + thumbRect.width / 2 - paintRect.x;</span>

<span class="nc bnc" id="L323" title="All 2 branches missed.">            if (slider.isEnabled()) {</span>
                int fillMinX;
                int fillMaxX;

<span class="nc bnc" id="L327" title="All 2 branches missed.">                if (middleOfThumb &gt; 0) {</span>
<span class="nc bnc" id="L328" title="All 2 branches missed.">                    g.setColor(drawInverted ? MetalLookAndFeel.getControlDarkShadow() :</span>
<span class="nc" id="L329">                            MetalLookAndFeel.getPrimaryControlDarkShadow());</span>

<span class="nc" id="L331">                    g.drawRect(0, 0, middleOfThumb - 1, h - 1);</span>
                }

<span class="nc bnc" id="L334" title="All 2 branches missed.">                if (middleOfThumb &lt; w) {</span>
<span class="nc bnc" id="L335" title="All 2 branches missed.">                    g.setColor(drawInverted ? MetalLookAndFeel.getPrimaryControlDarkShadow() :</span>
<span class="nc" id="L336">                            MetalLookAndFeel.getControlDarkShadow());</span>

<span class="nc" id="L338">                    g.drawRect(middleOfThumb, 0, w - middleOfThumb - 1, h - 1);</span>
                }

<span class="nc bnc" id="L341" title="All 2 branches missed.">                if (filledSlider) {</span>
<span class="nc" id="L342">                    g.setColor(MetalLookAndFeel.getPrimaryControlShadow());</span>
<span class="nc bnc" id="L343" title="All 2 branches missed.">                    if (drawInverted) {</span>
<span class="nc" id="L344">                        fillMinX = middleOfThumb;</span>
<span class="nc" id="L345">                        fillMaxX = w - 2;</span>
<span class="nc" id="L346">                        g.drawLine(1, 1, middleOfThumb, 1);</span>
                    } else {
<span class="nc" id="L348">                        fillMinX = 1;</span>
<span class="nc" id="L349">                        fillMaxX = middleOfThumb;</span>
<span class="nc" id="L350">                        g.drawLine(middleOfThumb, 1, w - 1, 1);</span>
                    }
<span class="nc bnc" id="L352" title="All 2 branches missed.">                    if (h == 6) {</span>
<span class="nc" id="L353">                        g.setColor(MetalLookAndFeel.getWhite());</span>
<span class="nc" id="L354">                        g.drawLine(fillMinX, 1, fillMaxX, 1);</span>
<span class="nc" id="L355">                        g.setColor(sliderAltTrackColor);</span>
<span class="nc" id="L356">                        g.drawLine(fillMinX, 2, fillMaxX, 2);</span>
<span class="nc" id="L357">                        g.setColor(MetalLookAndFeel.getControlShadow());</span>
<span class="nc" id="L358">                        g.drawLine(fillMinX, 3, fillMaxX, 3);</span>
<span class="nc" id="L359">                        g.setColor(MetalLookAndFeel.getPrimaryControlShadow());</span>
<span class="nc" id="L360">                        g.drawLine(fillMinX, 4, fillMaxX, 4);</span>
                    }
                }
<span class="nc" id="L363">            } else {</span>
<span class="nc" id="L364">                g.setColor(MetalLookAndFeel.getControlShadow());</span>

<span class="nc bnc" id="L366" title="All 2 branches missed.">                if (middleOfThumb &gt; 0) {</span>
<span class="nc bnc" id="L367" title="All 4 branches missed.">                    if (!drawInverted &amp;&amp; filledSlider) {</span>
<span class="nc" id="L368">                        g.fillRect(0, 0, middleOfThumb - 1, h - 1);</span>
                    } else {
<span class="nc" id="L370">                        g.drawRect(0, 0, middleOfThumb - 1, h - 1);</span>
                    }
                }

<span class="nc bnc" id="L374" title="All 2 branches missed.">                if (middleOfThumb &lt; w) {</span>
<span class="nc bnc" id="L375" title="All 4 branches missed.">                    if (drawInverted &amp;&amp; filledSlider) {</span>
<span class="nc" id="L376">                        g.fillRect(middleOfThumb, 0, w - middleOfThumb - 1, h - 1);</span>
                    } else {
<span class="nc" id="L378">                        g.drawRect(middleOfThumb, 0, w - middleOfThumb - 1, h - 1);</span>
                    }
                }
            }
<span class="nc" id="L382">        } else {</span>
<span class="nc" id="L383">            int middleOfThumb = thumbRect.y + (thumbRect.height / 2) - paintRect.y;</span>

<span class="nc bnc" id="L385" title="All 2 branches missed.">            if (slider.isEnabled()) {</span>
                int fillMinY;
                int fillMaxY;

<span class="nc bnc" id="L389" title="All 2 branches missed.">                if (middleOfThumb &gt; 0) {</span>
<span class="nc bnc" id="L390" title="All 2 branches missed.">                    g.setColor(drawInverted ? MetalLookAndFeel.getPrimaryControlDarkShadow() :</span>
<span class="nc" id="L391">                            MetalLookAndFeel.getControlDarkShadow());</span>

<span class="nc" id="L393">                    g.drawRect(0, 0, w - 1, middleOfThumb - 1);</span>
                }

<span class="nc bnc" id="L396" title="All 2 branches missed.">                if (middleOfThumb &lt; h) {</span>
<span class="nc bnc" id="L397" title="All 2 branches missed.">                    g.setColor(drawInverted ? MetalLookAndFeel.getControlDarkShadow() :</span>
<span class="nc" id="L398">                            MetalLookAndFeel.getPrimaryControlDarkShadow());</span>

<span class="nc" id="L400">                    g.drawRect(0, middleOfThumb, w - 1, h - middleOfThumb - 1);</span>
                }

<span class="nc bnc" id="L403" title="All 2 branches missed.">                if (filledSlider) {</span>
<span class="nc" id="L404">                    g.setColor(MetalLookAndFeel.getPrimaryControlShadow());</span>
<span class="nc bnc" id="L405" title="All 2 branches missed.">                    if (drawInverted()) {</span>
<span class="nc" id="L406">                        fillMinY = 1;</span>
<span class="nc" id="L407">                        fillMaxY = middleOfThumb;</span>
<span class="nc bnc" id="L408" title="All 2 branches missed.">                        if (leftToRight) {</span>
<span class="nc" id="L409">                            g.drawLine(1, middleOfThumb, 1, h - 1);</span>
                        } else {
<span class="nc" id="L411">                            g.drawLine(w - 2, middleOfThumb, w - 2, h - 1);</span>
                        }
                    } else {
<span class="nc" id="L414">                        fillMinY = middleOfThumb;</span>
<span class="nc" id="L415">                        fillMaxY = h - 2;</span>
<span class="nc bnc" id="L416" title="All 2 branches missed.">                        if (leftToRight) {</span>
<span class="nc" id="L417">                            g.drawLine(1, 1, 1, middleOfThumb);</span>
                        } else {
<span class="nc" id="L419">                            g.drawLine(w - 2, 1, w - 2, middleOfThumb);</span>
                        }
                    }
<span class="nc bnc" id="L422" title="All 2 branches missed.">                    if (w == 6) {</span>
<span class="nc bnc" id="L423" title="All 2 branches missed.">                        g.setColor(leftToRight ? MetalLookAndFeel.getWhite() : MetalLookAndFeel.getPrimaryControlShadow());</span>
<span class="nc" id="L424">                        g.drawLine(1, fillMinY, 1, fillMaxY);</span>
<span class="nc bnc" id="L425" title="All 2 branches missed.">                        g.setColor(leftToRight ? sliderAltTrackColor : MetalLookAndFeel.getControlShadow());</span>
<span class="nc" id="L426">                        g.drawLine(2, fillMinY, 2, fillMaxY);</span>
<span class="nc bnc" id="L427" title="All 2 branches missed.">                        g.setColor(leftToRight ? MetalLookAndFeel.getControlShadow() : sliderAltTrackColor);</span>
<span class="nc" id="L428">                        g.drawLine(3, fillMinY, 3, fillMaxY);</span>
<span class="nc bnc" id="L429" title="All 2 branches missed.">                        g.setColor(leftToRight ? MetalLookAndFeel.getPrimaryControlShadow() : MetalLookAndFeel.getWhite());</span>
<span class="nc" id="L430">                        g.drawLine(4, fillMinY, 4, fillMaxY);</span>
                    }
                }
<span class="nc" id="L433">            } else {</span>
<span class="nc" id="L434">                g.setColor(MetalLookAndFeel.getControlShadow());</span>

<span class="nc bnc" id="L436" title="All 2 branches missed.">                if (middleOfThumb &gt; 0) {</span>
<span class="nc bnc" id="L437" title="All 4 branches missed.">                    if (drawInverted &amp;&amp; filledSlider) {</span>
<span class="nc" id="L438">                        g.fillRect(0, 0, w - 1, middleOfThumb - 1);</span>
                    } else {
<span class="nc" id="L440">                        g.drawRect(0, 0, w - 1, middleOfThumb - 1);</span>
                    }
                }

<span class="nc bnc" id="L444" title="All 2 branches missed.">                if (middleOfThumb &lt; h) {</span>
<span class="nc bnc" id="L445" title="All 4 branches missed.">                    if (!drawInverted &amp;&amp; filledSlider) {</span>
<span class="nc" id="L446">                        g.fillRect(0, middleOfThumb, w - 1, h - middleOfThumb - 1);</span>
                    } else {
<span class="nc" id="L448">                        g.drawRect(0, middleOfThumb, w - 1, h - middleOfThumb - 1);</span>
                    }
                }
            }
        }

<span class="nc" id="L454">        g.translate(-paintRect.x, -paintRect.y);</span>
<span class="nc" id="L455">    }</span>

    public void paintFocus(Graphics g)  {
<span class="nc" id="L458">    }</span>

    protected Dimension getThumbSize() {
<span class="nc" id="L461">        Dimension size = new Dimension();</span>

<span class="nc bnc" id="L463" title="All 2 branches missed.">        if ( slider.getOrientation() == JSlider.VERTICAL ) {</span>
<span class="nc" id="L464">            size.width = getVertThumbIcon().getIconWidth();</span>
<span class="nc" id="L465">            size.height = getVertThumbIcon().getIconHeight();</span>
        }
        else {
<span class="nc" id="L468">            size.width = getHorizThumbIcon().getIconWidth();</span>
<span class="nc" id="L469">            size.height = getHorizThumbIcon().getIconHeight();</span>
        }

<span class="nc" id="L472">        return size;</span>
    }

    /**
     * Gets the height of the tick area for horizontal sliders and the width of the
     * tick area for vertical sliders.  BasicSliderUI uses the returned value to
     * determine the tick area rectangle.
     */
    public int getTickLength() {
<span class="nc bnc" id="L481" title="All 2 branches missed.">        return slider.getOrientation() == JSlider.HORIZONTAL ? safeLength + TICK_BUFFER + 1 :</span>
        safeLength + TICK_BUFFER + 3;
    }

    /**
     * Returns the shorter dimension of the track.
     */
    protected int getTrackWidth() {
        // This strange calculation is here to keep the
        // track in proportion to the thumb.
        final double kIdealTrackWidth = 7.0;
        final double kIdealThumbHeight = 16.0;
        final double kWidthScalar = kIdealTrackWidth / kIdealThumbHeight;

<span class="nc bnc" id="L495" title="All 2 branches missed.">        if ( slider.getOrientation() == JSlider.HORIZONTAL ) {</span>
<span class="nc" id="L496">            return (int)(kWidthScalar * thumbRect.height);</span>
        }
        else {
<span class="nc" id="L499">            return (int)(kWidthScalar * thumbRect.width);</span>
        }
    }

    /**
     * Returns the longer dimension of the slide bar.  (The slide bar is only the
     * part that runs directly under the thumb)
     */
    protected int getTrackLength() {
<span class="nc bnc" id="L508" title="All 2 branches missed.">        if ( slider.getOrientation() == JSlider.HORIZONTAL ) {</span>
<span class="nc" id="L509">            return trackRect.width;</span>
        }
<span class="nc" id="L511">        return trackRect.height;</span>
    }

    /**
     * Returns the amount that the thumb goes past the slide bar.
     */
    protected int getThumbOverhang() {
<span class="nc" id="L518">        return (int)(getThumbSize().getHeight()-getTrackWidth())/2;</span>
    }

    protected void scrollDueToClickInTrack( int dir ) {
<span class="nc" id="L522">        scrollByUnit( dir );</span>
<span class="nc" id="L523">    }</span>

    protected void paintMinorTickForHorizSlider( Graphics g, Rectangle tickBounds, int x ) {
<span class="nc bnc" id="L526" title="All 2 branches missed.">        g.setColor( slider.isEnabled() ? slider.getForeground() : MetalLookAndFeel.getControlShadow() );</span>
<span class="nc" id="L527">        g.drawLine( x, TICK_BUFFER, x, TICK_BUFFER + (safeLength / 2) );</span>
<span class="nc" id="L528">    }</span>

    protected void paintMajorTickForHorizSlider( Graphics g, Rectangle tickBounds, int x ) {
<span class="nc bnc" id="L531" title="All 2 branches missed.">        g.setColor( slider.isEnabled() ? slider.getForeground() : MetalLookAndFeel.getControlShadow() );</span>
<span class="nc" id="L532">        g.drawLine( x, TICK_BUFFER , x, TICK_BUFFER + (safeLength - 1) );</span>
<span class="nc" id="L533">    }</span>

    protected void paintMinorTickForVertSlider( Graphics g, Rectangle tickBounds, int y ) {
<span class="nc bnc" id="L536" title="All 2 branches missed.">        g.setColor( slider.isEnabled() ? slider.getForeground() : MetalLookAndFeel.getControlShadow() );</span>

<span class="nc bnc" id="L538" title="All 2 branches missed.">        if (MetalUtils.isLeftToRight(slider)) {</span>
<span class="nc" id="L539">            g.drawLine( TICK_BUFFER, y, TICK_BUFFER + (safeLength / 2), y );</span>
        }
        else {
<span class="nc" id="L542">            g.drawLine( 0, y, safeLength/2, y );</span>
        }
<span class="nc" id="L544">    }</span>

    protected void paintMajorTickForVertSlider( Graphics g, Rectangle tickBounds, int y ) {
<span class="nc bnc" id="L547" title="All 2 branches missed.">        g.setColor( slider.isEnabled() ? slider.getForeground() : MetalLookAndFeel.getControlShadow() );</span>

<span class="nc bnc" id="L549" title="All 2 branches missed.">        if (MetalUtils.isLeftToRight(slider)) {</span>
<span class="nc" id="L550">            g.drawLine( TICK_BUFFER, y, TICK_BUFFER + safeLength, y );</span>
        }
        else {
<span class="nc" id="L553">            g.drawLine( 0, y, safeLength, y );</span>
        }
<span class="nc" id="L555">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
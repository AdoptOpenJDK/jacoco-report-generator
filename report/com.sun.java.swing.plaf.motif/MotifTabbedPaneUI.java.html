<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../resources/report.gif" type="image/gif"/><title>MotifTabbedPaneUI.java</title><link rel="stylesheet" href="../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">com.sun.java.swing.plaf.motif</a> &gt; <span class="el_source">MotifTabbedPaneUI.java</span></div><h1>MotifTabbedPaneUI.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1997, 2002, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package com.sun.java.swing.plaf.motif;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;
import javax.swing.plaf.*;
import javax.swing.plaf.basic.BasicTabbedPaneUI;
import java.io.Serializable;

/**
 * A Motif L&amp;F implementation of TabbedPaneUI.
 * &lt;p&gt;
 * &lt;strong&gt;Warning:&lt;/strong&gt;
 * Serialized objects of this class will not be compatible with
 * future Swing releases.  The current serialization support is appropriate
 * for short term storage or RMI between applications running the same
 * version of Swing.  A future release of Swing will provide support for
 * long term persistence.
 *
 * @author Amy Fowler
 * @author Philip Milne
 */
<span class="nc" id="L49">public class MotifTabbedPaneUI extends BasicTabbedPaneUI</span>
{

// Instance variables initialized at installation

    protected Color unselectedTabBackground;
    protected Color unselectedTabForeground;
    protected Color unselectedTabShadow;
    protected Color unselectedTabHighlight;


// UI creation

    public static ComponentUI createUI(JComponent tabbedPane) {
<span class="nc" id="L63">        return new MotifTabbedPaneUI();</span>
    }


// UI Installation/De-installation


    protected void installDefaults() {
<span class="nc" id="L71">        super.installDefaults();</span>

<span class="nc" id="L73">        unselectedTabBackground = UIManager.getColor(&quot;TabbedPane.unselectedTabBackground&quot;);</span>
<span class="nc" id="L74">        unselectedTabForeground = UIManager.getColor(&quot;TabbedPane.unselectedTabForeground&quot;);</span>
<span class="nc" id="L75">        unselectedTabShadow = UIManager.getColor(&quot;TabbedPane.unselectedTabShadow&quot;);</span>
<span class="nc" id="L76">        unselectedTabHighlight = UIManager.getColor(&quot;TabbedPane.unselectedTabHighlight&quot;);</span>
<span class="nc" id="L77">    }</span>

    protected void uninstallDefaults() {
<span class="nc" id="L80">        super.uninstallDefaults();</span>

<span class="nc" id="L82">        unselectedTabBackground = null;</span>
<span class="nc" id="L83">        unselectedTabForeground = null;</span>
<span class="nc" id="L84">        unselectedTabShadow = null;</span>
<span class="nc" id="L85">        unselectedTabHighlight = null;</span>
<span class="nc" id="L86">    }</span>

// UI Rendering

   protected void paintContentBorderTopEdge(Graphics g, int tabPlacement,
                                            int selectedIndex,
                                            int x, int y, int w, int h) {
<span class="nc bnc" id="L93" title="All 2 branches missed.">        Rectangle selRect = selectedIndex &lt; 0? null :</span>
<span class="nc" id="L94">                               getTabBounds(selectedIndex, calcRect);</span>
<span class="nc" id="L95">        g.setColor(lightHighlight);</span>

        // Draw unbroken line if tabs are not on TOP, OR
        // selected tab is not visible (SCROLL_TAB_LAYOUT)
        //
<span class="nc bnc" id="L100" title="All 8 branches missed.">        if (tabPlacement != TOP || selectedIndex &lt; 0 ||</span>
            (selRect.x &lt; x || selRect.x &gt; x + w)) {
<span class="nc" id="L102">            g.drawLine(x, y, x+w-2, y);</span>
        } else {
            // Break line to show visual connection to selected tab
<span class="nc" id="L105">            g.drawLine(x, y, selRect.x - 1, y);</span>
<span class="nc bnc" id="L106" title="All 2 branches missed.">            if (selRect.x + selRect.width &lt; x + w - 2) {</span>
<span class="nc" id="L107">                g.drawLine(selRect.x + selRect.width, y,</span>
                           x+w-2, y);
            }
        }
<span class="nc" id="L111">    }</span>

    protected void paintContentBorderBottomEdge(Graphics g, int tabPlacement,
                                               int selectedIndex,
                                               int x, int y, int w, int h) {
<span class="nc bnc" id="L116" title="All 2 branches missed.">        Rectangle selRect = selectedIndex &lt; 0? null :</span>
<span class="nc" id="L117">                               getTabBounds(selectedIndex, calcRect);</span>
<span class="nc" id="L118">        g.setColor(shadow);</span>

        // Draw unbroken line if tabs are not on BOTTOM, OR
        // selected tab is not visible (SCROLL_TAB_LAYOUT)
        //
<span class="nc bnc" id="L123" title="All 8 branches missed.">        if (tabPlacement != BOTTOM || selectedIndex &lt; 0 ||</span>
             (selRect.x &lt; x || selRect.x &gt; x + w)) {
<span class="nc" id="L125">            g.drawLine(x+1, y+h-1, x+w-1, y+h-1);</span>
        } else {
            // Break line to show visual connection to selected tab
<span class="nc" id="L128">            g.drawLine(x+1, y+h-1, selRect.x - 1, y+h-1);</span>
<span class="nc bnc" id="L129" title="All 2 branches missed.">            if (selRect.x + selRect.width &lt; x + w - 2) {</span>
<span class="nc" id="L130">                g.drawLine(selRect.x + selRect.width, y+h-1, x+w-2, y+h-1);</span>
            }
        }
<span class="nc" id="L133">    }</span>

    protected void paintContentBorderRightEdge(Graphics g, int tabPlacement,
                                               int selectedIndex,
                                               int x, int y, int w, int h) {
<span class="nc bnc" id="L138" title="All 2 branches missed.">        Rectangle selRect = selectedIndex &lt; 0? null :</span>
<span class="nc" id="L139">                               getTabBounds(selectedIndex, calcRect);</span>
<span class="nc" id="L140">        g.setColor(shadow);</span>
        // Draw unbroken line if tabs are not on RIGHT, OR
        // selected tab is not visible (SCROLL_TAB_LAYOUT)
        //
<span class="nc bnc" id="L144" title="All 8 branches missed.">        if (tabPlacement != RIGHT || selectedIndex &lt; 0 ||</span>
             (selRect.y &lt; y || selRect.y &gt; y + h)) {
<span class="nc" id="L146">            g.drawLine(x+w-1, y+1, x+w-1, y+h-1);</span>
        } else {
            // Break line to show visual connection to selected tab
<span class="nc" id="L149">            g.drawLine(x+w-1, y+1, x+w-1, selRect.y - 1);</span>
<span class="nc bnc" id="L150" title="All 2 branches missed.">            if (selRect.y + selRect.height &lt; y + h - 2 ) {</span>
<span class="nc" id="L151">                g.drawLine(x+w-1, selRect.y + selRect.height,</span>
                           x+w-1, y+h-2);
            }
        }
<span class="nc" id="L155">    }</span>

    protected void paintTabBackground(Graphics g,
                                      int tabPlacement, int tabIndex,
                                      int x, int y, int w, int h,
                                      boolean isSelected ) {
<span class="nc bnc" id="L161" title="All 2 branches missed.">        g.setColor(isSelected? tabPane.getBackgroundAt(tabIndex) : unselectedTabBackground);</span>
<span class="nc bnc" id="L162" title="All 4 branches missed.">        switch(tabPlacement) {</span>
          case LEFT:
<span class="nc" id="L164">              g.fillRect(x+1, y+1, w-1, h-2);</span>
<span class="nc" id="L165">              break;</span>
          case RIGHT:
<span class="nc" id="L167">              g.fillRect(x, y+1, w-1, h-2);</span>
<span class="nc" id="L168">              break;</span>
          case BOTTOM:
<span class="nc" id="L170">              g.fillRect(x+1, y, w-2, h-3);</span>
<span class="nc" id="L171">              g.drawLine(x+2, y+h-3, x+w-3, y+h-3);</span>
<span class="nc" id="L172">              g.drawLine(x+3, y+h-2, x+w-4, y+h-2);</span>
<span class="nc" id="L173">              break;</span>
          case TOP:
          default:
<span class="nc" id="L176">              g.fillRect(x+1, y+3, w-2, h-3);</span>
<span class="nc" id="L177">              g.drawLine(x+2, y+2, x+w-3, y+2);</span>
<span class="nc" id="L178">              g.drawLine(x+3, y+1, x+w-4, y+1);</span>
        }

<span class="nc" id="L181">    }</span>

    protected void paintTabBorder(Graphics g,
                                  int tabPlacement, int tabIndex,
                                  int x, int y, int w, int h,
                                  boolean isSelected) {
<span class="nc bnc" id="L187" title="All 2 branches missed.">        g.setColor(isSelected? lightHighlight : unselectedTabHighlight);</span>

<span class="nc bnc" id="L189" title="All 4 branches missed.">        switch(tabPlacement) {</span>
          case LEFT:
<span class="nc" id="L191">              g.drawLine(x, y+2, x, y+h-3);</span>
<span class="nc" id="L192">              g.drawLine(x+1, y+1, x+1, y+2);</span>
<span class="nc" id="L193">              g.drawLine(x+2, y, x+2, y+1);</span>
<span class="nc" id="L194">              g.drawLine(x+3, y, x+w-1, y);</span>
<span class="nc bnc" id="L195" title="All 2 branches missed.">              g.setColor(isSelected? shadow : unselectedTabShadow);</span>
<span class="nc" id="L196">              g.drawLine(x+1, y+h-3, x+1, y+h-2);</span>
<span class="nc" id="L197">              g.drawLine(x+2, y+h-2, x+2, y+h-1);</span>
<span class="nc" id="L198">              g.drawLine(x+3, y+h-1, x+w-1, y+h-1);</span>
<span class="nc" id="L199">              break;</span>
          case RIGHT:
<span class="nc" id="L201">              g.drawLine(x, y, x+w-3, y);</span>
<span class="nc bnc" id="L202" title="All 2 branches missed.">              g.setColor(isSelected? shadow : unselectedTabShadow);</span>
<span class="nc" id="L203">              g.drawLine(x+w-3, y, x+w-3, y+1);</span>
<span class="nc" id="L204">              g.drawLine(x+w-2, y+1, x+w-2, y+2);</span>
<span class="nc" id="L205">              g.drawLine(x+w-1, y+2, x+w-1, y+h-3);</span>
<span class="nc" id="L206">              g.drawLine(x+w-2, y+h-3, x+w-2, y+h-2);</span>
<span class="nc" id="L207">              g.drawLine(x+w-3, y+h-2, x+w-3, y+h-1);</span>
<span class="nc" id="L208">              g.drawLine(x, y+h-1, x+w-3, y+h-1);</span>
<span class="nc" id="L209">              break;</span>
          case BOTTOM:
<span class="nc" id="L211">              g.drawLine(x, y, x, y+h-3);</span>
<span class="nc" id="L212">              g.drawLine(x+1, y+h-3, x+1, y+h-2);</span>
<span class="nc" id="L213">              g.drawLine(x+2, y+h-2, x+2, y+h-1);</span>
<span class="nc bnc" id="L214" title="All 2 branches missed.">              g.setColor(isSelected? shadow : unselectedTabShadow);</span>
<span class="nc" id="L215">              g.drawLine(x+3, y+h-1, x+w-4, y+h-1);</span>
<span class="nc" id="L216">              g.drawLine(x+w-3, y+h-2, x+w-3, y+h-1);</span>
<span class="nc" id="L217">              g.drawLine(x+w-2, y+h-3, x+w-2, y+h-2);</span>
<span class="nc" id="L218">              g.drawLine(x+w-1, y, x+w-1, y+h-3);</span>
<span class="nc" id="L219">              break;</span>
          case TOP:
          default:
<span class="nc" id="L222">              g.drawLine(x, y+2, x, y+h-1);</span>
<span class="nc" id="L223">              g.drawLine(x+1, y+1, x+1, y+2);</span>
<span class="nc" id="L224">              g.drawLine(x+2, y, x+2, y+1);</span>
<span class="nc" id="L225">              g.drawLine(x+3, y, x+w-4, y);</span>
<span class="nc bnc" id="L226" title="All 2 branches missed.">              g.setColor(isSelected? shadow : unselectedTabShadow);</span>
<span class="nc" id="L227">              g.drawLine(x+w-3, y, x+w-3, y+1);</span>
<span class="nc" id="L228">              g.drawLine(x+w-2, y+1, x+w-2, y+2);</span>
<span class="nc" id="L229">              g.drawLine(x+w-1, y+2, x+w-1, y+h-1);</span>
        }

<span class="nc" id="L232">    }</span>

    protected void paintFocusIndicator(Graphics g, int tabPlacement,
                                       Rectangle[] rects, int tabIndex,
                                       Rectangle iconRect, Rectangle textRect,
                                       boolean isSelected) {
<span class="nc" id="L238">        Rectangle tabRect = rects[tabIndex];</span>
<span class="nc bnc" id="L239" title="All 4 branches missed.">        if (tabPane.hasFocus() &amp;&amp; isSelected) {</span>
            int x, y, w, h;
<span class="nc" id="L241">            g.setColor(focus);</span>
<span class="nc bnc" id="L242" title="All 4 branches missed.">            switch(tabPlacement) {</span>
              case LEFT:
<span class="nc" id="L244">                  x = tabRect.x + 3;</span>
<span class="nc" id="L245">                  y = tabRect.y + 3;</span>
<span class="nc" id="L246">                  w = tabRect.width - 6;</span>
<span class="nc" id="L247">                  h = tabRect.height - 7;</span>
<span class="nc" id="L248">                  break;</span>
              case RIGHT:
<span class="nc" id="L250">                  x = tabRect.x + 2;</span>
<span class="nc" id="L251">                  y = tabRect.y + 3;</span>
<span class="nc" id="L252">                  w = tabRect.width - 6;</span>
<span class="nc" id="L253">                  h = tabRect.height - 7;</span>
<span class="nc" id="L254">                  break;</span>
              case BOTTOM:
<span class="nc" id="L256">                  x = tabRect.x + 3;</span>
<span class="nc" id="L257">                  y = tabRect.y + 2;</span>
<span class="nc" id="L258">                  w = tabRect.width - 7;</span>
<span class="nc" id="L259">                  h = tabRect.height - 6;</span>
<span class="nc" id="L260">                  break;</span>
              case TOP:
              default:
<span class="nc" id="L263">                  x = tabRect.x + 3;</span>
<span class="nc" id="L264">                  y = tabRect.y + 3;</span>
<span class="nc" id="L265">                  w = tabRect.width - 7;</span>
<span class="nc" id="L266">                  h = tabRect.height - 6;</span>
            }
<span class="nc" id="L268">            g.drawRect(x, y, w, h);</span>
        }
<span class="nc" id="L270">    }</span>

    protected int getTabRunIndent(int tabPlacement, int run) {
<span class="nc" id="L273">        return run*3;</span>
    }

    protected int getTabRunOverlay(int tabPlacement) {
<span class="nc bnc" id="L277" title="All 4 branches missed.">        tabRunOverlay = (tabPlacement == LEFT || tabPlacement == RIGHT)?</span>
<span class="nc" id="L278">            (int)Math.round((float)maxTabWidth * .10) :</span>
<span class="nc" id="L279">            (int)Math.round((float)maxTabHeight * .22);</span>

        // Ensure that runover lay is not more than insets
        // 2 pixel offset is set from insets to each run
<span class="nc bnc" id="L283" title="All 5 branches missed.">        switch(tabPlacement) {</span>
        case LEFT:
<span class="nc bnc" id="L285" title="All 2 branches missed.">                if( tabRunOverlay &gt; tabInsets.right - 2 )</span>
<span class="nc" id="L286">                    tabRunOverlay = tabInsets.right - 2 ;</span>
                break;
        case RIGHT:
<span class="nc bnc" id="L289" title="All 2 branches missed.">                if( tabRunOverlay &gt; tabInsets.left - 2 )</span>
<span class="nc" id="L290">                    tabRunOverlay = tabInsets.left - 2 ;</span>
                break;
        case TOP:
<span class="nc bnc" id="L293" title="All 2 branches missed.">                if( tabRunOverlay &gt; tabInsets.bottom - 2 )</span>
<span class="nc" id="L294">                    tabRunOverlay = tabInsets.bottom - 2 ;</span>
                break;
        case BOTTOM:
<span class="nc bnc" id="L297" title="All 2 branches missed.">                if( tabRunOverlay &gt; tabInsets.top - 2 )</span>
<span class="nc" id="L298">                    tabRunOverlay = tabInsets.top - 2 ;</span>
                break;

        }

<span class="nc" id="L303">        return tabRunOverlay;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
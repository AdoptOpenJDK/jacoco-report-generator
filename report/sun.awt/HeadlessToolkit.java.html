<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>HeadlessToolkit.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">sun.awt</a> &gt; <span class="el_source">HeadlessToolkit.java</span></div><h1>HeadlessToolkit.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2000, 2008, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package sun.awt;

import java.awt.*;
import java.awt.dnd.*;
import java.awt.dnd.peer.DragSourceContextPeer;
import java.awt.event.*;
import java.awt.im.InputMethodHighlight;
import java.awt.image.*;
import java.awt.datatransfer.Clipboard;
import java.awt.peer.*;
import java.beans.PropertyChangeListener;
import java.net.URL;
import java.util.Map;
import java.util.Properties;

public class HeadlessToolkit extends Toolkit
    implements ComponentFactory, KeyboardFocusManagerPeerProvider {

<span class="fc" id="L44">    private static final KeyboardFocusManagerPeer kfmPeer = new KeyboardFocusManagerPeer() {</span>
<span class="nc" id="L45">        public void setCurrentFocusedWindow(Window win) {}</span>
<span class="nc" id="L46">        public Window getCurrentFocusedWindow() { return null; }</span>
<span class="nc" id="L47">        public void setCurrentFocusOwner(Component comp) {}</span>
<span class="nc" id="L48">        public Component getCurrentFocusOwner() { return null; }</span>
<span class="nc" id="L49">        public void clearGlobalFocusOwner(Window activeWindow) {}</span>
    };

    private Toolkit tk;
    private ComponentFactory componentFactory;

<span class="fc" id="L55">    public HeadlessToolkit(Toolkit tk) {</span>
<span class="fc" id="L56">        this.tk = tk;</span>
<span class="pc bpc" id="L57" title="1 of 2 branches missed.">        if (tk instanceof ComponentFactory) {</span>
<span class="fc" id="L58">            componentFactory = (ComponentFactory)tk;</span>
        }
<span class="fc" id="L60">    }</span>

    public Toolkit getUnderlyingToolkit() {
<span class="fc" id="L63">        return tk;</span>
    }

    /*
     * Component peer objects.
     */

    /* Lightweight implementation of Canvas and Panel */

    public CanvasPeer createCanvas(Canvas target) {
<span class="nc" id="L73">        return (CanvasPeer)createComponent(target);</span>
    }

    public PanelPeer createPanel(Panel target) {
<span class="nc" id="L77">        return (PanelPeer)createComponent(target);</span>
    }

    /*
     * Component peer objects - unsupported.
     */

    public WindowPeer createWindow(Window target)
        throws HeadlessException {
<span class="nc" id="L86">        throw new HeadlessException();</span>
    }

    public FramePeer createFrame(Frame target)
        throws HeadlessException {
<span class="nc" id="L91">        throw new HeadlessException();</span>
    }

    public DialogPeer createDialog(Dialog target)
        throws HeadlessException {
<span class="nc" id="L96">        throw new HeadlessException();</span>
    }

    public ButtonPeer createButton(Button target)
        throws HeadlessException {
<span class="nc" id="L101">        throw new HeadlessException();</span>
    }

    public TextFieldPeer createTextField(TextField target)
        throws HeadlessException {
<span class="nc" id="L106">        throw new HeadlessException();</span>
    }

    public ChoicePeer createChoice(Choice target)
        throws HeadlessException {
<span class="nc" id="L111">        throw new HeadlessException();</span>
    }

    public LabelPeer createLabel(Label target)
        throws HeadlessException {
<span class="nc" id="L116">        throw new HeadlessException();</span>
    }

    public ListPeer createList(List target)
        throws HeadlessException {
<span class="nc" id="L121">        throw new HeadlessException();</span>
    }

    public CheckboxPeer createCheckbox(Checkbox target)
        throws HeadlessException {
<span class="nc" id="L126">        throw new HeadlessException();</span>
    }

    public ScrollbarPeer createScrollbar(Scrollbar target)
        throws HeadlessException {
<span class="nc" id="L131">        throw new HeadlessException();</span>
    }

    public ScrollPanePeer createScrollPane(ScrollPane target)
        throws HeadlessException {
<span class="nc" id="L136">        throw new HeadlessException();</span>
    }

    public TextAreaPeer createTextArea(TextArea target)
        throws HeadlessException {
<span class="nc" id="L141">        throw new HeadlessException();</span>
    }

    public FileDialogPeer createFileDialog(FileDialog target)
        throws HeadlessException {
<span class="nc" id="L146">        throw new HeadlessException();</span>
    }

    public MenuBarPeer createMenuBar(MenuBar target)
        throws HeadlessException {
<span class="nc" id="L151">        throw new HeadlessException();</span>
    }

    public MenuPeer createMenu(Menu target)
        throws HeadlessException {
<span class="nc" id="L156">        throw new HeadlessException();</span>
    }

    public PopupMenuPeer createPopupMenu(PopupMenu target)
        throws HeadlessException {
<span class="nc" id="L161">        throw new HeadlessException();</span>
    }

    public MenuItemPeer createMenuItem(MenuItem target)
        throws HeadlessException {
<span class="nc" id="L166">        throw new HeadlessException();</span>
    }

    public CheckboxMenuItemPeer createCheckboxMenuItem(CheckboxMenuItem target)
        throws HeadlessException {
<span class="nc" id="L171">        throw new HeadlessException();</span>
    }

    public DragSourceContextPeer createDragSourceContextPeer(
        DragGestureEvent dge)
        throws InvalidDnDOperationException {
<span class="nc" id="L177">        throw new InvalidDnDOperationException(&quot;Headless environment&quot;);</span>
    }

    public RobotPeer createRobot(Robot target, GraphicsDevice screen)
        throws AWTException, HeadlessException {
<span class="nc" id="L182">        throw new HeadlessException();</span>
    }

    public KeyboardFocusManagerPeer getKeyboardFocusManagerPeer() {
        // See 6833019.
<span class="fc" id="L187">        return kfmPeer;</span>
    }

    public TrayIconPeer createTrayIcon(TrayIcon target)
      throws HeadlessException {
<span class="nc" id="L192">        throw new HeadlessException();</span>
    }

    public SystemTrayPeer createSystemTray(SystemTray target)
      throws HeadlessException {
<span class="nc" id="L197">        throw new HeadlessException();</span>
    }

    public boolean isTraySupported() {
<span class="nc" id="L201">        return false;</span>
    }

    public GlobalCursorManager getGlobalCursorManager()
        throws HeadlessException {
<span class="nc" id="L206">        throw new HeadlessException();</span>
    }

    /*
     * Headless toolkit - unsupported.
     */
    protected void loadSystemColors(int[] systemColors)
        throws HeadlessException {
<span class="nc" id="L214">        throw new HeadlessException();</span>
    }

    public ColorModel getColorModel()
        throws HeadlessException {
<span class="nc" id="L219">        throw new HeadlessException();</span>
    }

    public int getScreenResolution()
        throws HeadlessException {
<span class="nc" id="L224">        throw new HeadlessException();</span>
    }

    public Map mapInputMethodHighlight(InputMethodHighlight highlight)
        throws HeadlessException {
<span class="nc" id="L229">        throw new HeadlessException();</span>
    }

    public int getMenuShortcutKeyMask()
        throws HeadlessException {
<span class="nc" id="L234">        throw new HeadlessException();</span>
    }

    public boolean getLockingKeyState(int keyCode)
        throws UnsupportedOperationException {
<span class="nc" id="L239">        throw new HeadlessException();</span>
    }

    public void setLockingKeyState(int keyCode, boolean on)
        throws UnsupportedOperationException {
<span class="nc" id="L244">        throw new HeadlessException();</span>
    }

    public Cursor createCustomCursor(Image cursor, Point hotSpot, String name)
        throws IndexOutOfBoundsException, HeadlessException {
<span class="nc" id="L249">        throw new HeadlessException();</span>
    }

    public Dimension getBestCursorSize(int preferredWidth, int preferredHeight)
        throws HeadlessException {
<span class="nc" id="L254">        throw new HeadlessException();</span>
    }

    public int getMaximumCursorColors()
        throws HeadlessException {
<span class="nc" id="L259">        throw new HeadlessException();</span>
    }

    public &lt;T extends DragGestureRecognizer&gt; T
        createDragGestureRecognizer(Class&lt;T&gt; abstractRecognizerClass,
                                    DragSource ds, Component c,
                                    int srcActions, DragGestureListener dgl)
    {
<span class="nc" id="L267">        return null;</span>
    }

    public int getScreenHeight()
        throws HeadlessException {
<span class="nc" id="L272">        throw new HeadlessException();</span>
    }

    public int getScreenWidth()
        throws HeadlessException {
<span class="nc" id="L277">        throw new HeadlessException();</span>
    }

    public Dimension getScreenSize()
        throws HeadlessException {
<span class="nc" id="L282">        throw new HeadlessException();</span>
    }

    public Insets getScreenInsets(GraphicsConfiguration gc)
        throws HeadlessException {
<span class="nc" id="L287">        throw new HeadlessException();</span>
    }

    public void setDynamicLayout(boolean dynamic)
        throws HeadlessException {
<span class="nc" id="L292">        throw new HeadlessException();</span>
    }

    protected boolean isDynamicLayoutSet()
        throws HeadlessException {
<span class="nc" id="L297">        throw new HeadlessException();</span>
    }

    public boolean isDynamicLayoutActive()
        throws HeadlessException {
<span class="nc" id="L302">        throw new HeadlessException();</span>
    }

    public Clipboard getSystemClipboard()
        throws HeadlessException {
<span class="nc" id="L307">        throw new HeadlessException();</span>
    }

    /*
     * Printing
     */
    public PrintJob getPrintJob(Frame frame, String jobtitle,
        JobAttributes jobAttributes,
        PageAttributes pageAttributes) {
<span class="nc bnc" id="L316" title="All 2 branches missed.">        if (frame != null) {</span>
            // Should never happen
<span class="nc" id="L318">            throw new HeadlessException();</span>
        }
<span class="nc" id="L320">        throw new NullPointerException(&quot;frame must not be null&quot;);</span>
    }

    public PrintJob getPrintJob(Frame frame, String doctitle, Properties props)
    {
<span class="nc bnc" id="L325" title="All 2 branches missed.">        if (frame != null) {</span>
            // Should never happen
<span class="nc" id="L327">            throw new HeadlessException();</span>
        }
<span class="nc" id="L329">        throw new NullPointerException(&quot;frame must not be null&quot;);</span>
    }

    /*
     * Headless toolkit - supported.
     */

    public void sync() {
        // Do nothing
<span class="nc" id="L338">    }</span>

    public void beep() {
        // Send alert character
<span class="nc" id="L342">        System.out.write(0x07);</span>
<span class="nc" id="L343">    }</span>

    /*
     * Event Queue
     */
    public EventQueue getSystemEventQueueImpl() {
<span class="nc" id="L349">        return SunToolkit.getSystemEventQueueImplPP();</span>
    }

    /*
     * Images.
     */
    public int checkImage(Image img, int w, int h, ImageObserver o) {
<span class="nc" id="L356">        return tk.checkImage(img, w, h, o);</span>
    }

    public boolean prepareImage(
        Image img, int w, int h, ImageObserver o) {
<span class="nc" id="L361">        return tk.prepareImage(img, w, h, o);</span>
    }

    public Image getImage(String filename) {
<span class="nc" id="L365">        return tk.getImage(filename);</span>
    }

    public Image getImage(URL url) {
<span class="nc" id="L369">        return tk.getImage(url);</span>
    }

    public Image createImage(String filename) {
<span class="nc" id="L373">        return tk.createImage(filename);</span>
    }

    public Image createImage(URL url) {
<span class="nc" id="L377">        return tk.createImage(url);</span>
    }

    public Image createImage(byte[] data, int offset, int length) {
<span class="nc" id="L381">        return tk.createImage(data, offset, length);</span>
    }

    public Image createImage(ImageProducer producer) {
<span class="nc" id="L385">        return tk.createImage(producer);</span>
    }

    public Image createImage(byte[] imagedata) {
<span class="nc" id="L389">        return tk.createImage(imagedata);</span>
    }


    /*
     * Fonts
     */
    @SuppressWarnings(&quot;deprecation&quot;)
    public FontPeer getFontPeer(String name, int style) {
<span class="nc bnc" id="L398" title="All 2 branches missed.">        if (componentFactory != null) {</span>
<span class="nc" id="L399">            return componentFactory.getFontPeer(name, style);</span>
        }
<span class="nc" id="L401">        return null;</span>
    }

    @SuppressWarnings(&quot;deprecation&quot;)
    public FontMetrics getFontMetrics(Font font) {
<span class="nc" id="L406">        return tk.getFontMetrics(font);</span>
    }

    @SuppressWarnings(&quot;deprecation&quot;)
    public String[] getFontList() {
<span class="nc" id="L411">        return tk.getFontList();</span>
    }

    /*
     * Desktop properties
     */

    public void addPropertyChangeListener(String name,
        PropertyChangeListener pcl) {
<span class="fc" id="L420">        tk.addPropertyChangeListener(name, pcl);</span>
<span class="fc" id="L421">    }</span>

    public void removePropertyChangeListener(String name,
        PropertyChangeListener pcl) {
<span class="nc" id="L425">        tk.removePropertyChangeListener(name, pcl);</span>
<span class="nc" id="L426">    }</span>

    /*
     * Modality
     */
    public boolean isModalityTypeSupported(Dialog.ModalityType modalityType) {
<span class="nc" id="L432">        return false;</span>
    }

    public boolean isModalExclusionTypeSupported(Dialog.ModalExclusionType exclusionType) {
<span class="nc" id="L436">        return false;</span>
    }

    /*
     * Always on top
     */
    public boolean isAlwaysOnTopSupported() {
<span class="nc" id="L443">        return false;</span>
    }

    /*
     * AWT Event listeners
     */

    public void addAWTEventListener(AWTEventListener listener,
        long eventMask) {
<span class="nc" id="L452">        tk.addAWTEventListener(listener, eventMask);</span>
<span class="nc" id="L453">    }</span>

    public void removeAWTEventListener(AWTEventListener listener) {
<span class="nc" id="L456">        tk.removeAWTEventListener(listener);</span>
<span class="nc" id="L457">    }</span>

    public AWTEventListener[] getAWTEventListeners() {
<span class="nc" id="L460">        return tk.getAWTEventListeners();</span>
    }

    public AWTEventListener[] getAWTEventListeners(long eventMask) {
<span class="nc" id="L464">        return tk.getAWTEventListeners(eventMask);</span>
    }

    public boolean isDesktopSupported() {
<span class="nc" id="L468">        return false;</span>
    }

    public DesktopPeer createDesktopPeer(Desktop target)
    throws HeadlessException{
<span class="nc" id="L473">        throw new HeadlessException();</span>
    }

    public boolean areExtraMouseButtonsEnabled() throws HeadlessException{
<span class="nc" id="L477">        throw new HeadlessException();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../resources/report.gif" type="image/gif"/><title>Map.java</title><link rel="stylesheet" href="../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">javax.swing.text.html</a> &gt; <span class="el_source">Map.java</span></div><h1>Map.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1998, 2008, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */
package javax.swing.text.html;

import java.awt.Polygon;
import java.io.Serializable;
import java.util.StringTokenizer;
import java.util.Vector;
import javax.swing.text.AttributeSet;

/**
 * Map is used to represent a map element that is part of an HTML document.
 * Once a Map has been created, and any number of areas have been added,
 * you can test if a point falls inside the map via the contains method.
 *
 * @author  Scott Violet
 */
class Map implements Serializable {
    /** Name of the Map. */
    private String           name;
    /** An array of AttributeSets. */
    private Vector&lt;AttributeSet&gt;           areaAttributes;
    /** An array of RegionContainments, will slowly grow to match the
     * length of areaAttributes as needed. */
    private Vector&lt;RegionContainment&gt;           areas;

<span class="nc" id="L49">    public Map() {</span>
<span class="nc" id="L50">    }</span>

<span class="nc" id="L52">    public Map(String name) {</span>
<span class="nc" id="L53">        this.name = name;</span>
<span class="nc" id="L54">    }</span>

    /**
     * Returns the name of the Map.
     */
    public String getName() {
<span class="nc" id="L60">        return name;</span>
    }

    /**
     * Defines a region of the Map, based on the passed in AttributeSet.
     */
    public void addArea(AttributeSet as) {
<span class="nc bnc" id="L67" title="All 2 branches missed.">        if (as == null) {</span>
<span class="nc" id="L68">            return;</span>
        }
<span class="nc bnc" id="L70" title="All 2 branches missed.">        if (areaAttributes == null) {</span>
<span class="nc" id="L71">            areaAttributes = new Vector&lt;AttributeSet&gt;(2);</span>
        }
<span class="nc" id="L73">        areaAttributes.addElement(as.copyAttributes());</span>
<span class="nc" id="L74">    }</span>

    /**
     * Removes the previously created area.
     */
    public void removeArea(AttributeSet as) {
<span class="nc bnc" id="L80" title="All 4 branches missed.">        if (as != null &amp;&amp; areaAttributes != null) {</span>
<span class="nc bnc" id="L81" title="All 2 branches missed.">            int numAreas = (areas != null) ? areas.size() : 0;</span>
<span class="nc bnc" id="L82" title="All 2 branches missed.">            for (int counter = areaAttributes.size() - 1; counter &gt;= 0;</span>
<span class="nc" id="L83">                 counter--) {</span>
<span class="nc bnc" id="L84" title="All 2 branches missed.">                if (areaAttributes.elementAt(counter).isEqual(as)){</span>
<span class="nc" id="L85">                    areaAttributes.removeElementAt(counter);</span>
<span class="nc bnc" id="L86" title="All 2 branches missed.">                    if (counter &lt; numAreas) {</span>
<span class="nc" id="L87">                        areas.removeElementAt(counter);</span>
                    }
                }
            }
        }
<span class="nc" id="L92">    }</span>

    /**
     * Returns the AttributeSets representing the differet areas of the Map.
     */
    public AttributeSet[] getAreas() {
<span class="nc bnc" id="L98" title="All 2 branches missed.">        int numAttributes = (areaAttributes != null) ? areaAttributes.size() :</span>
                            0;
<span class="nc bnc" id="L100" title="All 2 branches missed.">        if (numAttributes != 0) {</span>
<span class="nc" id="L101">            AttributeSet[]    retValue = new AttributeSet[numAttributes];</span>

<span class="nc" id="L103">            areaAttributes.copyInto(retValue);</span>
<span class="nc" id="L104">            return retValue;</span>
        }
<span class="nc" id="L106">        return null;</span>
    }

    /**
     * Returns the AttributeSet that contains the passed in location,
     * &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;. &lt;code&gt;width&lt;/code&gt;, &lt;code&gt;height&lt;/code&gt;
     * gives the size of the region the map is defined over. If a matching
     * area is found, the AttribueSet for it is returned.
     */
    public AttributeSet getArea(int x, int y, int width, int height) {
<span class="nc bnc" id="L116" title="All 2 branches missed.">        int      numAttributes = (areaAttributes != null) ?</span>
<span class="nc" id="L117">                                 areaAttributes.size() : 0;</span>

<span class="nc bnc" id="L119" title="All 2 branches missed.">        if (numAttributes &gt; 0) {</span>
<span class="nc bnc" id="L120" title="All 2 branches missed.">            int      numAreas = (areas != null) ? areas.size() : 0;</span>

<span class="nc bnc" id="L122" title="All 2 branches missed.">            if (areas == null) {</span>
<span class="nc" id="L123">                areas = new Vector&lt;RegionContainment&gt;(numAttributes);</span>
            }
<span class="nc bnc" id="L125" title="All 2 branches missed.">            for (int counter = 0; counter &lt; numAttributes; counter++) {</span>
<span class="nc bnc" id="L126" title="All 2 branches missed.">                if (counter &gt;= numAreas) {</span>
<span class="nc" id="L127">                    areas.addElement(createRegionContainment</span>
<span class="nc" id="L128">                            (areaAttributes.elementAt(counter)));</span>
                }
<span class="nc" id="L130">                RegionContainment rc = areas.elementAt(counter);</span>
<span class="nc bnc" id="L131" title="All 4 branches missed.">                if (rc != null &amp;&amp; rc.contains(x, y, width, height)) {</span>
<span class="nc" id="L132">                    return areaAttributes.elementAt(counter);</span>
                }
            }
        }
<span class="nc" id="L136">        return null;</span>
    }

    /**
     * Creates and returns an instance of RegionContainment that can be
     * used to test if a particular point lies inside a region.
     */
    protected RegionContainment createRegionContainment
                                  (AttributeSet attributes) {
<span class="nc" id="L145">        Object     shape = attributes.getAttribute(HTML.Attribute.SHAPE);</span>

<span class="nc bnc" id="L147" title="All 2 branches missed.">        if (shape == null) {</span>
<span class="nc" id="L148">            shape = &quot;rect&quot;;</span>
        }
<span class="nc bnc" id="L150" title="All 2 branches missed.">        if (shape instanceof String) {</span>
<span class="nc" id="L151">            String                shapeString = ((String)shape).toLowerCase();</span>
<span class="nc" id="L152">            RegionContainment     rc = null;</span>

            try {
<span class="nc bnc" id="L155" title="All 2 branches missed.">                if (shapeString.equals(&quot;rect&quot;)) {</span>
<span class="nc" id="L156">                    rc = new RectangleRegionContainment(attributes);</span>
                }
<span class="nc bnc" id="L158" title="All 2 branches missed.">                else if (shapeString.equals(&quot;circle&quot;)) {</span>
<span class="nc" id="L159">                    rc = new CircleRegionContainment(attributes);</span>
                }
<span class="nc bnc" id="L161" title="All 2 branches missed.">                else if (shapeString.equals(&quot;poly&quot;)) {</span>
<span class="nc" id="L162">                    rc = new PolygonRegionContainment(attributes);</span>
                }
<span class="nc bnc" id="L164" title="All 2 branches missed.">                else if (shapeString.equals(&quot;default&quot;)) {</span>
<span class="nc" id="L165">                    rc = DefaultRegionContainment.sharedInstance();</span>
                }
<span class="nc" id="L167">            } catch (RuntimeException re) {</span>
                // Something wrong with attributes.
<span class="nc" id="L169">                rc = null;</span>
<span class="nc" id="L170">            }</span>
<span class="nc" id="L171">            return rc;</span>
        }
<span class="nc" id="L173">        return null;</span>
    }

    /**
     * Creates and returns an array of integers from the String
     * &lt;code&gt;stringCoords&lt;/code&gt;. If one of the values represents a
     * % the returned value with be negative. If a parse error results
     * from trying to parse one of the numbers null is returned.
     */
    static protected int[] extractCoords(Object stringCoords) {
<span class="nc bnc" id="L183" title="All 4 branches missed.">        if (stringCoords == null || !(stringCoords instanceof String)) {</span>
<span class="nc" id="L184">            return null;</span>
        }

<span class="nc" id="L187">        StringTokenizer    st = new StringTokenizer((String)stringCoords,</span>
                                                    &quot;, \t\n\r&quot;);
<span class="nc" id="L189">        int[]              retValue = null;</span>
<span class="nc" id="L190">        int                numCoords = 0;</span>

<span class="nc bnc" id="L192" title="All 2 branches missed.">        while(st.hasMoreElements()) {</span>
<span class="nc" id="L193">            String         token = st.nextToken();</span>
            int            scale;

<span class="nc bnc" id="L196" title="All 2 branches missed.">            if (token.endsWith(&quot;%&quot;)) {</span>
<span class="nc" id="L197">                scale = -1;</span>
<span class="nc" id="L198">                token = token.substring(0, token.length() - 1);</span>
            }
            else {
<span class="nc" id="L201">                scale = 1;</span>
            }
            try {
<span class="nc" id="L204">                int       intValue = Integer.parseInt(token);</span>

<span class="nc bnc" id="L206" title="All 2 branches missed.">                if (retValue == null) {</span>
<span class="nc" id="L207">                    retValue = new int[4];</span>
                }
<span class="nc bnc" id="L209" title="All 2 branches missed.">                else if(numCoords == retValue.length) {</span>
<span class="nc" id="L210">                    int[]    temp = new int[retValue.length * 2];</span>

<span class="nc" id="L212">                    System.arraycopy(retValue, 0, temp, 0, retValue.length);</span>
<span class="nc" id="L213">                    retValue = temp;</span>
                }
<span class="nc" id="L215">                retValue[numCoords++] = intValue * scale;</span>
<span class="nc" id="L216">            } catch (NumberFormatException nfe) {</span>
<span class="nc" id="L217">                return null;</span>
<span class="nc" id="L218">            }</span>
<span class="nc" id="L219">        }</span>
<span class="nc bnc" id="L220" title="All 4 branches missed.">        if (numCoords &gt; 0 &amp;&amp; numCoords != retValue.length) {</span>
<span class="nc" id="L221">            int[]    temp = new int[numCoords];</span>

<span class="nc" id="L223">            System.arraycopy(retValue, 0, temp, 0, numCoords);</span>
<span class="nc" id="L224">            retValue = temp;</span>
        }
<span class="nc" id="L226">        return retValue;</span>
    }


    /**
     * Defines the interface used for to check if a point is inside a
     * region.
     */
    interface RegionContainment {
        /**
         * Returns true if the location &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;
         * falls inside the region defined in the receiver.
         * &lt;code&gt;width&lt;/code&gt;, &lt;code&gt;height&lt;/code&gt; is the size of
         * the enclosing region.
         */
        public boolean contains(int x, int y, int width, int height);
    }


    /**
     * Used to test for containment in a rectangular region.
     */
    static class RectangleRegionContainment implements RegionContainment {
        /** Will be non-null if one of the values is a percent, and any value
         * that is non null indicates it is a percent
         * (order is x, y, width, height). */
        float[]       percents;
        /** Last value of width passed in. */
        int           lastWidth;
        /** Last value of height passed in. */
        int           lastHeight;
        /** Top left. */
        int           x0;
        int           y0;
        /** Bottom right. */
        int           x1;
        int           y1;

<span class="nc" id="L264">        public RectangleRegionContainment(AttributeSet as) {</span>
<span class="nc" id="L265">            int[]    coords = Map.extractCoords(as.getAttribute(HTML.</span>
                                                           Attribute.COORDS));

<span class="nc" id="L268">            percents = null;</span>
<span class="nc bnc" id="L269" title="All 4 branches missed.">            if (coords == null || coords.length != 4) {</span>
<span class="nc" id="L270">                throw new RuntimeException(&quot;Unable to parse rectangular area&quot;);</span>
            }
            else {
<span class="nc" id="L273">                x0 = coords[0];</span>
<span class="nc" id="L274">                y0 = coords[1];</span>
<span class="nc" id="L275">                x1 = coords[2];</span>
<span class="nc" id="L276">                y1 = coords[3];</span>
<span class="nc bnc" id="L277" title="All 8 branches missed.">                if (x0 &lt; 0 || y0 &lt; 0 || x1 &lt; 0 || y1 &lt; 0) {</span>
<span class="nc" id="L278">                    percents = new float[4];</span>
<span class="nc" id="L279">                    lastWidth = lastHeight = -1;</span>
<span class="nc bnc" id="L280" title="All 2 branches missed.">                    for (int counter = 0; counter &lt; 4; counter++) {</span>
<span class="nc bnc" id="L281" title="All 2 branches missed.">                        if (coords[counter] &lt; 0) {</span>
<span class="nc" id="L282">                            percents[counter] = Math.abs</span>
<span class="nc" id="L283">                                        (coords[counter]) / 100.0f;</span>
                        }
                        else {
<span class="nc" id="L286">                            percents[counter] = -1.0f;</span>
                        }
                    }
                }
            }
<span class="nc" id="L291">        }</span>

        public boolean contains(int x, int y, int width, int height) {
<span class="nc bnc" id="L294" title="All 2 branches missed.">            if (percents == null) {</span>
<span class="nc" id="L295">                return contains(x, y);</span>
            }
<span class="nc bnc" id="L297" title="All 4 branches missed.">            if (lastWidth != width || lastHeight != height) {</span>
<span class="nc" id="L298">                lastWidth = width;</span>
<span class="nc" id="L299">                lastHeight = height;</span>
<span class="nc bnc" id="L300" title="All 2 branches missed.">                if (percents[0] != -1.0f) {</span>
<span class="nc" id="L301">                    x0 = (int)(percents[0] * width);</span>
                }
<span class="nc bnc" id="L303" title="All 2 branches missed.">                if (percents[1] != -1.0f) {</span>
<span class="nc" id="L304">                    y0 = (int)(percents[1] * height);</span>
                }
<span class="nc bnc" id="L306" title="All 2 branches missed.">                if (percents[2] != -1.0f) {</span>
<span class="nc" id="L307">                    x1 = (int)(percents[2] * width);</span>
                }
<span class="nc bnc" id="L309" title="All 2 branches missed.">                if (percents[3] != -1.0f) {</span>
<span class="nc" id="L310">                    y1 = (int)(percents[3] * height);</span>
                }
            }
<span class="nc" id="L313">            return contains(x, y);</span>
        }

        public boolean contains(int x, int y) {
<span class="nc bnc" id="L317" title="All 8 branches missed.">            return ((x &gt;= x0 &amp;&amp; x &lt;= x1) &amp;&amp;</span>
                    (y &gt;= y0 &amp;&amp; y &lt;= y1));
        }
    }


    /**
     * Used to test for containment in a polygon region.
     */
    static class PolygonRegionContainment extends Polygon implements
                 RegionContainment {
        /** If any value is a percent there will be an entry here for the
         * percent value. Use percentIndex to find out the index for it. */
        float[]           percentValues;
        int[]             percentIndexs;
        /** Last value of width passed in. */
        int               lastWidth;
        /** Last value of height passed in. */
        int               lastHeight;

<span class="nc" id="L337">        public PolygonRegionContainment(AttributeSet as) {</span>
<span class="nc" id="L338">            int[]    coords = Map.extractCoords(as.getAttribute(HTML.Attribute.</span>
                                                                COORDS));

<span class="nc bnc" id="L341" title="All 6 branches missed.">            if (coords == null || coords.length == 0 ||</span>
                coords.length % 2 != 0) {
<span class="nc" id="L343">                throw new RuntimeException(&quot;Unable to parse polygon area&quot;);</span>
            }
            else {
<span class="nc" id="L346">                int        numPercents = 0;</span>

<span class="nc" id="L348">                lastWidth = lastHeight = -1;</span>
<span class="nc bnc" id="L349" title="All 2 branches missed.">                for (int counter = coords.length - 1; counter &gt;= 0;</span>
<span class="nc" id="L350">                     counter--) {</span>
<span class="nc bnc" id="L351" title="All 2 branches missed.">                    if (coords[counter] &lt; 0) {</span>
<span class="nc" id="L352">                        numPercents++;</span>
                    }
                }

<span class="nc bnc" id="L356" title="All 2 branches missed.">                if (numPercents &gt; 0) {</span>
<span class="nc" id="L357">                    percentIndexs = new int[numPercents];</span>
<span class="nc" id="L358">                    percentValues = new float[numPercents];</span>
<span class="nc" id="L359">                    for (int counter = coords.length - 1, pCounter = 0;</span>
<span class="nc bnc" id="L360" title="All 2 branches missed.">                         counter &gt;= 0; counter--) {</span>
<span class="nc bnc" id="L361" title="All 2 branches missed.">                        if (coords[counter] &lt; 0) {</span>
<span class="nc" id="L362">                            percentValues[pCounter] = coords[counter] /</span>
                                                      -100.0f;
<span class="nc" id="L364">                            percentIndexs[pCounter] = counter;</span>
<span class="nc" id="L365">                            pCounter++;</span>
                        }
                    }
                }
                else {
<span class="nc" id="L370">                    percentIndexs = null;</span>
<span class="nc" id="L371">                    percentValues = null;</span>
                }
<span class="nc" id="L373">                npoints = coords.length / 2;</span>
<span class="nc" id="L374">                xpoints = new int[npoints];</span>
<span class="nc" id="L375">                ypoints = new int[npoints];</span>

<span class="nc bnc" id="L377" title="All 2 branches missed.">                for (int counter = 0; counter &lt; npoints; counter++) {</span>
<span class="nc" id="L378">                    xpoints[counter] = coords[counter + counter];</span>
<span class="nc" id="L379">                    ypoints[counter] = coords[counter + counter + 1];</span>
                }
            }
<span class="nc" id="L382">        }</span>

        public boolean contains(int x, int y, int width, int height) {
<span class="nc bnc" id="L385" title="All 6 branches missed.">            if (percentValues == null || (lastWidth == width &amp;&amp;</span>
                                          lastHeight == height)) {
<span class="nc" id="L387">                return contains(x, y);</span>
            }
            // Force the bounding box to be recalced.
<span class="nc" id="L390">            bounds = null;</span>
<span class="nc" id="L391">            lastWidth = width;</span>
<span class="nc" id="L392">            lastHeight = height;</span>
<span class="nc" id="L393">            float fWidth = (float)width;</span>
<span class="nc" id="L394">            float fHeight = (float)height;</span>
<span class="nc bnc" id="L395" title="All 2 branches missed.">            for (int counter = percentValues.length - 1; counter &gt;= 0;</span>
<span class="nc" id="L396">                 counter--) {</span>
<span class="nc bnc" id="L397" title="All 2 branches missed.">                if (percentIndexs[counter] % 2 == 0) {</span>
                    // x
<span class="nc" id="L399">                    xpoints[percentIndexs[counter] / 2] =</span>
                            (int)(percentValues[counter] * fWidth);
                }
                else {
                    // y
<span class="nc" id="L404">                    ypoints[percentIndexs[counter] / 2] =</span>
                            (int)(percentValues[counter] * fHeight);
                }
            }
<span class="nc" id="L408">            return contains(x, y);</span>
        }
    }


    /**
     * Used to test for containment in a circular region.
     */
    static class CircleRegionContainment implements RegionContainment {
        /** X origin of the circle. */
        int           x;
        /** Y origin of the circle. */
        int           y;
        /** Radius of the circle. */
        int           radiusSquared;
        /** Non-null indicates one of the values represents a percent. */
        float[]       percentValues;
        /** Last value of width passed in. */
        int           lastWidth;
        /** Last value of height passed in. */
        int           lastHeight;

<span class="nc" id="L430">        public CircleRegionContainment(AttributeSet as) {</span>
<span class="nc" id="L431">            int[]    coords = Map.extractCoords(as.getAttribute(HTML.Attribute.</span>
                                                                COORDS));

<span class="nc bnc" id="L434" title="All 4 branches missed.">            if (coords == null || coords.length != 3) {</span>
<span class="nc" id="L435">                throw new RuntimeException(&quot;Unable to parse circular area&quot;);</span>
            }
<span class="nc" id="L437">            x = coords[0];</span>
<span class="nc" id="L438">            y = coords[1];</span>
<span class="nc" id="L439">            radiusSquared = coords[2] * coords[2];</span>
<span class="nc bnc" id="L440" title="All 6 branches missed.">            if (coords[0] &lt; 0 || coords[1] &lt; 0 || coords[2] &lt; 0) {</span>
<span class="nc" id="L441">                lastWidth = lastHeight = -1;</span>
<span class="nc" id="L442">                percentValues = new float[3];</span>
<span class="nc bnc" id="L443" title="All 2 branches missed.">                for (int counter = 0; counter &lt; 3; counter++) {</span>
<span class="nc bnc" id="L444" title="All 2 branches missed.">                    if (coords[counter] &lt; 0) {</span>
<span class="nc" id="L445">                        percentValues[counter] = coords[counter] /</span>
                                                 -100.0f;
                    }
                    else {
<span class="nc" id="L449">                        percentValues[counter] = -1.0f;</span>
                    }
                }
            }
            else {
<span class="nc" id="L454">                percentValues = null;</span>
            }
<span class="nc" id="L456">        }</span>

        public boolean contains(int x, int y, int width, int height) {
<span class="nc bnc" id="L459" title="All 6 branches missed.">            if (percentValues != null &amp;&amp; (lastWidth != width ||</span>
                                          lastHeight != height)) {
<span class="nc" id="L461">                int      newRad = Math.min(width, height) / 2;</span>

<span class="nc" id="L463">                lastWidth = width;</span>
<span class="nc" id="L464">                lastHeight = height;</span>
<span class="nc bnc" id="L465" title="All 2 branches missed.">                if (percentValues[0] != -1.0f) {</span>
<span class="nc" id="L466">                    this.x = (int)(percentValues[0] * width);</span>
                }
<span class="nc bnc" id="L468" title="All 2 branches missed.">                if (percentValues[1] != -1.0f) {</span>
<span class="nc" id="L469">                    this.y = (int)(percentValues[1] * height);</span>
                }
<span class="nc bnc" id="L471" title="All 2 branches missed.">                if (percentValues[2] != -1.0f) {</span>
<span class="nc" id="L472">                    radiusSquared = (int)(percentValues[2] *</span>
<span class="nc" id="L473">                                   Math.min(width, height));</span>
<span class="nc" id="L474">                    radiusSquared *= radiusSquared;</span>
                }
            }
<span class="nc bnc" id="L477" title="All 2 branches missed.">            return (((x - this.x) * (x - this.x) +</span>
                     (y - this.y) * (y - this.y)) &lt;= radiusSquared);
        }
    }


    /**
     * An implementation that will return true if the x, y location is
     * inside a rectangle defined by origin 0, 0, and width equal to
     * width passed in, and height equal to height passed in.
     */
<span class="nc" id="L488">    static class DefaultRegionContainment implements RegionContainment {</span>
        /** A global shared instance. */
<span class="nc" id="L490">        static DefaultRegionContainment  si = null;</span>

        public static DefaultRegionContainment sharedInstance() {
<span class="nc bnc" id="L493" title="All 2 branches missed.">            if (si == null) {</span>
<span class="nc" id="L494">                si = new DefaultRegionContainment();</span>
            }
<span class="nc" id="L496">            return si;</span>
        }

        public boolean contains(int x, int y, int width, int height) {
<span class="nc bnc" id="L500" title="All 8 branches missed.">            return (x &lt;= width &amp;&amp; x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; y &lt;= width);</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
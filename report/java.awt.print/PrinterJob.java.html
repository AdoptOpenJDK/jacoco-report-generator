<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../resources/report.gif" type="image/gif"/><title>PrinterJob.java</title><link rel="stylesheet" href="../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Foo</a> &gt; <a href="index.html" class="el_package">java.awt.print</a> &gt; <span class="el_source">PrinterJob.java</span></div><h1>PrinterJob.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1997, 2006, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package java.awt.print;

import java.awt.AWTError;
import java.awt.HeadlessException;
import java.util.Enumeration;

import javax.print.DocFlavor;
import javax.print.PrintService;
import javax.print.PrintServiceLookup;
import javax.print.StreamPrintServiceFactory;
import javax.print.attribute.PrintRequestAttributeSet;
import javax.print.attribute.standard.Media;
import javax.print.attribute.standard.MediaPrintableArea;
import javax.print.attribute.standard.MediaSize;
import javax.print.attribute.standard.MediaSizeName;
import javax.print.attribute.standard.OrientationRequested;

import sun.security.action.GetPropertyAction;

/**
 * The &lt;code&gt;PrinterJob&lt;/code&gt; class is the principal class that controls
 * printing. An application calls methods in this class to set up a job,
 * optionally to invoke a print dialog with the user, and then to print
 * the pages of the job.
 */
public abstract class PrinterJob {

 /* Public Class Methods */

    /**
     * Creates and returns a &lt;code&gt;PrinterJob&lt;/code&gt; which is initially
     * associated with the default printer.
     * If no printers are available on the system, a PrinterJob will still
     * be returned from this method, but &lt;code&gt;getPrintService()&lt;/code&gt;
     * will return &lt;code&gt;null&lt;/code&gt;, and calling
     * {@link #print() print} with this &lt;code&gt;PrinterJob&lt;/code&gt; might
     * generate an exception.  Applications that need to determine if
     * there are suitable printers before creating a &lt;code&gt;PrinterJob&lt;/code&gt;
     * should ensure that the array returned from
     * {@link #lookupPrintServices() lookupPrintServices} is not empty.
     * @return a new &lt;code&gt;PrinterJob&lt;/code&gt;.
     *
     * @throws  SecurityException if a security manager exists and its
     *          {@link java.lang.SecurityManager#checkPrintJobAccess}
     *          method disallows this thread from creating a print job request
     */
    public static PrinterJob getPrinterJob() {
<span class="nc" id="L73">        SecurityManager security = System.getSecurityManager();</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">        if (security != null) {</span>
<span class="nc" id="L75">            security.checkPrintJobAccess();</span>
        }
<span class="nc" id="L77">        return (PrinterJob) java.security.AccessController.doPrivileged(</span>
<span class="nc" id="L78">            new java.security.PrivilegedAction() {</span>
            public Object run() {
<span class="nc" id="L80">                String nm = System.getProperty(&quot;java.awt.printerjob&quot;, null);</span>
                try {
<span class="nc" id="L82">                    return (PrinterJob)Class.forName(nm).newInstance();</span>
<span class="nc" id="L83">                } catch (ClassNotFoundException e) {</span>
<span class="nc" id="L84">                    throw new AWTError(&quot;PrinterJob not found: &quot; + nm);</span>
<span class="nc" id="L85">                } catch (InstantiationException e) {</span>
<span class="nc" id="L86">                 throw new AWTError(&quot;Could not instantiate PrinterJob: &quot; + nm);</span>
<span class="nc" id="L87">                } catch (IllegalAccessException e) {</span>
<span class="nc" id="L88">                    throw new AWTError(&quot;Could not access PrinterJob: &quot; + nm);</span>
                }
            }
        });
    }

    /**
     * A convenience method which looks up 2D print services.
     * Services returned from this method may be installed on
     * &lt;code&gt;PrinterJob&lt;/code&gt;s which support print services.
     * Calling this method is equivalent to calling
     * {@link javax.print.PrintServiceLookup#lookupPrintServices(
     * DocFlavor, AttributeSet)
     * PrintServiceLookup.lookupPrintServices()}
     * and specifying a Pageable DocFlavor.
     * @return a possibly empty array of 2D print services.
     * @since     1.4
     */
    public static PrintService[] lookupPrintServices() {
<span class="nc" id="L107">        return PrintServiceLookup.</span>
<span class="nc" id="L108">            lookupPrintServices(DocFlavor.SERVICE_FORMATTED.PAGEABLE, null);</span>
    }


    /**
     * A convenience method which locates factories for stream print
     * services which can image 2D graphics.
     * Sample usage :
     * &lt;pre&gt;
     * FileOutputStream outstream;
     * StreamPrintService psPrinter;
     * String psMimeType = &quot;application/postscript&quot;;
     * PrinterJob pj = PrinterJob.getPrinterJob();
     *
     * StreamPrintServiceFactory[] factories =
     *     PrinterJob.lookupStreamPrintServices(psMimeType);
     * if (factories.length &gt; 0) {
     *     try {
     *         outstream = new File(&quot;out.ps&quot;);
     *         psPrinter =  factories[0].getPrintService(outstream);
     *         // psPrinter can now be set as the service on a PrinterJob
     *         pj.setPrintService(psPrinter)
     *     } catch (Exception e) {
     *         e.printStackTrace();
     *     }
     * }
     * &lt;/pre&gt;
     * Services returned from this method may be installed on
     * &lt;code&gt;PrinterJob&lt;/code&gt; instances which support print services.
     * Calling this method is equivalent to calling
     * {@link javax.print.StreamPrintServiceFactory#lookupStreamPrintServiceFactories(DocFlavor, String)
     * StreamPrintServiceFactory.lookupStreamPrintServiceFactories()
     * } and specifying a Pageable DocFlavor.
     *
     * @param mimeType the required output format, or null to mean any format.
     * @return a possibly empty array of 2D stream print service factories.
     * @since     1.4
     */
    public static StreamPrintServiceFactory[]
        lookupStreamPrintServices(String mimeType) {
<span class="nc" id="L148">        return StreamPrintServiceFactory.lookupStreamPrintServiceFactories(</span>
                                       DocFlavor.SERVICE_FORMATTED.PAGEABLE,
                                       mimeType);
    }


 /* Public Methods */

    /**
     * A &lt;code&gt;PrinterJob&lt;/code&gt; object should be created using the
     * static {@link #getPrinterJob() getPrinterJob} method.
     */
<span class="nc" id="L160">    public PrinterJob() {</span>
<span class="nc" id="L161">    }</span>

    /**
     * Returns the service (printer) for this printer job.
     * Implementations of this class which do not support print services
     * may return null.  null will also be returned if no printers are
     * available.
     * @return the service for this printer job.
     * @see #setPrintService(PrintService)
     * @see #getPrinterJob()
     * @since     1.4
     */
    public PrintService getPrintService() {
<span class="nc" id="L174">        return null;</span>
    }

    /**
     * Associate this PrinterJob with a new PrintService.
     * This method is overridden by subclasses which support
     * specifying a Print Service.
     *
     * Throws &lt;code&gt;PrinterException&lt;/code&gt; if the specified service
     * cannot support the &lt;code&gt;Pageable&lt;/code&gt; and
     * &lt;code&gt;Printable&lt;/code&gt; interfaces necessary to support 2D printing.
     * @param service a print service that supports 2D printing
     * @exception PrinterException if the specified service does not support
     * 2D printing, or this PrinterJob class does not support
     * setting a 2D print service, or the specified service is
     * otherwise not a valid print service.
     * @see #getPrintService
     * @since     1.4
     */
    public void setPrintService(PrintService service)
        throws PrinterException {
<span class="nc" id="L195">            throw new PrinterException(</span>
                         &quot;Setting a service is not supported on this class&quot;);
    }

    /**
     * Calls &lt;code&gt;painter&lt;/code&gt; to render the pages.  The pages in the
     * document to be printed by this
     * &lt;code&gt;PrinterJob&lt;/code&gt; are rendered by the {@link Printable}
     * object, &lt;code&gt;painter&lt;/code&gt;.  The {@link PageFormat} for each page
     * is the default page format.
     * @param painter the &lt;code&gt;Printable&lt;/code&gt; that renders each page of
     * the document.
     */
    public abstract void setPrintable(Printable painter);

    /**
     * Calls &lt;code&gt;painter&lt;/code&gt; to render the pages in the specified
     * &lt;code&gt;format&lt;/code&gt;.  The pages in the document to be printed by
     * this &lt;code&gt;PrinterJob&lt;/code&gt; are rendered by the
     * &lt;code&gt;Printable&lt;/code&gt; object, &lt;code&gt;painter&lt;/code&gt;. The
     * &lt;code&gt;PageFormat&lt;/code&gt; of each page is &lt;code&gt;format&lt;/code&gt;.
     * @param painter the &lt;code&gt;Printable&lt;/code&gt; called to render
     *          each page of the document
     * @param format the size and orientation of each page to
     *                   be printed
     */
    public abstract void setPrintable(Printable painter, PageFormat format);

    /**
     * Queries &lt;code&gt;document&lt;/code&gt; for the number of pages and
     * the &lt;code&gt;PageFormat&lt;/code&gt; and &lt;code&gt;Printable&lt;/code&gt; for each
     * page held in the &lt;code&gt;Pageable&lt;/code&gt; instance,
     * &lt;code&gt;document&lt;/code&gt;.
     * @param document the pages to be printed. It can not be
     * &lt;code&gt;null&lt;/code&gt;.
     * @exception NullPointerException the &lt;code&gt;Pageable&lt;/code&gt; passed in
     * was &lt;code&gt;null&lt;/code&gt;.
     * @see PageFormat
     * @see Printable
     */
    public abstract void setPageable(Pageable document)
        throws NullPointerException;

    /**
     * Presents a dialog to the user for changing the properties of
     * the print job.
     * This method will display a native dialog if a native print
     * service is selected, and user choice of printers will be restricted
     * to these native print services.
     * To present the cross platform print dialog for all services,
     * including native ones instead use
     * &lt;code&gt;printDialog(PrintRequestAttributeSet)&lt;/code&gt;.
     * &lt;p&gt;
     * PrinterJob implementations which can use PrintService's will update
     * the PrintService for this PrinterJob to reflect the new service
     * selected by the user.
     * @return &lt;code&gt;true&lt;/code&gt; if the user does not cancel the dialog;
     * &lt;code&gt;false&lt;/code&gt; otherwise.
     * @exception HeadlessException if GraphicsEnvironment.isHeadless()
     * returns true.
     * @see java.awt.GraphicsEnvironment#isHeadless
     */
    public abstract boolean printDialog() throws HeadlessException;

    /**
     * A convenience method which displays a cross-platform print dialog
     * for all services which are capable of printing 2D graphics using the
     * &lt;code&gt;Pageable&lt;/code&gt; interface. The selected printer when the
     * dialog is initially displayed will reflect the print service currently
     * attached to this print job.
     * If the user changes the print service, the PrinterJob will be
     * updated to reflect this, unless the user cancels the dialog.
     * As well as allowing the user to select the destination printer,
     * the user can also select values of various print request attributes.
     * &lt;p&gt;
     * The attributes parameter on input will reflect the applications
     * required initial selections in the user dialog. Attributes not
     * specified display using the default for the service. On return it
     * will reflect the user's choices. Selections may be updated by
     * the implementation to be consistent with the supported values
     * for the currently selected print service.
     * &lt;p&gt;
     * As the user scrolls to a new print service selection, the values
     * copied are based on the settings for the previous service, together
     * with any user changes. The values are not based on the original
     * settings supplied by the client.
     * &lt;p&gt;
     * With the exception of selected printer, the PrinterJob state is
     * not updated to reflect the user's changes.
     * For the selections to affect a printer job, the attributes must
     * be specified in the call to the
     * &lt;code&gt;print(PrintRequestAttributeSet)&lt;/code&gt; method. If using
     * the Pageable interface, clients which intend to use media selected
     * by the user must create a PageFormat derived from the user's
     * selections.
     * If the user cancels the dialog, the attributes will not reflect
     * any changes made by the user.
     * @param attributes on input is application supplied attributes,
     * on output the contents are updated to reflect user choices.
     * This parameter may not be null.
     * @return &lt;code&gt;true&lt;/code&gt; if the user does not cancel the dialog;
     * &lt;code&gt;false&lt;/code&gt; otherwise.
     * @exception HeadlessException if GraphicsEnvironment.isHeadless()
     * returns true.
     * @exception NullPointerException if &lt;code&gt;attributes&lt;/code&gt; parameter
     * is null.
     * @see java.awt.GraphicsEnvironment#isHeadless
     * @since     1.4
     *
     */
    public boolean printDialog(PrintRequestAttributeSet attributes)
        throws HeadlessException {

<span class="nc bnc" id="L308" title="All 2 branches missed.">        if (attributes == null) {</span>
<span class="nc" id="L309">            throw new NullPointerException(&quot;attributes&quot;);</span>
        }
<span class="nc" id="L311">        return printDialog();</span>
    }

    /**
     * Displays a dialog that allows modification of a
     * &lt;code&gt;PageFormat&lt;/code&gt; instance.
     * The &lt;code&gt;page&lt;/code&gt; argument is used to initialize controls
     * in the page setup dialog.
     * If the user cancels the dialog then this method returns the
     * original &lt;code&gt;page&lt;/code&gt; object unmodified.
     * If the user okays the dialog then this method returns a new
     * &lt;code&gt;PageFormat&lt;/code&gt; object with the indicated changes.
     * In either case, the original &lt;code&gt;page&lt;/code&gt; object is
     * not modified.
     * @param page the default &lt;code&gt;PageFormat&lt;/code&gt; presented to the
     *                  user for modification
     * @return    the original &lt;code&gt;page&lt;/code&gt; object if the dialog
     *            is cancelled; a new &lt;code&gt;PageFormat&lt;/code&gt; object
     *            containing the format indicated by the user if the
     *            dialog is acknowledged.
     * @exception HeadlessException if GraphicsEnvironment.isHeadless()
     * returns true.
     * @see java.awt.GraphicsEnvironment#isHeadless
     * @since     1.2
     */
    public abstract PageFormat pageDialog(PageFormat page)
        throws HeadlessException;

    /**
     * A convenience method which displays a cross-platform page setup dialog.
     * The choices available will reflect the print service currently
     * set on this PrinterJob.
     * &lt;p&gt;
     * The attributes parameter on input will reflect the client's
     * required initial selections in the user dialog. Attributes which are
     * not specified display using the default for the service. On return it
     * will reflect the user's choices. Selections may be updated by
     * the implementation to be consistent with the supported values
     * for the currently selected print service.
     * &lt;p&gt;
     * The return value will be a PageFormat equivalent to the
     * selections in the PrintRequestAttributeSet.
     * If the user cancels the dialog, the attributes will not reflect
     * any changes made by the user, and the return value will be null.
     * @param attributes on input is application supplied attributes,
     * on output the contents are updated to reflect user choices.
     * This parameter may not be null.
     * @return a page format if the user does not cancel the dialog;
     * &lt;code&gt;null&lt;/code&gt; otherwise.
     * @exception HeadlessException if GraphicsEnvironment.isHeadless()
     * returns true.
     * @exception NullPointerException if &lt;code&gt;attributes&lt;/code&gt; parameter
     * is null.
     * @see java.awt.GraphicsEnvironment#isHeadless
     * @since     1.4
     *
     */
    public PageFormat pageDialog(PrintRequestAttributeSet attributes)
        throws HeadlessException {

<span class="nc bnc" id="L371" title="All 2 branches missed.">        if (attributes == null) {</span>
<span class="nc" id="L372">            throw new NullPointerException(&quot;attributes&quot;);</span>
        }
<span class="nc" id="L374">        return pageDialog(defaultPage());</span>
    }

    /**
     * Clones the &lt;code&gt;PageFormat&lt;/code&gt; argument and alters the
     * clone to describe a default page size and orientation.
     * @param page the &lt;code&gt;PageFormat&lt;/code&gt; to be cloned and altered
     * @return clone of &lt;code&gt;page&lt;/code&gt;, altered to describe a default
     *                      &lt;code&gt;PageFormat&lt;/code&gt;.
     */
    public abstract PageFormat defaultPage(PageFormat page);

    /**
     * Creates a new &lt;code&gt;PageFormat&lt;/code&gt; instance and
     * sets it to a default size and orientation.
     * @return a &lt;code&gt;PageFormat&lt;/code&gt; set to a default size and
     *          orientation.
     */
    public PageFormat defaultPage() {
<span class="nc" id="L393">        return defaultPage(new PageFormat());</span>
    }

    /**
     * Calculates a &lt;code&gt;PageFormat&lt;/code&gt; with values consistent with those
     * supported by the current &lt;code&gt;PrintService&lt;/code&gt; for this job
     * (ie the value returned by &lt;code&gt;getPrintService()&lt;/code&gt;) and media,
     * printable area and orientation contained in &lt;code&gt;attributes&lt;/code&gt;.
     * &lt;p&gt;
     * Calling this method does not update the job.
     * It is useful for clients that have a set of attributes obtained from
     * &lt;code&gt;printDialog(PrintRequestAttributeSet attributes)&lt;/code&gt;
     * and need a PageFormat to print a Pageable object.
     * @param attributes a set of printing attributes, for example obtained
     * from calling printDialog. If &lt;code&gt;attributes&lt;/code&gt; is null a default
     * PageFormat is returned.
     * @return a &lt;code&gt;PageFormat&lt;/code&gt; whose settings conform with
     * those of the current service and the specified attributes.
     * @since 1.6
     */
    public PageFormat getPageFormat(PrintRequestAttributeSet attributes) {

<span class="nc" id="L415">        PrintService service = getPrintService();</span>
<span class="nc" id="L416">        PageFormat pf = defaultPage();</span>

<span class="nc bnc" id="L418" title="All 4 branches missed.">        if (service == null || attributes == null) {</span>
<span class="nc" id="L419">            return pf;</span>
        }

<span class="nc" id="L422">        Media media = (Media)attributes.get(Media.class);</span>
<span class="nc" id="L423">        MediaPrintableArea mpa =</span>
<span class="nc" id="L424">            (MediaPrintableArea)attributes.get(MediaPrintableArea.class);</span>
<span class="nc" id="L425">        OrientationRequested orientReq =</span>
<span class="nc" id="L426">           (OrientationRequested)attributes.get(OrientationRequested.class);</span>

<span class="nc bnc" id="L428" title="All 6 branches missed.">        if (media == null &amp;&amp; mpa == null &amp;&amp; orientReq == null) {</span>
<span class="nc" id="L429">           return pf;</span>
        }
<span class="nc" id="L431">        Paper paper = pf.getPaper();</span>

        /* If there's a media but no media printable area, we can try
         * to retrieve the default value for mpa and use that.
         */
<span class="nc bnc" id="L436" title="All 4 branches missed.">        if (mpa == null &amp;&amp; media != null &amp;&amp;</span>
<span class="nc bnc" id="L437" title="All 2 branches missed.">            service.isAttributeCategorySupported(MediaPrintableArea.class)) {</span>
<span class="nc" id="L438">            Object mpaVals =</span>
<span class="nc" id="L439">                service.getSupportedAttributeValues(MediaPrintableArea.class,</span>
                                                    null, attributes);
<span class="nc bnc" id="L441" title="All 4 branches missed.">            if (mpaVals instanceof MediaPrintableArea[] &amp;&amp;</span>
                ((MediaPrintableArea[])mpaVals).length &gt; 0) {
<span class="nc" id="L443">                mpa = ((MediaPrintableArea[])mpaVals)[0];</span>
            }
        }

<span class="nc bnc" id="L447" title="All 2 branches missed.">        if (media != null &amp;&amp;</span>
<span class="nc bnc" id="L448" title="All 2 branches missed.">            service.isAttributeValueSupported(media, null, attributes)) {</span>
<span class="nc bnc" id="L449" title="All 2 branches missed.">            if (media instanceof MediaSizeName) {</span>
<span class="nc" id="L450">                MediaSizeName msn = (MediaSizeName)media;</span>
<span class="nc" id="L451">                MediaSize msz = MediaSize.getMediaSizeForName(msn);</span>
<span class="nc bnc" id="L452" title="All 2 branches missed.">                if (msz != null) {</span>
<span class="nc" id="L453">                    double inch = 72.0;</span>
<span class="nc" id="L454">                    double paperWid = msz.getX(MediaSize.INCH) * inch;</span>
<span class="nc" id="L455">                    double paperHgt = msz.getY(MediaSize.INCH) * inch;</span>
<span class="nc" id="L456">                    paper.setSize(paperWid, paperHgt);</span>
<span class="nc bnc" id="L457" title="All 2 branches missed.">                    if (mpa == null) {</span>
<span class="nc" id="L458">                        paper.setImageableArea(inch, inch,</span>
                                               paperWid-2*inch,
                                               paperHgt-2*inch);
                    }
                }
            }
        }

<span class="nc bnc" id="L466" title="All 2 branches missed.">        if (mpa != null &amp;&amp;</span>
<span class="nc bnc" id="L467" title="All 2 branches missed.">            service.isAttributeValueSupported(mpa, null, attributes)) {</span>
<span class="nc" id="L468">            float [] printableArea =</span>
<span class="nc" id="L469">                mpa.getPrintableArea(MediaPrintableArea.INCH);</span>
<span class="nc bnc" id="L470" title="All 2 branches missed.">            for (int i=0; i &lt; printableArea.length; i++) {</span>
<span class="nc" id="L471">                printableArea[i] = printableArea[i]*72.0f;</span>
            }
<span class="nc" id="L473">            paper.setImageableArea(printableArea[0], printableArea[1],</span>
                                   printableArea[2], printableArea[3]);
        }

<span class="nc bnc" id="L477" title="All 2 branches missed.">        if (orientReq != null &amp;&amp;</span>
<span class="nc bnc" id="L478" title="All 2 branches missed.">            service.isAttributeValueSupported(orientReq, null, attributes)) {</span>
            int orient;
<span class="nc bnc" id="L480" title="All 2 branches missed.">            if (orientReq.equals(OrientationRequested.REVERSE_LANDSCAPE)) {</span>
<span class="nc" id="L481">                orient = PageFormat.REVERSE_LANDSCAPE;</span>
<span class="nc bnc" id="L482" title="All 2 branches missed.">            } else if (orientReq.equals(OrientationRequested.LANDSCAPE)) {</span>
<span class="nc" id="L483">                orient = PageFormat.LANDSCAPE;</span>
            } else {
<span class="nc" id="L485">                orient = PageFormat.PORTRAIT;</span>
            }
<span class="nc" id="L487">            pf.setOrientation(orient);</span>
        }

<span class="nc" id="L490">        pf.setPaper(paper);</span>
<span class="nc" id="L491">        pf = validatePage(pf);</span>
<span class="nc" id="L492">        return pf;</span>
    }

    /**
     * Returns the clone of &lt;code&gt;page&lt;/code&gt; with its settings
     * adjusted to be compatible with the current printer of this
     * &lt;code&gt;PrinterJob&lt;/code&gt;.  For example, the returned
     * &lt;code&gt;PageFormat&lt;/code&gt; could have its imageable area
     * adjusted to fit within the physical area of the paper that
     * is used by the current printer.
     * @param page the &lt;code&gt;PageFormat&lt;/code&gt; that is cloned and
     *          whose settings are changed to be compatible with
     *          the current printer
     * @return a &lt;code&gt;PageFormat&lt;/code&gt; that is cloned from
     *          &lt;code&gt;page&lt;/code&gt; and whose settings are changed
     *          to conform with this &lt;code&gt;PrinterJob&lt;/code&gt;.
     */
    public abstract PageFormat validatePage(PageFormat page);

    /**
     * Prints a set of pages.
     * @exception PrinterException an error in the print system
     *            caused the job to be aborted.
     * @see Book
     * @see Pageable
     * @see Printable
     */
    public abstract void print() throws PrinterException;

   /**
     * Prints a set of pages using the settings in the attribute
     * set. The default implementation ignores the attribute set.
     * &lt;p&gt;
     * Note that some attributes may be set directly on the PrinterJob
     * by equivalent method calls, (for example), copies:
     * &lt;code&gt;setcopies(int)&lt;/code&gt;, job name: &lt;code&gt;setJobName(String)&lt;/code&gt;
     * and specifying media size and orientation though the
     * &lt;code&gt;PageFormat&lt;/code&gt; object.
     * &lt;p&gt;
     * If a supported attribute-value is specified in this attribute set,
     * it will take precedence over the API settings for this print()
     * operation only.
     * The following behaviour is specified for PageFormat:
     * If a client uses the Printable interface, then the
     * &lt;code&gt;attributes&lt;/code&gt; parameter to this method is examined
     * for attributes which specify media (by size), orientation, and
     * imageable area, and those are used to construct a new PageFormat
     * which is passed to the Printable object's print() method.
     * See {@link Printable} for an explanation of the required
     * behaviour of a Printable to ensure optimal printing via PrinterJob.
     * For clients of the Pageable interface, the PageFormat will always
     * be as supplied by that interface, on a per page basis.
     * &lt;p&gt;
     * These behaviours allow an application to directly pass the
     * user settings returned from
     * &lt;code&gt;printDialog(PrintRequestAttributeSet attributes&lt;/code&gt; to
     * this print() method.
     * &lt;p&gt;
     *
     * @param attributes a set of attributes for the job
     * @exception PrinterException an error in the print system
     *            caused the job to be aborted.
     * @see Book
     * @see Pageable
     * @see Printable
     * @since 1.4
     */
    public void print(PrintRequestAttributeSet attributes)
        throws PrinterException {
<span class="nc" id="L561">        print();</span>
<span class="nc" id="L562">    }</span>

    /**
     * Sets the number of copies to be printed.
     * @param copies the number of copies to be printed
     * @see #getCopies
     */
    public abstract void setCopies(int copies);

    /**
     * Gets the number of copies to be printed.
     * @return the number of copies to be printed.
     * @see #setCopies
     */
    public abstract int getCopies();

    /**
     * Gets the name of the printing user.
     * @return the name of the printing user
     */
    public abstract String getUserName();

    /**
     * Sets the name of the document to be printed.
     * The document name can not be &lt;code&gt;null&lt;/code&gt;.
     * @param jobName the name of the document to be printed
     * @see #getJobName
     */
    public abstract void setJobName(String jobName);

    /**
     * Gets the name of the document to be printed.
     * @return the name of the document to be printed.
     * @see #setJobName
     */
    public abstract String getJobName();

    /**
     * Cancels a print job that is in progress.  If
     * {@link #print() print} has been called but has not
     * returned then this method signals
     * that the job should be cancelled at the next
     * chance. If there is no print job in progress then
     * this call does nothing.
     */
    public abstract void cancel();

    /**
     * Returns &lt;code&gt;true&lt;/code&gt; if a print job is
     * in progress, but is going to be cancelled
     * at the next opportunity; otherwise returns
     * &lt;code&gt;false&lt;/code&gt;.
     * @return &lt;code&gt;true&lt;/code&gt; if the job in progress
     * is going to be cancelled; &lt;code&gt;false&lt;/code&gt; otherwise.
     */
    public abstract boolean isCancelled();

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
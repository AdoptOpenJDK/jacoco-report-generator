<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>SecurityWarning.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Foo</a> &gt; <a href="index.html" class="el_package">com.sun.awt</a> &gt; <span class="el_source">SecurityWarning.java</span></div><h1>SecurityWarning.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2008, 2009, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package com.sun.awt;

import java.awt.*;
import java.awt.geom.*;

import sun.awt.AWTAccessor;


/**
 * Security Warning control interface.
 *
 * This class provides a couple of methods that help a developer relocate
 * the AWT security warning to an appropriate position relative to the current
 * window size. A &quot;top-level window&quot; is an instance of the {@code Window}
 * class (or its descendant, such as {@code JFrame}). The security warning
 * is applied to all windows created by an untrusted code. All such windows
 * have a non-null &quot;warning string&quot; (see {@link Window#getWarningString()}).
 * &lt;p&gt;
 * &lt;b&gt;WARNING&lt;/b&gt;: This class is an implementation detail and only meant
 * for limited use outside of the core platform. This API may change
 * drastically between update release, and it may even be
 * removed or be moved to some other packages or classes.
 */
public final class SecurityWarning {

    /**
     * The SecurityWarning class should not be instantiated
     */
<span class="nc" id="L54">    private SecurityWarning() {</span>
<span class="nc" id="L55">    }</span>

    /**
     * Gets the size of the security warning.
     *
     * The returned value is not valid until the peer has been created. Before
     * invoking this method a developer must call the {@link Window#pack()},
     * {@link Window#setVisible()}, or some other method that creates the peer.
     *
     * @param window the window to get the security warning size for
     *
     * @throws NullPointerException if the window argument is null
     * @throws IllegalArgumentException if the window is trusted (i.e.
     * the {@code getWarningString()} returns null)
     */
    public static Dimension getSize(Window window) {
<span class="nc bnc" id="L71" title="All 2 branches missed.">        if (window == null) {</span>
<span class="nc" id="L72">            throw new NullPointerException(</span>
                    &quot;The window argument should not be null.&quot;);
        }
<span class="nc bnc" id="L75" title="All 2 branches missed.">        if (window.getWarningString() == null) {</span>
<span class="nc" id="L76">            throw new IllegalArgumentException(</span>
                    &quot;The window must have a non-null warning string.&quot;);
        }
        // We don't check for a non-null peer since it may be destroyed
        // after assigning a valid value to the security warning size.

<span class="nc" id="L82">        return AWTAccessor.getWindowAccessor().getSecurityWarningSize(window);</span>
    }

    /**
     * Sets the position of the security warning.
     * &lt;p&gt;
     * The {@code alignmentX} and {@code alignmentY} arguments specify the
     * origin of the coordinate system used to calculate the position of the
     * security warning. The values must be in the range [0.0f...1.0f].  The
     * {@code 0.0f} value represents the left (top) edge of the rectangular
     * bounds of the window. The {@code 1.0f} value represents the right
     * (bottom) edge of the bounds. Whenever the size of the window changes,
     * the origin of the coordinate system gets relocated accordingly. For
     * convenience a developer may use the {@code Component.*_ALIGNMENT}
     * constants to pass predefined values for these arguments.
     * &lt;p&gt;
     * The {@code point} argument specifies the location of the security
     * warning in the coordinate system described above. If both {@code x} and
     * {@code y} coordinates of the point are equal to zero, the warning will
     * be located right in the origin of the coordinate system. On the other
     * hand, if both {@code alignmentX} and {@code alignmentY} are equal to
     * zero (i.e. the origin of the coordinate system is placed at the top-left
     * corner of the window), then the {@code point} argument represents the
     * absolute location of the security warning relative to the location of
     * the window. The &quot;absolute&quot; in this case means that the position of the
     * security warning is not effected by resizing of the window.
     * &lt;p&gt;
     * Note that the security warning managment code guarantees that:
     * &lt;ul&gt;
     * &lt;li&gt;The security warning cannot be located farther than two pixels from
     * the rectangular bounds of the window (see {@link Window#getBounds}), and
     * &lt;li&gt;The security warning is always visible on the screen.
     * &lt;/ul&gt;
     * If either of the conditions is violated, the calculated position of the
     * security warning is adjusted by the system to meet both these
     * conditions.
     * &lt;p&gt;
     * The default position of the security warning is in the upper-right
     * corner of the window, two pixels to the right from the right edge. This
     * corresponds to the following arguments passed to this method:
     * &lt;ul&gt;
     * &lt;li&gt;{@code alignmentX = Component.RIGHT_ALIGNMENT}
     * &lt;li&gt;{@code alignmentY = Component.TOP_ALIGNMENT}
     * &lt;li&gt;{@code point = (2, 0)}
     * &lt;/ul&gt;
     *
     * @param window the window to set the position of the security warning for
     * @param alignmentX the horizontal origin of the coordinate system
     * @param alignmentY the vertical origin of the coordinate system
     * @param point the position of the security warning in the specified
     * coordinate system
     *
     * @throws NullPointerException if the window argument is null
     * @throws NullPointerException if the point argument is null
     * @throws IllegalArgumentException if the window is trusted (i.e.
     * the {@code getWarningString()} returns null
     * @throws IllegalArgumentException if the alignmentX or alignmentY
     * arguments are not within the range [0.0f ... 1.0f]
     */
    public static void setPosition(Window window, Point2D point,
            float alignmentX, float alignmentY)
    {
<span class="nc bnc" id="L144" title="All 2 branches missed.">        if (window == null) {</span>
<span class="nc" id="L145">            throw new NullPointerException(</span>
                    &quot;The window argument should not be null.&quot;);
        }
<span class="nc bnc" id="L148" title="All 2 branches missed.">        if (window.getWarningString() == null) {</span>
<span class="nc" id="L149">            throw new IllegalArgumentException(</span>
                    &quot;The window must have a non-null warning string.&quot;);
        }
<span class="nc bnc" id="L152" title="All 2 branches missed.">        if (point == null) {</span>
<span class="nc" id="L153">            throw new NullPointerException(</span>
                    &quot;The point argument must not be null&quot;);
        }
<span class="nc bnc" id="L156" title="All 4 branches missed.">        if (alignmentX &lt; 0.0f || alignmentX &gt; 1.0f) {</span>
<span class="nc" id="L157">            throw new IllegalArgumentException(</span>
                    &quot;alignmentX must be in the range [0.0f ... 1.0f].&quot;);
        }
<span class="nc bnc" id="L160" title="All 4 branches missed.">        if (alignmentY &lt; 0.0f || alignmentY &gt; 1.0f) {</span>
<span class="nc" id="L161">            throw new IllegalArgumentException(</span>
                    &quot;alignmentY must be in the range [0.0f ... 1.0f].&quot;);
        }

<span class="nc" id="L165">        AWTAccessor.getWindowAccessor().setSecurityWarningPosition(window,</span>
                point, alignmentX, alignmentY);
<span class="nc" id="L167">    }</span>
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
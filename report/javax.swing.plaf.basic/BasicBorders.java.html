<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>BasicBorders.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">javax.swing.plaf.basic</a> &gt; <span class="el_source">BasicBorders.java</span></div><h1>BasicBorders.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1997, 2010, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.swing.plaf.basic;

import javax.swing.*;
import javax.swing.border.*;
import javax.swing.plaf.*;
import javax.swing.text.JTextComponent;

import java.awt.Component;
import java.awt.Insets;
import java.awt.Dimension;
import java.awt.Rectangle;
import java.awt.Color;
import java.awt.Graphics;

/**
 * Factory object that can vend Borders appropriate for the basic L &amp;amp; F.
 * @author Georges Saab
 * @author Amy Fowler
 */

<span class="nc" id="L46">public class BasicBorders {</span>

    public static Border getButtonBorder() {
<span class="nc" id="L49">        UIDefaults table = UIManager.getLookAndFeelDefaults();</span>
<span class="nc" id="L50">        Border buttonBorder = new BorderUIResource.CompoundBorderUIResource(</span>
                           new BasicBorders.ButtonBorder(
<span class="nc" id="L52">                                           table.getColor(&quot;Button.shadow&quot;),</span>
<span class="nc" id="L53">                                           table.getColor(&quot;Button.darkShadow&quot;),</span>
<span class="nc" id="L54">                                           table.getColor(&quot;Button.light&quot;),</span>
<span class="nc" id="L55">                                           table.getColor(&quot;Button.highlight&quot;)),</span>
                                     new MarginBorder());
<span class="nc" id="L57">        return buttonBorder;</span>
    }

    public static Border getRadioButtonBorder() {
<span class="nc" id="L61">        UIDefaults table = UIManager.getLookAndFeelDefaults();</span>
<span class="nc" id="L62">        Border radioButtonBorder = new BorderUIResource.CompoundBorderUIResource(</span>
                           new BasicBorders.RadioButtonBorder(
<span class="nc" id="L64">                                           table.getColor(&quot;RadioButton.shadow&quot;),</span>
<span class="nc" id="L65">                                           table.getColor(&quot;RadioButton.darkShadow&quot;),</span>
<span class="nc" id="L66">                                           table.getColor(&quot;RadioButton.light&quot;),</span>
<span class="nc" id="L67">                                           table.getColor(&quot;RadioButton.highlight&quot;)),</span>
                                     new MarginBorder());
<span class="nc" id="L69">        return radioButtonBorder;</span>
    }

    public static Border getToggleButtonBorder() {
<span class="nc" id="L73">        UIDefaults table = UIManager.getLookAndFeelDefaults();</span>
<span class="nc" id="L74">        Border toggleButtonBorder = new BorderUIResource.CompoundBorderUIResource(</span>
                                     new BasicBorders.ToggleButtonBorder(
<span class="nc" id="L76">                                           table.getColor(&quot;ToggleButton.shadow&quot;),</span>
<span class="nc" id="L77">                                           table.getColor(&quot;ToggleButton.darkShadow&quot;),</span>
<span class="nc" id="L78">                                           table.getColor(&quot;ToggleButton.light&quot;),</span>
<span class="nc" id="L79">                                           table.getColor(&quot;ToggleButton.highlight&quot;)),</span>
                                     new MarginBorder());
<span class="nc" id="L81">        return toggleButtonBorder;</span>
    }

    public static Border getMenuBarBorder() {
<span class="nc" id="L85">        UIDefaults table = UIManager.getLookAndFeelDefaults();</span>
<span class="nc" id="L86">        Border menuBarBorder = new BasicBorders.MenuBarBorder(</span>
<span class="nc" id="L87">                                        table.getColor(&quot;MenuBar.shadow&quot;),</span>
<span class="nc" id="L88">                                        table.getColor(&quot;MenuBar.highlight&quot;)</span>
                                   );
<span class="nc" id="L90">        return menuBarBorder;</span>
    }

    public static Border getSplitPaneBorder() {
<span class="nc" id="L94">        UIDefaults table = UIManager.getLookAndFeelDefaults();</span>
<span class="nc" id="L95">        Border splitPaneBorder = new BasicBorders.SplitPaneBorder(</span>
<span class="nc" id="L96">                                     table.getColor(&quot;SplitPane.highlight&quot;),</span>
<span class="nc" id="L97">                                     table.getColor(&quot;SplitPane.darkShadow&quot;));</span>
<span class="nc" id="L98">        return splitPaneBorder;</span>
    }

    /**
     * Returns a border instance for a JSplitPane divider
     * @since 1.3
     */
    public static Border getSplitPaneDividerBorder() {
<span class="nc" id="L106">        UIDefaults table = UIManager.getLookAndFeelDefaults();</span>
<span class="nc" id="L107">        Border splitPaneBorder = new BasicBorders.SplitPaneDividerBorder(</span>
<span class="nc" id="L108">                                     table.getColor(&quot;SplitPane.highlight&quot;),</span>
<span class="nc" id="L109">                                     table.getColor(&quot;SplitPane.darkShadow&quot;));</span>
<span class="nc" id="L110">        return splitPaneBorder;</span>
    }

    public static Border getTextFieldBorder() {
<span class="nc" id="L114">        UIDefaults table = UIManager.getLookAndFeelDefaults();</span>
<span class="nc" id="L115">        Border textFieldBorder = new BasicBorders.FieldBorder(</span>
<span class="nc" id="L116">                                           table.getColor(&quot;TextField.shadow&quot;),</span>
<span class="nc" id="L117">                                           table.getColor(&quot;TextField.darkShadow&quot;),</span>
<span class="nc" id="L118">                                           table.getColor(&quot;TextField.light&quot;),</span>
<span class="nc" id="L119">                                           table.getColor(&quot;TextField.highlight&quot;));</span>
<span class="nc" id="L120">        return textFieldBorder;</span>
    }

    public static Border getProgressBarBorder() {
<span class="nc" id="L124">        UIDefaults table = UIManager.getLookAndFeelDefaults();</span>
<span class="nc" id="L125">        Border progressBarBorder = new BorderUIResource.LineBorderUIResource(Color.green, 2);</span>
<span class="nc" id="L126">        return progressBarBorder;</span>
    }

    public static Border getInternalFrameBorder() {
<span class="nc" id="L130">        UIDefaults table = UIManager.getLookAndFeelDefaults();</span>
<span class="nc" id="L131">        Border internalFrameBorder = new BorderUIResource.CompoundBorderUIResource(</span>
                                new BevelBorder(BevelBorder.RAISED,
<span class="nc" id="L133">                                        table.getColor(&quot;InternalFrame.borderLight&quot;),</span>
<span class="nc" id="L134">                                        table.getColor(&quot;InternalFrame.borderHighlight&quot;),</span>
<span class="nc" id="L135">                                        table.getColor(&quot;InternalFrame.borderDarkShadow&quot;),</span>
<span class="nc" id="L136">                                        table.getColor(&quot;InternalFrame.borderShadow&quot;)),</span>
<span class="nc" id="L137">                                BorderFactory.createLineBorder(</span>
<span class="nc" id="L138">                                        table.getColor(&quot;InternalFrame.borderColor&quot;), 1));</span>

<span class="nc" id="L140">        return internalFrameBorder;</span>
    }

    /**
     * Special thin border for rollover toolbar buttons.
     * @since 1.4
     */
    public static class RolloverButtonBorder extends ButtonBorder {

        public RolloverButtonBorder(Color shadow, Color darkShadow,
                                  Color highlight, Color lightHighlight) {
<span class="nc" id="L151">            super(shadow, darkShadow, highlight, lightHighlight);</span>
<span class="nc" id="L152">        }</span>

        public void paintBorder( Component c, Graphics g, int x, int y, int w, int h ) {
<span class="nc" id="L155">            AbstractButton b = (AbstractButton) c;</span>
<span class="nc" id="L156">            ButtonModel model = b.getModel();</span>

<span class="nc" id="L158">            Color shade = shadow;</span>
<span class="nc" id="L159">            Component p = b.getParent();</span>
<span class="nc bnc" id="L160" title="All 4 branches missed.">            if (p != null &amp;&amp; p.getBackground().equals(shadow)) {</span>
<span class="nc" id="L161">                shade = darkShadow;</span>
            }

<span class="nc bnc" id="L164" title="All 6 branches missed.">            if ((model.isRollover() &amp;&amp; !(model.isPressed() &amp;&amp; !model.isArmed())) ||</span>
<span class="nc bnc" id="L165" title="All 2 branches missed.">                model.isSelected()) {</span>

<span class="nc" id="L167">                Color oldColor = g.getColor();</span>
<span class="nc" id="L168">                g.translate(x, y);</span>

<span class="nc bnc" id="L170" title="All 6 branches missed.">                if (model.isPressed() &amp;&amp; model.isArmed() || model.isSelected()) {</span>
                    // Draw the pressd button
<span class="nc" id="L172">                    g.setColor(shade);</span>
<span class="nc" id="L173">                    g.drawRect(0, 0, w-1, h-1);</span>
<span class="nc" id="L174">                    g.setColor(lightHighlight);</span>
<span class="nc" id="L175">                    g.drawLine(w-1, 0, w-1, h-1);</span>
<span class="nc" id="L176">                    g.drawLine(0, h-1, w-1, h-1);</span>
                } else {
                    // Draw a rollover button
<span class="nc" id="L179">                    g.setColor(lightHighlight);</span>
<span class="nc" id="L180">                    g.drawRect(0, 0, w-1, h-1);</span>
<span class="nc" id="L181">                    g.setColor(shade);</span>
<span class="nc" id="L182">                    g.drawLine(w-1, 0, w-1, h-1);</span>
<span class="nc" id="L183">                    g.drawLine(0, h-1, w-1, h-1);</span>
                }
<span class="nc" id="L185">                g.translate(-x, -y);</span>
<span class="nc" id="L186">                g.setColor(oldColor);</span>
            }
<span class="nc" id="L188">        }</span>
    }


    /**
     * A border which is like a Margin border but it will only honor the margin
     * if the margin has been explicitly set by the developer.
     *
     * Note: This is identical to the package private class
     * MetalBorders.RolloverMarginBorder and should probably be consolidated.
     */
    static class RolloverMarginBorder extends EmptyBorder {

        public RolloverMarginBorder() {
<span class="nc" id="L202">            super(3,3,3,3); // hardcoded margin for JLF requirements.</span>
<span class="nc" id="L203">        }</span>

        public Insets getBorderInsets(Component c, Insets insets) {
<span class="nc" id="L206">            Insets margin = null;</span>

<span class="nc bnc" id="L208" title="All 2 branches missed.">            if (c instanceof AbstractButton) {</span>
<span class="nc" id="L209">                margin = ((AbstractButton)c).getMargin();</span>
            }
<span class="nc bnc" id="L211" title="All 4 branches missed.">            if (margin == null || margin instanceof UIResource) {</span>
                // default margin so replace
<span class="nc" id="L213">                insets.left = left;</span>
<span class="nc" id="L214">                insets.top = top;</span>
<span class="nc" id="L215">                insets.right = right;</span>
<span class="nc" id="L216">                insets.bottom = bottom;</span>
            } else {
                // Margin which has been explicitly set by the user.
<span class="nc" id="L219">                insets.left = margin.left;</span>
<span class="nc" id="L220">                insets.top = margin.top;</span>
<span class="nc" id="L221">                insets.right = margin.right;</span>
<span class="nc" id="L222">                insets.bottom = margin.bottom;</span>
            }
<span class="nc" id="L224">            return insets;</span>
        }
    }

   public static class ButtonBorder extends AbstractBorder implements UIResource {
        protected Color shadow;
        protected Color darkShadow;
        protected Color highlight;
        protected Color lightHighlight;

        public ButtonBorder(Color shadow, Color darkShadow,
<span class="nc" id="L235">                            Color highlight, Color lightHighlight) {</span>
<span class="nc" id="L236">            this.shadow = shadow;</span>
<span class="nc" id="L237">            this.darkShadow = darkShadow;</span>
<span class="nc" id="L238">            this.highlight = highlight;</span>
<span class="nc" id="L239">            this.lightHighlight = lightHighlight;</span>
<span class="nc" id="L240">        }</span>

        public void paintBorder(Component c, Graphics g, int x, int y,
                            int width, int height) {
<span class="nc" id="L244">            boolean isPressed = false;</span>
<span class="nc" id="L245">            boolean isDefault = false;</span>

<span class="nc bnc" id="L247" title="All 2 branches missed.">            if (c instanceof AbstractButton) {</span>
<span class="nc" id="L248">                AbstractButton b = (AbstractButton)c;</span>
<span class="nc" id="L249">                ButtonModel model = b.getModel();</span>

<span class="nc bnc" id="L251" title="All 4 branches missed.">                isPressed = model.isPressed() &amp;&amp; model.isArmed();</span>

<span class="nc bnc" id="L253" title="All 2 branches missed.">                if (c instanceof JButton) {</span>
<span class="nc" id="L254">                    isDefault = ((JButton)c).isDefaultButton();</span>
                }
            }
<span class="nc" id="L257">            BasicGraphicsUtils.drawBezel(g, x, y, width, height,</span>
                                   isPressed, isDefault, shadow,
                                   darkShadow, highlight, lightHighlight);
<span class="nc" id="L260">        }</span>

        public Insets getBorderInsets(Component c, Insets insets)       {
            // leave room for default visual
<span class="nc" id="L264">            insets.set(2, 3, 3, 3);</span>
<span class="nc" id="L265">            return insets;</span>
        }

    }

    public static class ToggleButtonBorder extends ButtonBorder {

        public ToggleButtonBorder(Color shadow, Color darkShadow,
                                  Color highlight, Color lightHighlight) {
<span class="nc" id="L274">            super(shadow, darkShadow, highlight, lightHighlight);</span>
<span class="nc" id="L275">        }</span>

        public void paintBorder(Component c, Graphics g, int x, int y,
                                int width, int height) {
<span class="nc" id="L279">                BasicGraphicsUtils.drawBezel(g, x, y, width, height,</span>
                                             false, false,
                                             shadow, darkShadow,
                                             highlight, lightHighlight);
<span class="nc" id="L283">        }</span>

        public Insets getBorderInsets(Component c, Insets insets)       {
<span class="nc" id="L286">            insets.set(2, 2, 2, 2);</span>
<span class="nc" id="L287">            return insets;</span>
        }
    }

    public static class RadioButtonBorder extends ButtonBorder {

        public RadioButtonBorder(Color shadow, Color darkShadow,
                                 Color highlight, Color lightHighlight) {
<span class="nc" id="L295">            super(shadow, darkShadow, highlight, lightHighlight);</span>
<span class="nc" id="L296">        }</span>


        public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {

<span class="nc bnc" id="L301" title="All 2 branches missed.">            if (c instanceof AbstractButton) {</span>
<span class="nc" id="L302">                AbstractButton b = (AbstractButton)c;</span>
<span class="nc" id="L303">                ButtonModel model = b.getModel();</span>

<span class="nc bnc" id="L305" title="All 6 branches missed.">                if (model.isArmed() &amp;&amp; model.isPressed() || model.isSelected()) {</span>
<span class="nc" id="L306">                    BasicGraphicsUtils.drawLoweredBezel(g, x, y, width, height,</span>
                                                        shadow, darkShadow,
                                                        highlight, lightHighlight);
                } else {
<span class="nc" id="L310">                    BasicGraphicsUtils.drawBezel(g, x, y, width, height,</span>
<span class="nc bnc" id="L311" title="All 4 branches missed.">                                               false, b.isFocusPainted() &amp;&amp; b.hasFocus(),</span>
                                                 shadow, darkShadow,
                                                 highlight, lightHighlight);
                }
<span class="nc" id="L315">            } else {</span>
<span class="nc" id="L316">                BasicGraphicsUtils.drawBezel(g, x, y, width, height, false, false,</span>
                                             shadow, darkShadow, highlight, lightHighlight);
            }
<span class="nc" id="L319">        }</span>

        public Insets getBorderInsets(Component c, Insets insets)       {
<span class="nc" id="L322">            insets.set(2, 2, 2, 2);</span>
<span class="nc" id="L323">            return insets;</span>
        }
    }

    public static class MenuBarBorder extends AbstractBorder implements UIResource {
        private Color shadow;
        private Color highlight;

<span class="nc" id="L331">        public MenuBarBorder(Color shadow, Color highlight) {</span>
<span class="nc" id="L332">            this.shadow = shadow;</span>
<span class="nc" id="L333">            this.highlight = highlight;</span>
<span class="nc" id="L334">        }</span>

        public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {
<span class="nc" id="L337">            Color oldColor = g.getColor();</span>
<span class="nc" id="L338">            g.translate(x, y);</span>
<span class="nc" id="L339">            g.setColor(shadow);</span>
<span class="nc" id="L340">            g.drawLine(0, height-2, width, height-2);</span>
<span class="nc" id="L341">            g.setColor(highlight);</span>
<span class="nc" id="L342">            g.drawLine(0, height-1, width, height-1);</span>
<span class="nc" id="L343">            g.translate(-x,-y);</span>
<span class="nc" id="L344">            g.setColor(oldColor);</span>
<span class="nc" id="L345">        }</span>

        public Insets getBorderInsets(Component c, Insets insets)       {
<span class="nc" id="L348">            insets.set(0, 0, 2, 0);</span>
<span class="nc" id="L349">            return insets;</span>
        }
    }

<span class="nc" id="L353">    public static class MarginBorder extends AbstractBorder implements UIResource {</span>
        public Insets getBorderInsets(Component c, Insets insets)       {
<span class="nc" id="L355">            Insets margin = null;</span>
            //
            // Ideally we'd have an interface defined for classes which
            // support margins (to avoid this hackery), but we've
            // decided against it for simplicity
            //
<span class="nc bnc" id="L361" title="All 2 branches missed.">           if (c instanceof AbstractButton) {</span>
<span class="nc" id="L362">               AbstractButton b = (AbstractButton)c;</span>
<span class="nc" id="L363">               margin = b.getMargin();</span>
<span class="nc bnc" id="L364" title="All 2 branches missed.">           } else if (c instanceof JToolBar) {</span>
<span class="nc" id="L365">               JToolBar t = (JToolBar)c;</span>
<span class="nc" id="L366">               margin = t.getMargin();</span>
<span class="nc bnc" id="L367" title="All 2 branches missed.">           } else if (c instanceof JTextComponent) {</span>
<span class="nc" id="L368">               JTextComponent t = (JTextComponent)c;</span>
<span class="nc" id="L369">               margin = t.getMargin();</span>
           }
<span class="nc bnc" id="L371" title="All 2 branches missed.">           insets.top = margin != null? margin.top : 0;</span>
<span class="nc bnc" id="L372" title="All 2 branches missed.">           insets.left = margin != null? margin.left : 0;</span>
<span class="nc bnc" id="L373" title="All 2 branches missed.">           insets.bottom = margin != null? margin.bottom : 0;</span>
<span class="nc bnc" id="L374" title="All 2 branches missed.">           insets.right = margin != null? margin.right : 0;</span>

<span class="nc" id="L376">           return insets;</span>
        }
    }

    public static class FieldBorder extends AbstractBorder implements UIResource {
        protected Color shadow;
        protected Color darkShadow;
        protected Color highlight;
        protected Color lightHighlight;

        public FieldBorder(Color shadow, Color darkShadow,
<span class="nc" id="L387">                           Color highlight, Color lightHighlight) {</span>
<span class="nc" id="L388">            this.shadow = shadow;</span>
<span class="nc" id="L389">            this.highlight = highlight;</span>
<span class="nc" id="L390">            this.darkShadow = darkShadow;</span>
<span class="nc" id="L391">            this.lightHighlight = lightHighlight;</span>
<span class="nc" id="L392">        }</span>

        public void paintBorder(Component c, Graphics g, int x, int y,
                            int width, int height) {
<span class="nc" id="L396">            BasicGraphicsUtils.drawEtchedRect(g, x, y, width, height,</span>
                                              shadow, darkShadow,
                                              highlight, lightHighlight);
<span class="nc" id="L399">        }</span>

        public Insets getBorderInsets(Component c, Insets insets) {
<span class="nc" id="L402">            Insets margin = null;</span>
<span class="nc bnc" id="L403" title="All 2 branches missed.">            if (c instanceof JTextComponent) {</span>
<span class="nc" id="L404">                margin = ((JTextComponent)c).getMargin();</span>
            }
<span class="nc bnc" id="L406" title="All 2 branches missed.">            insets.top = margin != null? 2+margin.top : 2;</span>
<span class="nc bnc" id="L407" title="All 2 branches missed.">            insets.left = margin != null? 2+margin.left : 2;</span>
<span class="nc bnc" id="L408" title="All 2 branches missed.">            insets.bottom = margin != null? 2+margin.bottom : 2;</span>
<span class="nc bnc" id="L409" title="All 2 branches missed.">            insets.right = margin != null? 2+margin.right : 2;</span>

<span class="nc" id="L411">            return insets;</span>
        }
    }


    /**
     * Draws the border around the divider in a splitpane
     * (when BasicSplitPaneUI is used). To get the appropriate effect, this
     * needs to be used with a SplitPaneBorder.
     */
    static class SplitPaneDividerBorder implements Border, UIResource {
        Color highlight;
        Color shadow;

<span class="nc" id="L425">        SplitPaneDividerBorder(Color highlight, Color shadow) {</span>
<span class="nc" id="L426">            this.highlight = highlight;</span>
<span class="nc" id="L427">            this.shadow = shadow;</span>
<span class="nc" id="L428">        }</span>

        public void paintBorder(Component c, Graphics g, int x, int y,
                                int width, int height) {
<span class="nc bnc" id="L432" title="All 2 branches missed.">            if (!(c instanceof BasicSplitPaneDivider)) {</span>
<span class="nc" id="L433">                return;</span>
            }
            Component          child;
            Rectangle          cBounds;
<span class="nc" id="L437">            JSplitPane         splitPane = ((BasicSplitPaneDivider)c).</span>
<span class="nc" id="L438">                                         getBasicSplitPaneUI().getSplitPane();</span>
<span class="nc" id="L439">            Dimension          size = c.getSize();</span>

<span class="nc" id="L441">            child = splitPane.getLeftComponent();</span>
            // This is needed for the space between the divider and end of
            // splitpane.
<span class="nc" id="L444">            g.setColor(c.getBackground());</span>
<span class="nc" id="L445">            g.drawRect(x, y, width - 1, height - 1);</span>
<span class="nc bnc" id="L446" title="All 2 branches missed.">            if(splitPane.getOrientation() == JSplitPane.HORIZONTAL_SPLIT) {</span>
<span class="nc bnc" id="L447" title="All 2 branches missed.">                if(child != null) {</span>
<span class="nc" id="L448">                    g.setColor(highlight);</span>
<span class="nc" id="L449">                    g.drawLine(0, 0, 0, size.height);</span>
                }
<span class="nc" id="L451">                child = splitPane.getRightComponent();</span>
<span class="nc bnc" id="L452" title="All 2 branches missed.">                if(child != null) {</span>
<span class="nc" id="L453">                    g.setColor(shadow);</span>
<span class="nc" id="L454">                    g.drawLine(size.width - 1, 0, size.width - 1, size.height);</span>
                }
            } else {
<span class="nc bnc" id="L457" title="All 2 branches missed.">                if(child != null) {</span>
<span class="nc" id="L458">                    g.setColor(highlight);</span>
<span class="nc" id="L459">                    g.drawLine(0, 0, size.width, 0);</span>
                }
<span class="nc" id="L461">                child = splitPane.getRightComponent();</span>
<span class="nc bnc" id="L462" title="All 2 branches missed.">                if(child != null) {</span>
<span class="nc" id="L463">                    g.setColor(shadow);</span>
<span class="nc" id="L464">                    g.drawLine(0, size.height - 1, size.width,</span>
                               size.height - 1);
                }
            }
<span class="nc" id="L468">        }</span>
        public Insets getBorderInsets(Component c) {
<span class="nc" id="L470">            Insets insets = new Insets(0,0,0,0);</span>
<span class="nc bnc" id="L471" title="All 2 branches missed.">            if (c instanceof BasicSplitPaneDivider) {</span>
<span class="nc" id="L472">                BasicSplitPaneUI bspui = ((BasicSplitPaneDivider)c).</span>
<span class="nc" id="L473">                                         getBasicSplitPaneUI();</span>

<span class="nc bnc" id="L475" title="All 2 branches missed.">                if (bspui != null) {</span>
<span class="nc" id="L476">                    JSplitPane splitPane = bspui.getSplitPane();</span>

<span class="nc bnc" id="L478" title="All 2 branches missed.">                    if (splitPane != null) {</span>
<span class="nc bnc" id="L479" title="All 2 branches missed.">                        if (splitPane.getOrientation() ==</span>
                            JSplitPane.HORIZONTAL_SPLIT) {
<span class="nc" id="L481">                            insets.top = insets.bottom = 0;</span>
<span class="nc" id="L482">                            insets.left = insets.right = 1;</span>
<span class="nc" id="L483">                            return insets;</span>
                        }
                        // VERTICAL_SPLIT
<span class="nc" id="L486">                        insets.top = insets.bottom = 1;</span>
<span class="nc" id="L487">                        insets.left = insets.right = 0;</span>
<span class="nc" id="L488">                        return insets;</span>
                    }
                }
            }
<span class="nc" id="L492">            insets.top = insets.bottom = insets.left = insets.right = 1;</span>
<span class="nc" id="L493">            return insets;</span>
        }
<span class="nc" id="L495">        public boolean isBorderOpaque() { return true; }</span>
    }


    /**
     * Draws the border around the splitpane. To work correctly you should
     * also install a border on the divider (property SplitPaneDivider.border).
     */
<span class="nc" id="L503">    public static class SplitPaneBorder implements Border, UIResource {</span>
        protected Color highlight;
        protected Color shadow;

<span class="nc" id="L507">        public SplitPaneBorder(Color highlight, Color shadow) {</span>
<span class="nc" id="L508">            this.highlight = highlight;</span>
<span class="nc" id="L509">            this.shadow = shadow;</span>
<span class="nc" id="L510">        }</span>

        public void paintBorder(Component c, Graphics g, int x, int y,
                                int width, int height) {
<span class="nc bnc" id="L514" title="All 2 branches missed.">            if (!(c instanceof JSplitPane)) {</span>
<span class="nc" id="L515">                return;</span>
            }
            // The only tricky part with this border is that the divider is
            // not positioned at the top (for horizontal) or left (for vert),
            // so this border draws to where the divider is:
            // -----------------
            // |xxxxxxx xxxxxxx|
            // |x     ---     x|
            // |x     | |     x|
            // |x     |D|     x|
            // |x     | |     x|
            // |x     ---     x|
            // |xxxxxxx xxxxxxx|
            // -----------------
            // The above shows (rather excessively) what this looks like for
            // a horizontal orientation. This border then draws the x's, with
            // the SplitPaneDividerBorder drawing its own border.

            Component          child;
            Rectangle          cBounds;

<span class="nc" id="L536">            JSplitPane splitPane = (JSplitPane)c;</span>

<span class="nc" id="L538">            child = splitPane.getLeftComponent();</span>
            // This is needed for the space between the divider and end of
            // splitpane.
<span class="nc" id="L541">            g.setColor(c.getBackground());</span>
<span class="nc" id="L542">            g.drawRect(x, y, width - 1, height - 1);</span>
<span class="nc bnc" id="L543" title="All 2 branches missed.">            if(splitPane.getOrientation() == JSplitPane.HORIZONTAL_SPLIT) {</span>
<span class="nc bnc" id="L544" title="All 2 branches missed.">                if(child != null) {</span>
<span class="nc" id="L545">                    cBounds = child.getBounds();</span>
<span class="nc" id="L546">                    g.setColor(shadow);</span>
<span class="nc" id="L547">                    g.drawLine(0, 0, cBounds.width + 1, 0);</span>
<span class="nc" id="L548">                    g.drawLine(0, 1, 0, cBounds.height + 1);</span>

<span class="nc" id="L550">                    g.setColor(highlight);</span>
<span class="nc" id="L551">                    g.drawLine(0, cBounds.height + 1, cBounds.width + 1,</span>
                               cBounds.height + 1);
                }
<span class="nc" id="L554">                child = splitPane.getRightComponent();</span>
<span class="nc bnc" id="L555" title="All 2 branches missed.">                if(child != null) {</span>
<span class="nc" id="L556">                    cBounds = child.getBounds();</span>

<span class="nc" id="L558">                    int             maxX = cBounds.x + cBounds.width;</span>
<span class="nc" id="L559">                    int             maxY = cBounds.y + cBounds.height;</span>

<span class="nc" id="L561">                    g.setColor(shadow);</span>
<span class="nc" id="L562">                    g.drawLine(cBounds.x - 1, 0, maxX, 0);</span>
<span class="nc" id="L563">                    g.setColor(highlight);</span>
<span class="nc" id="L564">                    g.drawLine(cBounds.x - 1, maxY, maxX, maxY);</span>
<span class="nc" id="L565">                    g.drawLine(maxX, 0, maxX, maxY + 1);</span>
<span class="nc" id="L566">                }</span>
            } else {
<span class="nc bnc" id="L568" title="All 2 branches missed.">                if(child != null) {</span>
<span class="nc" id="L569">                    cBounds = child.getBounds();</span>
<span class="nc" id="L570">                    g.setColor(shadow);</span>
<span class="nc" id="L571">                    g.drawLine(0, 0, cBounds.width + 1, 0);</span>
<span class="nc" id="L572">                    g.drawLine(0, 1, 0, cBounds.height);</span>
<span class="nc" id="L573">                    g.setColor(highlight);</span>
<span class="nc" id="L574">                    g.drawLine(1 + cBounds.width, 0, 1 + cBounds.width,</span>
                               cBounds.height + 1);
<span class="nc" id="L576">                    g.drawLine(0, cBounds.height + 1, 0, cBounds.height + 1);</span>
                }
<span class="nc" id="L578">                child = splitPane.getRightComponent();</span>
<span class="nc bnc" id="L579" title="All 2 branches missed.">                if(child != null) {</span>
<span class="nc" id="L580">                    cBounds = child.getBounds();</span>

<span class="nc" id="L582">                    int             maxX = cBounds.x + cBounds.width;</span>
<span class="nc" id="L583">                    int             maxY = cBounds.y + cBounds.height;</span>

<span class="nc" id="L585">                    g.setColor(shadow);</span>
<span class="nc" id="L586">                    g.drawLine(0, cBounds.y - 1, 0, maxY);</span>
<span class="nc" id="L587">                    g.drawLine(maxX, cBounds.y - 1, maxX, cBounds.y - 1);</span>
<span class="nc" id="L588">                    g.setColor(highlight);</span>
<span class="nc" id="L589">                    g.drawLine(0, maxY, cBounds.width + 1, maxY);</span>
<span class="nc" id="L590">                    g.drawLine(maxX, cBounds.y, maxX, maxY);</span>
                }
            }
<span class="nc" id="L593">        }</span>
        public Insets getBorderInsets(Component c) {
<span class="nc" id="L595">            return new Insets(1, 1, 1, 1);</span>
        }
<span class="nc" id="L597">        public boolean isBorderOpaque() { return true; }</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
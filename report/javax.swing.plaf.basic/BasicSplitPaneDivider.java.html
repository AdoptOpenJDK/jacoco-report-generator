<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>BasicSplitPaneDivider.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">javax.swing.plaf.basic</a> &gt; <span class="el_source">BasicSplitPaneDivider.java</span></div><h1>BasicSplitPaneDivider.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1997, 2006, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */



package javax.swing.plaf.basic;



import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;
import javax.swing.plaf.*;
import javax.swing.border.Border;
import java.beans.*;
import sun.swing.DefaultLookup;



/**
 * Divider used by BasicSplitPaneUI. Subclassers may wish to override
 * paint to do something more interesting.
 * The border effect is drawn in BasicSplitPaneUI, so if you don't like
 * that border, reset it there.
 * To conditionally drag from certain areas subclass mousePressed and
 * call super when you wish the dragging to begin.
 * &lt;p&gt;
 * &lt;strong&gt;Warning:&lt;/strong&gt;
 * Serialized objects of this class will not be compatible with
 * future Swing releases. The current serialization support is
 * appropriate for short term storage or RMI between applications running
 * the same version of Swing.  As of 1.4, support for long term storage
 * of all JavaBeans&amp;trade;
 * has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
 * Please see {@link java.beans.XMLEncoder}.
 *
 * @author Scott Violet
 */
public class BasicSplitPaneDivider extends Container
    implements PropertyChangeListener
{
    /**
     * Width or height of the divider based on orientation
     * BasicSplitPaneUI adds two to this.
     */
    protected static final int ONE_TOUCH_SIZE = 6;
    protected static final int ONE_TOUCH_OFFSET = 2;

    /**
     * Handles mouse dragging message to do the actual dragging.
     */
    protected DragController dragger;

    /**
     * UI this instance was created from.
     */
    protected BasicSplitPaneUI splitPaneUI;

    /**
     * Size of the divider.
     */
<span class="nc" id="L85">    protected int dividerSize = 0; // default - SET TO 0???</span>

    /**
     * Divider that is used for noncontinuous layout mode.
     */
    protected Component hiddenDivider;

    /**
     * JSplitPane the receiver is contained in.
     */
    protected JSplitPane splitPane;

    /**
     * Handles mouse events from both this class, and the split pane.
     * Mouse events are handled for the splitpane since you want to be able
     * to drag when clicking on the border of the divider, which is not
     * drawn by the divider.
     */
    protected MouseHandler mouseHandler;

    /**
     * Orientation of the JSplitPane.
     */
    protected int orientation;

    /**
     * Button for quickly toggling the left component.
     */
    protected JButton leftButton;

    /**
     * Button for quickly toggling the right component.
     */
    protected JButton rightButton;

    /** Border. */
    private Border border;

    /**
     * Is the mouse over the divider?
     */
    private boolean mouseOver;

    private int oneTouchSize;
    private int oneTouchOffset;

    /**
     * If true the one touch buttons are centered on the divider.
     */
    private boolean centerOneTouchButtons;


    /**
     * Creates an instance of BasicSplitPaneDivider. Registers this
     * instance for mouse events and mouse dragged events.
     */
<span class="nc" id="L141">    public BasicSplitPaneDivider(BasicSplitPaneUI ui) {</span>
<span class="nc" id="L142">        oneTouchSize = DefaultLookup.getInt(ui.getSplitPane(), ui,</span>
                &quot;SplitPane.oneTouchButtonSize&quot;, ONE_TOUCH_SIZE);
<span class="nc" id="L144">        oneTouchOffset = DefaultLookup.getInt(ui.getSplitPane(), ui,</span>
                &quot;SplitPane.oneTouchButtonOffset&quot;, ONE_TOUCH_OFFSET);
<span class="nc" id="L146">        centerOneTouchButtons = DefaultLookup.getBoolean(ui.getSplitPane(),</span>
                 ui, &quot;SplitPane.centerOneTouchButtons&quot;, true);
<span class="nc" id="L148">        setLayout(new DividerLayout());</span>
<span class="nc" id="L149">        setBasicSplitPaneUI(ui);</span>
<span class="nc" id="L150">        orientation = splitPane.getOrientation();</span>
<span class="nc bnc" id="L151" title="All 2 branches missed.">        setCursor((orientation == JSplitPane.HORIZONTAL_SPLIT) ?</span>
<span class="nc" id="L152">                  Cursor.getPredefinedCursor(Cursor.E_RESIZE_CURSOR) :</span>
<span class="nc" id="L153">                  Cursor.getPredefinedCursor(Cursor.S_RESIZE_CURSOR));</span>
<span class="nc" id="L154">        setBackground(UIManager.getColor(&quot;SplitPane.background&quot;));</span>
<span class="nc" id="L155">    }</span>

    private void revalidateSplitPane() {
<span class="nc" id="L158">        invalidate();</span>
<span class="nc bnc" id="L159" title="All 2 branches missed.">        if (splitPane != null) {</span>
<span class="nc" id="L160">            splitPane.revalidate();</span>
        }
<span class="nc" id="L162">    }</span>

    /**
     * Sets the SplitPaneUI that is using the receiver.
     */
    public void setBasicSplitPaneUI(BasicSplitPaneUI newUI) {
<span class="nc bnc" id="L168" title="All 2 branches missed.">        if (splitPane != null) {</span>
<span class="nc" id="L169">            splitPane.removePropertyChangeListener(this);</span>
<span class="nc bnc" id="L170" title="All 2 branches missed.">           if (mouseHandler != null) {</span>
<span class="nc" id="L171">               splitPane.removeMouseListener(mouseHandler);</span>
<span class="nc" id="L172">               splitPane.removeMouseMotionListener(mouseHandler);</span>
<span class="nc" id="L173">               removeMouseListener(mouseHandler);</span>
<span class="nc" id="L174">               removeMouseMotionListener(mouseHandler);</span>
<span class="nc" id="L175">               mouseHandler = null;</span>
           }
        }
<span class="nc" id="L178">        splitPaneUI = newUI;</span>
<span class="nc bnc" id="L179" title="All 2 branches missed.">        if (newUI != null) {</span>
<span class="nc" id="L180">            splitPane = newUI.getSplitPane();</span>
<span class="nc bnc" id="L181" title="All 2 branches missed.">            if (splitPane != null) {</span>
<span class="nc bnc" id="L182" title="All 2 branches missed.">                if (mouseHandler == null) mouseHandler = new MouseHandler();</span>
<span class="nc" id="L183">                splitPane.addMouseListener(mouseHandler);</span>
<span class="nc" id="L184">                splitPane.addMouseMotionListener(mouseHandler);</span>
<span class="nc" id="L185">                addMouseListener(mouseHandler);</span>
<span class="nc" id="L186">                addMouseMotionListener(mouseHandler);</span>
<span class="nc" id="L187">                splitPane.addPropertyChangeListener(this);</span>
<span class="nc bnc" id="L188" title="All 2 branches missed.">                if (splitPane.isOneTouchExpandable()) {</span>
<span class="nc" id="L189">                    oneTouchExpandableChanged();</span>
                }
            }
        }
        else {
<span class="nc" id="L194">            splitPane = null;</span>
        }
<span class="nc" id="L196">    }</span>


    /**
     * Returns the &lt;code&gt;SplitPaneUI&lt;/code&gt; the receiver is currently
     * in.
     */
    public BasicSplitPaneUI getBasicSplitPaneUI() {
<span class="nc" id="L204">        return splitPaneUI;</span>
    }


    /**
     * Sets the size of the divider to &lt;code&gt;newSize&lt;/code&gt;. That is
     * the width if the splitpane is &lt;code&gt;HORIZONTAL_SPLIT&lt;/code&gt;, or
     * the height of &lt;code&gt;VERTICAL_SPLIT&lt;/code&gt;.
     */
    public void setDividerSize(int newSize) {
<span class="nc" id="L214">        dividerSize = newSize;</span>
<span class="nc" id="L215">    }</span>


    /**
     * Returns the size of the divider, that is the width if the splitpane
     * is HORIZONTAL_SPLIT, or the height of VERTICAL_SPLIT.
     */
    public int getDividerSize() {
<span class="nc" id="L223">        return dividerSize;</span>
    }


    /**
     * Sets the border of this component.
     * @since 1.3
     */
    public void setBorder(Border border) {
<span class="nc" id="L232">        Border         oldBorder = this.border;</span>

<span class="nc" id="L234">        this.border = border;</span>
<span class="nc" id="L235">    }</span>

    /**
     * Returns the border of this component or null if no border is
     * currently set.
     *
     * @return the border object for this component
     * @see #setBorder
     * @since 1.3
     */
    public Border getBorder() {
<span class="nc" id="L246">        return border;</span>
    }

    /**
     * If a border has been set on this component, returns the
     * border's insets, else calls super.getInsets.
     *
     * @return the value of the insets property.
     * @see #setBorder
     */
    public Insets getInsets() {
<span class="nc" id="L257">        Border    border = getBorder();</span>

<span class="nc bnc" id="L259" title="All 2 branches missed.">        if (border != null) {</span>
<span class="nc" id="L260">            return border.getBorderInsets(this);</span>
        }
<span class="nc" id="L262">        return super.getInsets();</span>
    }

    /**
     * Sets whether or not the mouse is currently over the divider.
     *
     * @param mouseOver whether or not the mouse is currently over the divider
     * @since 1.5
     */
    protected void setMouseOver(boolean mouseOver) {
<span class="nc" id="L272">        this.mouseOver = mouseOver;</span>
<span class="nc" id="L273">    }</span>

    /**
     * Returns whether or not the mouse is currently over the divider
     *
     * @return whether or not the mouse is currently over the divider
     * @since 1.5
     */
    public boolean isMouseOver() {
<span class="nc" id="L282">        return mouseOver;</span>
    }

    /**
     * Returns dividerSize x dividerSize
     */
    public Dimension getPreferredSize() {
        // Ideally this would return the size from the layout manager,
        // but that could result in the layed out size being different from
        // the dividerSize, which may break developers as well as
        // BasicSplitPaneUI.
<span class="nc bnc" id="L293" title="All 2 branches missed.">        if (orientation == JSplitPane.HORIZONTAL_SPLIT) {</span>
<span class="nc" id="L294">            return new Dimension(getDividerSize(), 1);</span>
        }
<span class="nc" id="L296">        return new Dimension(1, getDividerSize());</span>
    }

    /**
     * Returns dividerSize x dividerSize
     */
    public Dimension getMinimumSize() {
<span class="nc" id="L303">        return getPreferredSize();</span>
    }


    /**
     * Property change event, presumably from the JSplitPane, will message
     * updateOrientation if necessary.
     */
    public void propertyChange(PropertyChangeEvent e) {
<span class="nc bnc" id="L312" title="All 2 branches missed.">        if (e.getSource() == splitPane) {</span>
<span class="nc bnc" id="L313" title="All 2 branches missed.">            if (e.getPropertyName() == JSplitPane.ORIENTATION_PROPERTY) {</span>
<span class="nc" id="L314">                orientation = splitPane.getOrientation();</span>
<span class="nc bnc" id="L315" title="All 2 branches missed.">                setCursor((orientation == JSplitPane.HORIZONTAL_SPLIT) ?</span>
<span class="nc" id="L316">                          Cursor.getPredefinedCursor(Cursor.E_RESIZE_CURSOR) :</span>
<span class="nc" id="L317">                          Cursor.getPredefinedCursor(Cursor.S_RESIZE_CURSOR));</span>
<span class="nc" id="L318">                revalidateSplitPane();</span>
            }
<span class="nc bnc" id="L320" title="All 2 branches missed.">            else if (e.getPropertyName() == JSplitPane.</span>
                      ONE_TOUCH_EXPANDABLE_PROPERTY) {
<span class="nc" id="L322">                oneTouchExpandableChanged();</span>
            }
        }
<span class="nc" id="L325">    }</span>


    /**
     * Paints the divider.
     */
    public void paint(Graphics g) {
<span class="nc" id="L332">      super.paint(g);</span>

      // Paint the border.
<span class="nc" id="L335">      Border   border = getBorder();</span>

<span class="nc bnc" id="L337" title="All 2 branches missed.">      if (border != null) {</span>
<span class="nc" id="L338">          Dimension     size = getSize();</span>

<span class="nc" id="L340">          border.paintBorder(this, g, 0, 0, size.width, size.height);</span>
      }
<span class="nc" id="L342">    }</span>


    /**
     * Messaged when the oneTouchExpandable value of the JSplitPane the
     * receiver is contained in changes. Will create the
     * &lt;code&gt;leftButton&lt;/code&gt; and &lt;code&gt;rightButton&lt;/code&gt; if they
     * are null. invalidates the receiver as well.
     */
    protected void oneTouchExpandableChanged() {
<span class="nc bnc" id="L352" title="All 2 branches missed.">        if (!DefaultLookup.getBoolean(splitPane, splitPaneUI,</span>
                           &quot;SplitPane.supportsOneTouchButtons&quot;, true)) {
            // Look and feel doesn't want to support one touch buttons, bail.
<span class="nc" id="L355">            return;</span>
        }
<span class="nc bnc" id="L357" title="All 6 branches missed.">        if (splitPane.isOneTouchExpandable() &amp;&amp;</span>
            leftButton == null &amp;&amp;
            rightButton == null) {
            /* Create the left button and add an action listener to
               expand/collapse it. */
<span class="nc" id="L362">            leftButton = createLeftOneTouchButton();</span>
<span class="nc bnc" id="L363" title="All 2 branches missed.">            if (leftButton != null)</span>
<span class="nc" id="L364">                leftButton.addActionListener(new OneTouchActionHandler(true));</span>


            /* Create the right button and add an action listener to
               expand/collapse it. */
<span class="nc" id="L369">            rightButton = createRightOneTouchButton();</span>
<span class="nc bnc" id="L370" title="All 2 branches missed.">            if (rightButton != null)</span>
<span class="nc" id="L371">                rightButton.addActionListener(new OneTouchActionHandler</span>
                    (false));

<span class="nc bnc" id="L374" title="All 4 branches missed.">            if (leftButton != null &amp;&amp; rightButton != null) {</span>
<span class="nc" id="L375">                add(leftButton);</span>
<span class="nc" id="L376">                add(rightButton);</span>
            }
        }
<span class="nc" id="L379">        revalidateSplitPane();</span>
<span class="nc" id="L380">    }</span>


    /**
     * Creates and return an instance of JButton that can be used to
     * collapse the left component in the split pane.
     */
    protected JButton createLeftOneTouchButton() {
<span class="nc" id="L388">        JButton b = new JButton() {</span>
            public void setBorder(Border b) {
<span class="nc" id="L390">            }</span>
            public void paint(Graphics g) {
<span class="nc bnc" id="L392" title="All 2 branches missed.">                if (splitPane != null) {</span>
<span class="nc" id="L393">                    int[]   xs = new int[3];</span>
<span class="nc" id="L394">                    int[]   ys = new int[3];</span>
                    int     blockSize;

                    // Fill the background first ...
<span class="nc" id="L398">                    g.setColor(this.getBackground());</span>
<span class="nc" id="L399">                    g.fillRect(0, 0, this.getWidth(),</span>
<span class="nc" id="L400">                               this.getHeight());</span>

                    // ... then draw the arrow.
<span class="nc" id="L403">                    g.setColor(Color.black);</span>
<span class="nc bnc" id="L404" title="All 2 branches missed.">                    if (orientation == JSplitPane.VERTICAL_SPLIT) {</span>
<span class="nc" id="L405">                        blockSize = Math.min(getHeight(), oneTouchSize);</span>
<span class="nc" id="L406">                        xs[0] = blockSize;</span>
<span class="nc" id="L407">                        xs[1] = 0;</span>
<span class="nc" id="L408">                        xs[2] = blockSize &lt;&lt; 1;</span>
<span class="nc" id="L409">                        ys[0] = 0;</span>
<span class="nc" id="L410">                        ys[1] = ys[2] = blockSize;</span>
<span class="nc" id="L411">                        g.drawPolygon(xs, ys, 3); // Little trick to make the</span>
                                                  // arrows of equal size
                    }
                    else {
<span class="nc" id="L415">                        blockSize = Math.min(getWidth(), oneTouchSize);</span>
<span class="nc" id="L416">                        xs[0] = xs[2] = blockSize;</span>
<span class="nc" id="L417">                        xs[1] = 0;</span>
<span class="nc" id="L418">                        ys[0] = 0;</span>
<span class="nc" id="L419">                        ys[1] = blockSize;</span>
<span class="nc" id="L420">                        ys[2] = blockSize &lt;&lt; 1;</span>
                    }
<span class="nc" id="L422">                    g.fillPolygon(xs, ys, 3);</span>
                }
<span class="nc" id="L424">            }</span>
            // Don't want the button to participate in focus traversable.
            public boolean isFocusTraversable() {
<span class="nc" id="L427">                return false;</span>
            }
        };
<span class="nc" id="L430">        b.setMinimumSize(new Dimension(oneTouchSize, oneTouchSize));</span>
<span class="nc" id="L431">        b.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));</span>
<span class="nc" id="L432">        b.setFocusPainted(false);</span>
<span class="nc" id="L433">        b.setBorderPainted(false);</span>
<span class="nc" id="L434">        b.setRequestFocusEnabled(false);</span>
<span class="nc" id="L435">        return b;</span>
    }


    /**
     * Creates and return an instance of JButton that can be used to
     * collapse the right component in the split pane.
     */
    protected JButton createRightOneTouchButton() {
<span class="nc" id="L444">        JButton b = new JButton() {</span>
            public void setBorder(Border border) {
<span class="nc" id="L446">            }</span>
            public void paint(Graphics g) {
<span class="nc bnc" id="L448" title="All 2 branches missed.">                if (splitPane != null) {</span>
<span class="nc" id="L449">                    int[]          xs = new int[3];</span>
<span class="nc" id="L450">                    int[]          ys = new int[3];</span>
                    int            blockSize;

                    // Fill the background first ...
<span class="nc" id="L454">                    g.setColor(this.getBackground());</span>
<span class="nc" id="L455">                    g.fillRect(0, 0, this.getWidth(),</span>
<span class="nc" id="L456">                               this.getHeight());</span>

                    // ... then draw the arrow.
<span class="nc bnc" id="L459" title="All 2 branches missed.">                    if (orientation == JSplitPane.VERTICAL_SPLIT) {</span>
<span class="nc" id="L460">                        blockSize = Math.min(getHeight(), oneTouchSize);</span>
<span class="nc" id="L461">                        xs[0] = blockSize;</span>
<span class="nc" id="L462">                        xs[1] = blockSize &lt;&lt; 1;</span>
<span class="nc" id="L463">                        xs[2] = 0;</span>
<span class="nc" id="L464">                        ys[0] = blockSize;</span>
<span class="nc" id="L465">                        ys[1] = ys[2] = 0;</span>
                    }
                    else {
<span class="nc" id="L468">                        blockSize = Math.min(getWidth(), oneTouchSize);</span>
<span class="nc" id="L469">                        xs[0] = xs[2] = 0;</span>
<span class="nc" id="L470">                        xs[1] = blockSize;</span>
<span class="nc" id="L471">                        ys[0] = 0;</span>
<span class="nc" id="L472">                        ys[1] = blockSize;</span>
<span class="nc" id="L473">                        ys[2] = blockSize &lt;&lt; 1;</span>
                    }
<span class="nc" id="L475">                    g.setColor(Color.black);</span>
<span class="nc" id="L476">                    g.fillPolygon(xs, ys, 3);</span>
                }
<span class="nc" id="L478">            }</span>
            // Don't want the button to participate in focus traversable.
            public boolean isFocusTraversable() {
<span class="nc" id="L481">                return false;</span>
            }
        };
<span class="nc" id="L484">        b.setMinimumSize(new Dimension(oneTouchSize, oneTouchSize));</span>
<span class="nc" id="L485">        b.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));</span>
<span class="nc" id="L486">        b.setFocusPainted(false);</span>
<span class="nc" id="L487">        b.setBorderPainted(false);</span>
<span class="nc" id="L488">        b.setRequestFocusEnabled(false);</span>
<span class="nc" id="L489">        return b;</span>
    }


    /**
     * Message to prepare for dragging. This messages the BasicSplitPaneUI
     * with startDragging.
     */
    protected void prepareForDragging() {
<span class="nc" id="L498">        splitPaneUI.startDragging();</span>
<span class="nc" id="L499">    }</span>


    /**
     * Messages the BasicSplitPaneUI with dragDividerTo that this instance
     * is contained in.
     */
    protected void dragDividerTo(int location) {
<span class="nc" id="L507">        splitPaneUI.dragDividerTo(location);</span>
<span class="nc" id="L508">    }</span>


    /**
     * Messages the BasicSplitPaneUI with finishDraggingTo that this instance
     * is contained in.
     */
    protected void finishDraggingTo(int location) {
<span class="nc" id="L516">        splitPaneUI.finishDraggingTo(location);</span>
<span class="nc" id="L517">    }</span>


    /**
     * MouseHandler is responsible for converting mouse events
     * (released, dragged...) into the appropriate DragController
     * methods.
     * &lt;p&gt;
     */
<span class="nc" id="L526">    protected class MouseHandler extends MouseAdapter</span>
            implements MouseMotionListener
    {
        /**
         * Starts the dragging session by creating the appropriate instance
         * of DragController.
         */
        public void mousePressed(MouseEvent e) {
<span class="nc bnc" id="L534" title="All 2 branches missed.">            if ((e.getSource() == BasicSplitPaneDivider.this ||</span>
<span class="nc bnc" id="L535" title="All 4 branches missed.">                 e.getSource() == splitPane) &amp;&amp;</span>
<span class="nc bnc" id="L536" title="All 2 branches missed.">                dragger == null &amp;&amp;splitPane.isEnabled()) {</span>
<span class="nc" id="L537">                Component            newHiddenDivider = splitPaneUI.</span>
<span class="nc" id="L538">                                     getNonContinuousLayoutDivider();</span>

<span class="nc bnc" id="L540" title="All 2 branches missed.">                if (hiddenDivider != newHiddenDivider) {</span>
<span class="nc bnc" id="L541" title="All 2 branches missed.">                    if (hiddenDivider != null) {</span>
<span class="nc" id="L542">                        hiddenDivider.removeMouseListener(this);</span>
<span class="nc" id="L543">                        hiddenDivider.removeMouseMotionListener(this);</span>
                    }
<span class="nc" id="L545">                    hiddenDivider = newHiddenDivider;</span>
<span class="nc bnc" id="L546" title="All 2 branches missed.">                    if (hiddenDivider != null) {</span>
<span class="nc" id="L547">                        hiddenDivider.addMouseMotionListener(this);</span>
<span class="nc" id="L548">                        hiddenDivider.addMouseListener(this);</span>
                    }
                }
<span class="nc bnc" id="L551" title="All 2 branches missed.">                if (splitPane.getLeftComponent() != null &amp;&amp;</span>
<span class="nc bnc" id="L552" title="All 2 branches missed.">                    splitPane.getRightComponent() != null) {</span>
<span class="nc bnc" id="L553" title="All 2 branches missed.">                    if (orientation == JSplitPane.HORIZONTAL_SPLIT) {</span>
<span class="nc" id="L554">                        dragger = new DragController(e);</span>
                    }
                    else {
<span class="nc" id="L557">                        dragger = new VerticalDragController(e);</span>
                    }
<span class="nc bnc" id="L559" title="All 2 branches missed.">                    if (!dragger.isValid()) {</span>
<span class="nc" id="L560">                        dragger = null;</span>
                    }
                    else {
<span class="nc" id="L563">                        prepareForDragging();</span>
<span class="nc" id="L564">                        dragger.continueDrag(e);</span>
                    }
                }
<span class="nc" id="L567">                e.consume();</span>
            }
<span class="nc" id="L569">        }</span>


        /**
         * If dragger is not null it is messaged with completeDrag.
         */
        public void mouseReleased(MouseEvent e) {
<span class="nc bnc" id="L576" title="All 2 branches missed.">            if (dragger != null) {</span>
<span class="nc bnc" id="L577" title="All 2 branches missed.">                if (e.getSource() == splitPane) {</span>
<span class="nc" id="L578">                    dragger.completeDrag(e.getX(), e.getY());</span>
                }
<span class="nc bnc" id="L580" title="All 2 branches missed.">                else if (e.getSource() == BasicSplitPaneDivider.this) {</span>
<span class="nc" id="L581">                    Point   ourLoc = getLocation();</span>

<span class="nc" id="L583">                    dragger.completeDrag(e.getX() + ourLoc.x,</span>
<span class="nc" id="L584">                                         e.getY() + ourLoc.y);</span>
<span class="nc" id="L585">                }</span>
<span class="nc bnc" id="L586" title="All 2 branches missed.">                else if (e.getSource() == hiddenDivider) {</span>
<span class="nc" id="L587">                    Point   hDividerLoc = hiddenDivider.getLocation();</span>
<span class="nc" id="L588">                    int     ourX = e.getX() + hDividerLoc.x;</span>
<span class="nc" id="L589">                    int     ourY = e.getY() + hDividerLoc.y;</span>

<span class="nc" id="L591">                    dragger.completeDrag(ourX, ourY);</span>
                }
<span class="nc" id="L593">                dragger = null;</span>
<span class="nc" id="L594">                e.consume();</span>
            }
<span class="nc" id="L596">        }</span>


        //
        // MouseMotionListener
        //

        /**
         * If dragger is not null it is messaged with continueDrag.
         */
        public void mouseDragged(MouseEvent e) {
<span class="nc bnc" id="L607" title="All 2 branches missed.">            if (dragger != null) {</span>
<span class="nc bnc" id="L608" title="All 2 branches missed.">                if (e.getSource() == splitPane) {</span>
<span class="nc" id="L609">                    dragger.continueDrag(e.getX(), e.getY());</span>
                }
<span class="nc bnc" id="L611" title="All 2 branches missed.">                else if (e.getSource() == BasicSplitPaneDivider.this) {</span>
<span class="nc" id="L612">                    Point   ourLoc = getLocation();</span>

<span class="nc" id="L614">                    dragger.continueDrag(e.getX() + ourLoc.x,</span>
<span class="nc" id="L615">                                         e.getY() + ourLoc.y);</span>
<span class="nc" id="L616">                }</span>
<span class="nc bnc" id="L617" title="All 2 branches missed.">                else if (e.getSource() == hiddenDivider) {</span>
<span class="nc" id="L618">                    Point   hDividerLoc = hiddenDivider.getLocation();</span>
<span class="nc" id="L619">                    int     ourX = e.getX() + hDividerLoc.x;</span>
<span class="nc" id="L620">                    int     ourY = e.getY() + hDividerLoc.y;</span>

<span class="nc" id="L622">                    dragger.continueDrag(ourX, ourY);</span>
                }
<span class="nc" id="L624">                e.consume();</span>
            }
<span class="nc" id="L626">        }</span>


        /**
         *  Resets the cursor based on the orientation.
         */
        public void mouseMoved(MouseEvent e) {
<span class="nc" id="L633">        }</span>

        /**
         * Invoked when the mouse enters a component.
         *
         * @param e MouseEvent describing the details of the enter event.
         * @since 1.5
         */
        public void mouseEntered(MouseEvent e) {
<span class="nc bnc" id="L642" title="All 2 branches missed.">            if (e.getSource() == BasicSplitPaneDivider.this) {</span>
<span class="nc" id="L643">                setMouseOver(true);</span>
            }
<span class="nc" id="L645">        }</span>

        /**
         * Invoked when the mouse exits a component.
         *
         * @param e MouseEvent describing the details of the exit event.
         * @since 1.5
         */
        public void mouseExited(MouseEvent e) {
<span class="nc bnc" id="L654" title="All 2 branches missed.">            if (e.getSource() == BasicSplitPaneDivider.this) {</span>
<span class="nc" id="L655">                setMouseOver(false);</span>
            }
<span class="nc" id="L657">        }</span>
    }


    /**
     * Handles the events during a dragging session for a
     * HORIZONTAL_SPLIT oriented split pane. This continually
     * messages &lt;code&gt;dragDividerTo&lt;/code&gt; and then when done messages
     * &lt;code&gt;finishDraggingTo&lt;/code&gt;. When an instance is created it should be
     * messaged with &lt;code&gt;isValid&lt;/code&gt; to insure that dragging can happen
     * (dragging won't be allowed if the two views can not be resized).
     * &lt;p&gt;
     * &lt;strong&gt;Warning:&lt;/strong&gt;
     * Serialized objects of this class will not be compatible with
     * future Swing releases. The current serialization support is
     * appropriate for short term storage or RMI between applications running
     * the same version of Swing.  As of 1.4, support for long term storage
     * of all JavaBeans&amp;trade;
     * has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
     * Please see {@link java.beans.XMLEncoder}.
     */
    protected class DragController
    {
        /**
         * Initial location of the divider.
         */
        int initialX;

        /**
         * Maximum and minimum positions to drag to.
         */
        int maxX, minX;

        /**
         * Initial location the mouse down happened at.
         */
        int offset;


<span class="nc" id="L696">        protected DragController(MouseEvent e) {</span>
<span class="nc" id="L697">            JSplitPane  splitPane = splitPaneUI.getSplitPane();</span>
<span class="nc" id="L698">            Component   leftC = splitPane.getLeftComponent();</span>
<span class="nc" id="L699">            Component   rightC = splitPane.getRightComponent();</span>

<span class="nc" id="L701">            initialX = getLocation().x;</span>
<span class="nc bnc" id="L702" title="All 2 branches missed.">            if (e.getSource() == BasicSplitPaneDivider.this) {</span>
<span class="nc" id="L703">                offset = e.getX();</span>
            }
            else { // splitPane
<span class="nc" id="L706">                offset = e.getX() - initialX;</span>
            }
<span class="nc bnc" id="L708" title="All 6 branches missed.">            if (leftC == null || rightC == null || offset &lt; -1 ||</span>
<span class="nc bnc" id="L709" title="All 2 branches missed.">                offset &gt;= getSize().width) {</span>
                // Don't allow dragging.
<span class="nc" id="L711">                maxX = -1;</span>
            }
            else {
<span class="nc" id="L714">                Insets      insets = splitPane.getInsets();</span>

<span class="nc bnc" id="L716" title="All 2 branches missed.">                if (leftC.isVisible()) {</span>
<span class="nc" id="L717">                    minX = leftC.getMinimumSize().width;</span>
<span class="nc bnc" id="L718" title="All 2 branches missed.">                    if (insets != null) {</span>
<span class="nc" id="L719">                        minX += insets.left;</span>
                    }
                }
                else {
<span class="nc" id="L723">                    minX = 0;</span>
                }
<span class="nc bnc" id="L725" title="All 2 branches missed.">                if (rightC.isVisible()) {</span>
<span class="nc bnc" id="L726" title="All 2 branches missed.">                    int right = (insets != null) ? insets.right : 0;</span>
<span class="nc" id="L727">                    maxX = Math.max(0, splitPane.getSize().width -</span>
<span class="nc" id="L728">                                    (getSize().width + right) -</span>
<span class="nc" id="L729">                                    rightC.getMinimumSize().width);</span>
<span class="nc" id="L730">                }</span>
                else {
<span class="nc bnc" id="L732" title="All 2 branches missed.">                    int right = (insets != null) ? insets.right : 0;</span>
<span class="nc" id="L733">                    maxX = Math.max(0, splitPane.getSize().width -</span>
<span class="nc" id="L734">                                    (getSize().width + right));</span>
                }
<span class="nc bnc" id="L736" title="All 2 branches missed.">                if (maxX &lt; minX) minX = maxX = 0;</span>
            }
<span class="nc" id="L738">        }</span>


        /**
         * Returns true if the dragging session is valid.
         */
        protected boolean isValid() {
<span class="nc bnc" id="L745" title="All 2 branches missed.">            return (maxX &gt; 0);</span>
        }


        /**
         * Returns the new position to put the divider at based on
         * the passed in MouseEvent.
         */
        protected int positionForMouseEvent(MouseEvent e) {
<span class="nc bnc" id="L754" title="All 2 branches missed.">            int newX = (e.getSource() == BasicSplitPaneDivider.this) ?</span>
<span class="nc" id="L755">                        (e.getX() + getLocation().x) : e.getX();</span>

<span class="nc" id="L757">            newX = Math.min(maxX, Math.max(minX, newX - offset));</span>
<span class="nc" id="L758">            return newX;</span>
        }


        /**
         * Returns the x argument, since this is used for horizontal
         * splits.
         */
        protected int getNeededLocation(int x, int y) {
            int newX;

<span class="nc" id="L769">            newX = Math.min(maxX, Math.max(minX, x - offset));</span>
<span class="nc" id="L770">            return newX;</span>
        }


        protected void continueDrag(int newX, int newY) {
<span class="nc" id="L775">            dragDividerTo(getNeededLocation(newX, newY));</span>
<span class="nc" id="L776">        }</span>


        /**
         * Messages dragDividerTo with the new location for the mouse
         * event.
         */
        protected void continueDrag(MouseEvent e) {
<span class="nc" id="L784">            dragDividerTo(positionForMouseEvent(e));</span>
<span class="nc" id="L785">        }</span>


        protected void completeDrag(int x, int y) {
<span class="nc" id="L789">            finishDraggingTo(getNeededLocation(x, y));</span>
<span class="nc" id="L790">        }</span>


        /**
         * Messages finishDraggingTo with the new location for the mouse
         * event.
         */
        protected void completeDrag(MouseEvent e) {
<span class="nc" id="L798">            finishDraggingTo(positionForMouseEvent(e));</span>
<span class="nc" id="L799">        }</span>
    } // End of BasicSplitPaneDivider.DragController


    /**
     * Handles the events during a dragging session for a
     * VERTICAL_SPLIT oriented split pane. This continually
     * messages &lt;code&gt;dragDividerTo&lt;/code&gt; and then when done messages
     * &lt;code&gt;finishDraggingTo&lt;/code&gt;. When an instance is created it should be
     * messaged with &lt;code&gt;isValid&lt;/code&gt; to insure that dragging can happen
     * (dragging won't be allowed if the two views can not be resized).
     */
    protected class VerticalDragController extends DragController
    {
        /* DragControllers ivars are now in terms of y, not x. */
<span class="nc" id="L814">        protected VerticalDragController(MouseEvent e) {</span>
<span class="nc" id="L815">            super(e);</span>
<span class="nc" id="L816">            JSplitPane splitPane = splitPaneUI.getSplitPane();</span>
<span class="nc" id="L817">            Component  leftC = splitPane.getLeftComponent();</span>
<span class="nc" id="L818">            Component  rightC = splitPane.getRightComponent();</span>

<span class="nc" id="L820">            initialX = getLocation().y;</span>
<span class="nc bnc" id="L821" title="All 2 branches missed.">            if (e.getSource() == BasicSplitPaneDivider.this) {</span>
<span class="nc" id="L822">                offset = e.getY();</span>
            }
            else {
<span class="nc" id="L825">                offset = e.getY() - initialX;</span>
            }
<span class="nc bnc" id="L827" title="All 6 branches missed.">            if (leftC == null || rightC == null || offset &lt; -1 ||</span>
<span class="nc bnc" id="L828" title="All 2 branches missed.">                offset &gt; getSize().height) {</span>
                // Don't allow dragging.
<span class="nc" id="L830">                maxX = -1;</span>
            }
            else {
<span class="nc" id="L833">                Insets     insets = splitPane.getInsets();</span>

<span class="nc bnc" id="L835" title="All 2 branches missed.">                if (leftC.isVisible()) {</span>
<span class="nc" id="L836">                    minX = leftC.getMinimumSize().height;</span>
<span class="nc bnc" id="L837" title="All 2 branches missed.">                    if (insets != null) {</span>
<span class="nc" id="L838">                        minX += insets.top;</span>
                    }
                }
                else {
<span class="nc" id="L842">                    minX = 0;</span>
                }
<span class="nc bnc" id="L844" title="All 2 branches missed.">                if (rightC.isVisible()) {</span>
<span class="nc bnc" id="L845" title="All 2 branches missed.">                    int    bottom = (insets != null) ? insets.bottom : 0;</span>

<span class="nc" id="L847">                    maxX = Math.max(0, splitPane.getSize().height -</span>
<span class="nc" id="L848">                                    (getSize().height + bottom) -</span>
<span class="nc" id="L849">                                    rightC.getMinimumSize().height);</span>
<span class="nc" id="L850">                }</span>
                else {
<span class="nc bnc" id="L852" title="All 2 branches missed.">                    int    bottom = (insets != null) ? insets.bottom : 0;</span>

<span class="nc" id="L854">                    maxX = Math.max(0, splitPane.getSize().height -</span>
<span class="nc" id="L855">                                    (getSize().height + bottom));</span>
                }
<span class="nc bnc" id="L857" title="All 2 branches missed.">                if (maxX &lt; minX) minX = maxX = 0;</span>
            }
<span class="nc" id="L859">        }</span>


        /**
         * Returns the y argument, since this is used for vertical
         * splits.
         */
        protected int getNeededLocation(int x, int y) {
            int newY;

<span class="nc" id="L869">            newY = Math.min(maxX, Math.max(minX, y - offset));</span>
<span class="nc" id="L870">            return newY;</span>
        }


        /**
         * Returns the new position to put the divider at based on
         * the passed in MouseEvent.
         */
        protected int positionForMouseEvent(MouseEvent e) {
<span class="nc bnc" id="L879" title="All 2 branches missed.">            int newY = (e.getSource() == BasicSplitPaneDivider.this) ?</span>
<span class="nc" id="L880">                        (e.getY() + getLocation().y) : e.getY();</span>


<span class="nc" id="L883">            newY = Math.min(maxX, Math.max(minX, newY - offset));</span>
<span class="nc" id="L884">            return newY;</span>
        }
    } // End of BasicSplitPaneDividier.VerticalDragController


    /**
     * Used to layout a &lt;code&gt;BasicSplitPaneDivider&lt;/code&gt;.
     * Layout for the divider
     * involves appropriately moving the left/right buttons around.
     * &lt;p&gt;
     */
<span class="nc" id="L895">    protected class DividerLayout implements LayoutManager</span>
    {
        public void layoutContainer(Container c) {
<span class="nc bnc" id="L898" title="All 6 branches missed.">            if (leftButton != null &amp;&amp; rightButton != null &amp;&amp;</span>
                c == BasicSplitPaneDivider.this) {
<span class="nc bnc" id="L900" title="All 2 branches missed.">                if (splitPane.isOneTouchExpandable()) {</span>
<span class="nc" id="L901">                    Insets insets = getInsets();</span>

<span class="nc bnc" id="L903" title="All 2 branches missed.">                    if (orientation == JSplitPane.VERTICAL_SPLIT) {</span>
<span class="nc bnc" id="L904" title="All 2 branches missed.">                        int extraX = (insets != null) ? insets.left : 0;</span>
<span class="nc" id="L905">                        int blockSize = getHeight();</span>

<span class="nc bnc" id="L907" title="All 2 branches missed.">                        if (insets != null) {</span>
<span class="nc" id="L908">                            blockSize -= (insets.top + insets.bottom);</span>
<span class="nc" id="L909">                            blockSize = Math.max(blockSize, 0);</span>
                        }
<span class="nc" id="L911">                        blockSize = Math.min(blockSize, oneTouchSize);</span>

<span class="nc" id="L913">                        int y = (c.getSize().height - blockSize) / 2;</span>

<span class="nc bnc" id="L915" title="All 2 branches missed.">                        if (!centerOneTouchButtons) {</span>
<span class="nc bnc" id="L916" title="All 2 branches missed.">                            y = (insets != null) ? insets.top : 0;</span>
<span class="nc" id="L917">                            extraX = 0;</span>
                        }
<span class="nc" id="L919">                        leftButton.setBounds(extraX + oneTouchOffset, y,</span>
                                             blockSize * 2, blockSize);
<span class="nc" id="L921">                        rightButton.setBounds(extraX + oneTouchOffset +</span>
<span class="nc" id="L922">                                              oneTouchSize * 2, y,</span>
                                              blockSize * 2, blockSize);
<span class="nc" id="L924">                    }</span>
                    else {
<span class="nc bnc" id="L926" title="All 2 branches missed.">                        int extraY = (insets != null) ? insets.top : 0;</span>
<span class="nc" id="L927">                        int blockSize = getWidth();</span>

<span class="nc bnc" id="L929" title="All 2 branches missed.">                        if (insets != null) {</span>
<span class="nc" id="L930">                            blockSize -= (insets.left + insets.right);</span>
<span class="nc" id="L931">                            blockSize = Math.max(blockSize, 0);</span>
                        }
<span class="nc" id="L933">                        blockSize = Math.min(blockSize, oneTouchSize);</span>

<span class="nc" id="L935">                        int x = (c.getSize().width - blockSize) / 2;</span>

<span class="nc bnc" id="L937" title="All 2 branches missed.">                        if (!centerOneTouchButtons) {</span>
<span class="nc bnc" id="L938" title="All 2 branches missed.">                            x = (insets != null) ? insets.left : 0;</span>
<span class="nc" id="L939">                            extraY = 0;</span>
                        }

<span class="nc" id="L942">                        leftButton.setBounds(x, extraY + oneTouchOffset,</span>
                                             blockSize, blockSize * 2);
<span class="nc" id="L944">                        rightButton.setBounds(x, extraY + oneTouchOffset +</span>
<span class="nc" id="L945">                                              oneTouchSize * 2, blockSize,</span>
                                              blockSize * 2);
                    }
<span class="nc" id="L948">                }</span>
                else {
<span class="nc" id="L950">                    leftButton.setBounds(-5, -5, 1, 1);</span>
<span class="nc" id="L951">                    rightButton.setBounds(-5, -5, 1, 1);</span>
                }
            }
<span class="nc" id="L954">        }</span>


        public Dimension minimumLayoutSize(Container c) {
            // NOTE: This isn't really used, refer to
            // BasicSplitPaneDivider.getPreferredSize for the reason.
            // I leave it in hopes of having this used at some point.
<span class="nc bnc" id="L961" title="All 4 branches missed.">            if (c != BasicSplitPaneDivider.this || splitPane == null) {</span>
<span class="nc" id="L962">                return new Dimension(0,0);</span>
            }
<span class="nc" id="L964">            Dimension buttonMinSize = null;</span>

<span class="nc bnc" id="L966" title="All 4 branches missed.">            if (splitPane.isOneTouchExpandable() &amp;&amp; leftButton != null) {</span>
<span class="nc" id="L967">                buttonMinSize = leftButton.getMinimumSize();</span>
            }

<span class="nc" id="L970">            Insets insets = getInsets();</span>
<span class="nc" id="L971">            int width = getDividerSize();</span>
<span class="nc" id="L972">            int height = width;</span>

<span class="nc bnc" id="L974" title="All 2 branches missed.">            if (orientation == JSplitPane.VERTICAL_SPLIT) {</span>
<span class="nc bnc" id="L975" title="All 2 branches missed.">                if (buttonMinSize != null) {</span>
<span class="nc" id="L976">                    int size = buttonMinSize.height;</span>
<span class="nc bnc" id="L977" title="All 2 branches missed.">                    if (insets != null) {</span>
<span class="nc" id="L978">                        size += insets.top + insets.bottom;</span>
                    }
<span class="nc" id="L980">                    height = Math.max(height, size);</span>
                }
<span class="nc" id="L982">                width = 1;</span>
            }
            else {
<span class="nc bnc" id="L985" title="All 2 branches missed.">                if (buttonMinSize != null) {</span>
<span class="nc" id="L986">                    int size = buttonMinSize.width;</span>
<span class="nc bnc" id="L987" title="All 2 branches missed.">                    if (insets != null) {</span>
<span class="nc" id="L988">                        size += insets.left + insets.right;</span>
                    }
<span class="nc" id="L990">                    width = Math.max(width, size);</span>
                }
<span class="nc" id="L992">                height = 1;</span>
            }
<span class="nc" id="L994">            return new Dimension(width, height);</span>
        }


        public Dimension preferredLayoutSize(Container c) {
<span class="nc" id="L999">            return minimumLayoutSize(c);</span>
        }


<span class="nc" id="L1003">        public void removeLayoutComponent(Component c) {}</span>

<span class="nc" id="L1005">        public void addLayoutComponent(String string, Component c) {}</span>
    } // End of class BasicSplitPaneDivider.DividerLayout


    /**
     * Listeners installed on the one touch expandable buttons.
     */
    private class OneTouchActionHandler implements ActionListener {
        /** True indicates the resize should go the minimum (top or left)
         * vs false which indicates the resize should go to the maximum.
         */
        private boolean toMinimum;

<span class="nc" id="L1018">        OneTouchActionHandler(boolean toMinimum) {</span>
<span class="nc" id="L1019">            this.toMinimum = toMinimum;</span>
<span class="nc" id="L1020">        }</span>

        public void actionPerformed(ActionEvent e) {
<span class="nc" id="L1023">            Insets  insets = splitPane.getInsets();</span>
<span class="nc" id="L1024">            int     lastLoc = splitPane.getLastDividerLocation();</span>
<span class="nc" id="L1025">            int     currentLoc = splitPaneUI.getDividerLocation(splitPane);</span>
            int     newLoc;

            // We use the location from the UI directly, as the location the
            // JSplitPane itself maintains is not necessarly correct.
<span class="nc bnc" id="L1030" title="All 2 branches missed.">            if (toMinimum) {</span>
<span class="nc bnc" id="L1031" title="All 2 branches missed.">                if (orientation == JSplitPane.VERTICAL_SPLIT) {</span>
<span class="nc" id="L1032">                    if (currentLoc &gt;= (splitPane.getHeight() -</span>
<span class="nc bnc" id="L1033" title="All 2 branches missed.">                                       insets.bottom - getHeight())) {</span>
<span class="nc" id="L1034">                        int maxLoc = splitPane.getMaximumDividerLocation();</span>
<span class="nc" id="L1035">                        newLoc = Math.min(lastLoc, maxLoc);</span>
<span class="nc" id="L1036">                        splitPaneUI.setKeepHidden(false);</span>
<span class="nc" id="L1037">                    }</span>
                    else {
<span class="nc" id="L1039">                        newLoc = insets.top;</span>
<span class="nc" id="L1040">                        splitPaneUI.setKeepHidden(true);</span>
                    }
                }
                else {
<span class="nc" id="L1044">                    if (currentLoc &gt;= (splitPane.getWidth() -</span>
<span class="nc bnc" id="L1045" title="All 2 branches missed.">                                       insets.right - getWidth())) {</span>
<span class="nc" id="L1046">                        int maxLoc = splitPane.getMaximumDividerLocation();</span>
<span class="nc" id="L1047">                        newLoc = Math.min(lastLoc, maxLoc);</span>
<span class="nc" id="L1048">                        splitPaneUI.setKeepHidden(false);</span>
<span class="nc" id="L1049">                    }</span>
                    else {
<span class="nc" id="L1051">                        newLoc = insets.left;</span>
<span class="nc" id="L1052">                        splitPaneUI.setKeepHidden(true);</span>
                    }
                }
            }
            else {
<span class="nc bnc" id="L1057" title="All 2 branches missed.">                if (orientation == JSplitPane.VERTICAL_SPLIT) {</span>
<span class="nc bnc" id="L1058" title="All 2 branches missed.">                    if (currentLoc == insets.top) {</span>
<span class="nc" id="L1059">                        int maxLoc = splitPane.getMaximumDividerLocation();</span>
<span class="nc" id="L1060">                        newLoc = Math.min(lastLoc, maxLoc);</span>
<span class="nc" id="L1061">                        splitPaneUI.setKeepHidden(false);</span>
<span class="nc" id="L1062">                    }</span>
                    else {
<span class="nc" id="L1064">                        newLoc = splitPane.getHeight() - getHeight() -</span>
                                 insets.top;
<span class="nc" id="L1066">                        splitPaneUI.setKeepHidden(true);</span>
                    }
                }
                else {
<span class="nc bnc" id="L1070" title="All 2 branches missed.">                    if (currentLoc == insets.left) {</span>
<span class="nc" id="L1071">                        int maxLoc = splitPane.getMaximumDividerLocation();</span>
<span class="nc" id="L1072">                        newLoc = Math.min(lastLoc, maxLoc);</span>
<span class="nc" id="L1073">                        splitPaneUI.setKeepHidden(false);</span>
<span class="nc" id="L1074">                    }</span>
                    else {
<span class="nc" id="L1076">                        newLoc = splitPane.getWidth() - getWidth() -</span>
                                 insets.left;
<span class="nc" id="L1078">                        splitPaneUI.setKeepHidden(true);</span>
                    }
                }
            }
<span class="nc bnc" id="L1082" title="All 2 branches missed.">            if (currentLoc != newLoc) {</span>
<span class="nc" id="L1083">                splitPane.setDividerLocation(newLoc);</span>
                // We do this in case the dividers notion of the location
                // differs from the real location.
<span class="nc" id="L1086">                splitPane.setLastDividerLocation(currentLoc);</span>
            }
<span class="nc" id="L1088">        }</span>
    } // End of class BasicSplitPaneDivider.LeftActionListener
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../resources/report.gif" type="image/gif"/><title>SearchControls.java</title><link rel="stylesheet" href="../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">javax.naming.directory</a> &gt; <span class="el_source">SearchControls.java</span></div><h1>SearchControls.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1999, 2000, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */


package javax.naming.directory;

/**
  * This class encapsulates
  * factors that determine scope of search and what gets returned
  * as a result of the search.
  *&lt;p&gt;
  * A SearchControls instance is not synchronized against concurrent
  * multithreaded access. Multiple threads trying to access and modify
  * a single SearchControls instance should lock the object.
  *
  * @author Rosanna Lee
  * @author Scott Seligman
  * @since 1.3
  */

public class SearchControls implements java.io.Serializable {
    /**
     * Search the named object.
     *&lt;p&gt;
     * The NamingEnumeration that results from search()
     * using OBJECT_SCOPE will contain one or zero element.
     * The enumeration contains one element if the named object satisfies
     * the search filter specified in search().
     * The element will have as its name the empty string because the names
     * of elements in the NamingEnumeration are relative to the
     * target context--in this case, the target context is the named object.
     * It contains zero element if the named object does not satisfy
     * the search filter specified in search().
     * &lt;p&gt;
     * The value of this constant is &lt;tt&gt;0&lt;/tt&gt;.
     */
    public final static int OBJECT_SCOPE = 0;

    /**
     * Search one level of the named context.
     *&lt;p&gt;
     * The NamingEnumeration that results from search()
     * using ONELEVEL_SCOPE contains elements with
     * objects in the named context that satisfy
     * the search filter specified in search().
     * The names of elements in the NamingEnumeration are atomic names
     * relative to the named context.
     * &lt;p&gt;
     * The value of this constant is &lt;tt&gt;1&lt;/tt&gt;.
     */
    public final static int ONELEVEL_SCOPE = 1;
    /**
     * Search the entire subtree rooted at the named object.
     *&lt;p&gt;
     * If the named object is not a DirContext, search only the object.
     * If the named object is a DirContext, search the subtree
     * rooted at the named object, including the named object itself.
     *&lt;p&gt;
     * The search will not cross naming system boundaries.
     *&lt;p&gt;
     * The NamingEnumeration that results from search()
     * using SUBTREE_SCOPE contains elements of objects
     * from the subtree (including the named context)
     * that satisfy the search filter specified in search().
     * The names of elements in the NamingEnumeration are either
     * relative to the named context or is a URL string.
     * If the named context satisfies the search filter, it is
     * included in the enumeration with the empty string as
     * its name.
     * &lt;p&gt;
     * The value of this constant is &lt;tt&gt;2&lt;/tt&gt;.
     */
    public final static int SUBTREE_SCOPE = 2;

    /**
     * Contains the scope with which to apply the search. One of
     * &lt;tt&gt;ONELEVEL_SCOPE&lt;/tt&gt;, &lt;tt&gt;OBJECT_SCOPE&lt;/tt&gt;, or
     * &lt;tt&gt;SUBTREE_SCOPE&lt;/tt&gt;.
     * @serial
     */
    private int searchScope;

    /**
     * Contains the milliseconds to wait before returning
     * from search.
     * @serial
     */
    private int timeLimit;

    /**
     * Indicates whether JNDI links are dereferenced during
     * search.
     * @serial
     */
    private boolean derefLink;

    /**
     *  Indicates whether object is returned in &lt;tt&gt;SearchResult&lt;/tt&gt;.
     * @serial
     */
    private boolean returnObj;

    /**
     * Contains the maximum number of SearchResults to return.
     * @serial
     */
    private long countLimit;

    /**
     *  Contains the list of attributes to be returned in
     * &lt;tt&gt;SearchResult&lt;/tt&gt; for each matching entry of search. &lt;tt&gt;null&lt;/tt&gt;
     * indicates that all attributes are to be returned.
     * @serial
     */
    private String[] attributesToReturn;

    /**
     * Constructs a search constraints using defaults.
     *&lt;p&gt;
     * The defaults are:
     * &lt;ul&gt;
     * &lt;li&gt;search one level
     * &lt;li&gt;no maximum return limit for search results
     * &lt;li&gt;no time limit for search
     * &lt;li&gt;return all attributes associated with objects that satisfy
     *   the search filter.
     * &lt;li&gt;do not return named object  (return only name and class)
     * &lt;li&gt;do not dereference links during search
     *&lt;/ul&gt;
     */
<span class="fc" id="L153">    public SearchControls() {</span>
<span class="fc" id="L154">        searchScope = ONELEVEL_SCOPE;</span>
<span class="fc" id="L155">        timeLimit = 0; // no limit</span>
<span class="fc" id="L156">        countLimit = 0; // no limit</span>
<span class="fc" id="L157">        derefLink = false;</span>
<span class="fc" id="L158">        returnObj = false;</span>
<span class="fc" id="L159">        attributesToReturn = null; // return all</span>
<span class="fc" id="L160">    }</span>

    /**
     * Constructs a search constraints using arguments.
     * @param scope     The search scope.  One of:
     *                  OBJECT_SCOPE, ONELEVEL_SCOPE, SUBTREE_SCOPE.
     * @param timelim   The number of milliseconds to wait before returning.
     *                  If 0, wait indefinitely.
     * @param deref     If true, dereference links during search.
     * @param countlim  The maximum number of entries to return.  If 0, return
     *                  all entries that satisfy filter.
     * @param retobj    If true, return the object bound to the name of the
     *                  entry; if false, do not return object.
     * @param attrs     The identifiers of the attributes to return along with
     *                  the entry.  If null, return all attributes. If empty
     *                  return no attributes.
     */
    public SearchControls(int scope,
                             long countlim,
                             int timelim,
                             String[] attrs,
                             boolean retobj,
<span class="fc" id="L182">                             boolean deref) {</span>
<span class="fc" id="L183">        searchScope = scope;</span>
<span class="fc" id="L184">        timeLimit = timelim; // no limit</span>
<span class="fc" id="L185">        derefLink = deref;</span>
<span class="fc" id="L186">        returnObj = retobj;</span>
<span class="fc" id="L187">        countLimit = countlim; // no limit</span>
<span class="fc" id="L188">        attributesToReturn = attrs; // return all</span>
<span class="fc" id="L189">    }</span>

    /**
     * Retrieves the search scope of these SearchControls.
     *&lt;p&gt;
     * One of OBJECT_SCOPE, ONELEVEL_SCOPE, SUBTREE_SCOPE.
     *
     * @return The search scope of this SearchControls.
     * @see #setSearchScope
     */
    public int getSearchScope() {
<span class="fc" id="L200">        return searchScope;</span>
    }

    /**
     * Retrieves the time limit of these SearchControls in milliseconds.
     *&lt;p&gt;
     * If the value is 0, this means to wait indefinitely.
     * @return The time limit of these SearchControls in milliseconds.
     * @see #setTimeLimit
     */
    public int getTimeLimit() {
<span class="fc" id="L211">        return timeLimit;</span>
    }

    /**
     * Determines whether links will be dereferenced during the search.
     *
     * @return true if links will be dereferenced; false otherwise.
     * @see #setDerefLinkFlag
     */
    public boolean getDerefLinkFlag() {
<span class="fc" id="L221">        return derefLink;</span>
    }

    /**
     * Determines whether objects will be returned as part of the result.
     *
     * @return true if objects will be returned; false otherwise.
     * @see #setReturningObjFlag
     */
    public boolean getReturningObjFlag() {
<span class="fc" id="L231">        return returnObj;</span>
    }

    /**
     * Retrieves the maximum number of entries that will be returned
     * as a result of the search.
     *&lt;p&gt;
     * 0 indicates that all entries will be returned.
     * @return The maximum number of entries that will be returned.
     * @see #setCountLimit
     */
    public long getCountLimit() {
<span class="fc" id="L243">        return countLimit;</span>
    }

    /**
     * Retrieves the attributes that will be returned as part of the search.
     *&lt;p&gt;
     * A value of null indicates that all attributes will be returned.
     * An empty array indicates that no attributes are to be returned.
     *
     * @return An array of attribute ids identifying the attributes that
     * will be returned. Can be null.
     * @see #setReturningAttributes
     */
    public String[] getReturningAttributes() {
<span class="fc" id="L257">        return attributesToReturn;</span>
    }

    /**
     * Sets the search scope to one of:
     * OBJECT_SCOPE, ONELEVEL_SCOPE, SUBTREE_SCOPE.
     * @param scope     The search scope of this SearchControls.
     * @see #getSearchScope
     */
    public void setSearchScope(int scope) {
<span class="fc" id="L267">        searchScope = scope;</span>
<span class="fc" id="L268">    }</span>

    /**
     * Sets the time limit of these SearchControls in milliseconds.
     *&lt;p&gt;
     * If the value is 0, this means to wait indefinitely.
     * @param ms        The time limit of these SearchControls in milliseconds.
     * @see #getTimeLimit
     */
    public void setTimeLimit(int ms) {
<span class="nc" id="L278">        timeLimit = ms;</span>
<span class="nc" id="L279">    }</span>

    /**
     * Enables/disables link dereferencing during the search.
     *
     * @param on        if true links will be dereferenced; if false, not followed.
     * @see #getDerefLinkFlag
     */
    public void setDerefLinkFlag(boolean on) {
<span class="nc" id="L288">        derefLink = on;</span>
<span class="nc" id="L289">    }</span>

    /**
     * Enables/disables returning objects returned as part of the result.
     *&lt;p&gt;
     * If disabled, only the name and class of the object is returned.
     * If enabled, the object will be returned.
     *
     * @param on        if true, objects will be returned; if false,
     *                  objects will not be returned.
     * @see #getReturningObjFlag
     */
    public void setReturningObjFlag(boolean on) {
<span class="fc" id="L302">        returnObj = on;</span>
<span class="fc" id="L303">    }</span>

    /**
     * Sets the maximum number of entries to be returned
     * as a result of the search.
     *&lt;p&gt;
     * 0 indicates no limit:  all entries will be returned.
     *
     * @param limit The maximum number of entries that will be returned.
     * @see #getCountLimit
     */
    public void setCountLimit(long limit) {
<span class="nc" id="L315">        countLimit = limit;</span>
<span class="nc" id="L316">    }</span>

    /**
     * Specifies the attributes that will be returned as part of the search.
     *&lt;p&gt;
     * null indicates that all attributes will be returned.
     * An empty array indicates no attributes are returned.
     *
     * @param attrs An array of attribute ids identifying the attributes that
     *              will be returned. Can be null.
     * @see #getReturningAttributes
     */
    public void setReturningAttributes(String[] attrs) {
<span class="fc" id="L329">        attributesToReturn = attrs;</span>
<span class="fc" id="L330">    }</span>

    /**
     * Use serialVersionUID from JNDI 1.1.1 for interoperability.
     */
    private static final long serialVersionUID = -2480540967773454797L;
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
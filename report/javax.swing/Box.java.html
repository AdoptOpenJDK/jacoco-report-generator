<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Box.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">javax.swing</a> &gt; <span class="el_source">Box.java</span></div><h1>Box.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1997, 2007, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */


package javax.swing;

import java.awt.*;
import java.awt.event.*;
import java.beans.ConstructorProperties;
import java.util.Locale;
import java.io.Serializable;
import javax.accessibility.*;

/**
 * A lightweight container
 * that uses a BoxLayout object as its layout manager.
 * Box provides several class methods
 * that are useful for containers using BoxLayout --
 * even non-Box containers.
 *
 * &lt;p&gt;
 * The &lt;code&gt;Box&lt;/code&gt; class can create several kinds
 * of invisible components
 * that affect layout:
 * glue, struts, and rigid areas.
 * If all the components your &lt;code&gt;Box&lt;/code&gt; contains
 * have a fixed size,
 * you might want to use a glue component
 * (returned by &lt;code&gt;createGlue&lt;/code&gt;)
 * to control the components' positions.
 * If you need a fixed amount of space between two components,
 * try using a strut
 * (&lt;code&gt;createHorizontalStrut&lt;/code&gt; or &lt;code&gt;createVerticalStrut&lt;/code&gt;).
 * If you need an invisible component
 * that always takes up the same amount of space,
 * get it by invoking &lt;code&gt;createRigidArea&lt;/code&gt;.
 * &lt;p&gt;
 * If you are implementing a &lt;code&gt;BoxLayout&lt;/code&gt; you
 * can find further information and examples in
 * &lt;a
 href=&quot;http://docs.oracle.com/javase/tutorial/uiswing/layout/box.html&quot;&gt;How to Use BoxLayout&lt;/a&gt;,
 * a section in &lt;em&gt;The Java Tutorial.&lt;/em&gt;
 * &lt;p&gt;
 * &lt;strong&gt;Warning:&lt;/strong&gt;
 * Serialized objects of this class will not be compatible with
 * future Swing releases. The current serialization support is
 * appropriate for short term storage or RMI between applications running
 * the same version of Swing.  As of 1.4, support for long term storage
 * of all JavaBeans&amp;trade;
 * has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
 * Please see {@link java.beans.XMLEncoder}.
 *
 * @see BoxLayout
 *
 * @author  Timothy Prinzing
 */
@SuppressWarnings(&quot;serial&quot;)
public class Box extends JComponent implements Accessible {

    /**
     * Creates a &lt;code&gt;Box&lt;/code&gt; that displays its components
     * along the the specified axis.
     *
     * @param axis  can be {@link BoxLayout#X_AXIS},
     *              {@link BoxLayout#Y_AXIS},
     *              {@link BoxLayout#LINE_AXIS} or
     *              {@link BoxLayout#PAGE_AXIS}.
     * @throws AWTError if the &lt;code&gt;axis&lt;/code&gt; is invalid
     * @see #createHorizontalBox
     * @see #createVerticalBox
     */
    public Box(int axis) {
<span class="nc" id="L95">        super();</span>
<span class="nc" id="L96">        super.setLayout(new BoxLayout(this, axis));</span>
<span class="nc" id="L97">    }</span>

    /**
     * Creates a &lt;code&gt;Box&lt;/code&gt; that displays its components
     * from left to right. If you want a &lt;code&gt;Box&lt;/code&gt; that
     * respects the component orientation you should create the
     * &lt;code&gt;Box&lt;/code&gt; using the constructor and pass in
     * &lt;code&gt;BoxLayout.LINE_AXIS&lt;/code&gt;, eg:
     * &lt;pre&gt;
     *   Box lineBox = new Box(BoxLayout.LINE_AXIS);
     * &lt;/pre&gt;
     *
     * @return the box
     */
    public static Box createHorizontalBox() {
<span class="nc" id="L112">        return new Box(BoxLayout.X_AXIS);</span>
    }

    /**
     * Creates a &lt;code&gt;Box&lt;/code&gt; that displays its components
     * from top to bottom. If you want a &lt;code&gt;Box&lt;/code&gt; that
     * respects the component orientation you should create the
     * &lt;code&gt;Box&lt;/code&gt; using the constructor and pass in
     * &lt;code&gt;BoxLayout.PAGE_AXIS&lt;/code&gt;, eg:
     * &lt;pre&gt;
     *   Box lineBox = new Box(BoxLayout.PAGE_AXIS);
     * &lt;/pre&gt;
     *
     * @return the box
     */
    public static Box createVerticalBox() {
<span class="nc" id="L128">        return new Box(BoxLayout.Y_AXIS);</span>
    }

    /**
     * Creates an invisible component that's always the specified size.
     * &lt;!-- WHEN WOULD YOU USE THIS AS OPPOSED TO A STRUT? --&gt;
     *
     * @param d the dimensions of the invisible component
     * @return the component
     * @see #createGlue
     * @see #createHorizontalStrut
     * @see #createVerticalStrut
     */
    public static Component createRigidArea(Dimension d) {
<span class="nc" id="L142">        return new Filler(d, d, d);</span>
    }

    /**
     * Creates an invisible, fixed-width component.
     * In a horizontal box,
     * you typically use this method
     * to force a certain amount of space between two components.
     * In a vertical box,
     * you might use this method
     * to force the box to be at least the specified width.
     * The invisible component has no height
     * unless excess space is available,
     * in which case it takes its share of available space,
     * just like any other component that has no maximum height.
     *
     * @param width the width of the invisible component, in pixels &amp;gt;= 0
     * @return the component
     * @see #createVerticalStrut
     * @see #createGlue
     * @see #createRigidArea
     */
    public static Component createHorizontalStrut(int width) {
<span class="nc" id="L165">        return new Filler(new Dimension(width,0), new Dimension(width,0),</span>
                          new Dimension(width, Short.MAX_VALUE));
    }

    /**
     * Creates an invisible, fixed-height component.
     * In a vertical box,
     * you typically use this method
     * to force a certain amount of space between two components.
     * In a horizontal box,
     * you might use this method
     * to force the box to be at least the specified height.
     * The invisible component has no width
     * unless excess space is available,
     * in which case it takes its share of available space,
     * just like any other component that has no maximum width.
     *
     * @param height the height of the invisible component, in pixels &amp;gt;= 0
     * @return the component
     * @see #createHorizontalStrut
     * @see #createGlue
     * @see #createRigidArea
     */
    public static Component createVerticalStrut(int height) {
<span class="nc" id="L189">        return new Filler(new Dimension(0,height), new Dimension(0,height),</span>
                          new Dimension(Short.MAX_VALUE, height));
    }

    /**
     * Creates an invisible &quot;glue&quot; component
     * that can be useful in a Box
     * whose visible components have a maximum width
     * (for a horizontal box)
     * or height (for a vertical box).
     * You can think of the glue component
     * as being a gooey substance
     * that expands as much as necessary
     * to fill the space between its neighboring components.
     *
     * &lt;p&gt;
     *
     * For example, suppose you have
     * a horizontal box that contains two fixed-size components.
     * If the box gets extra space,
     * the fixed-size components won't become larger,
    * so where does the extra space go?
     * Without glue,
     * the extra space goes to the right of the second component.
     * If you put glue between the fixed-size components,
     * then the extra space goes there.
     * If you put glue before the first fixed-size component,
     * the extra space goes there,
     * and the fixed-size components are shoved against the right
     * edge of the box.
     * If you put glue before the first fixed-size component
     * and after the second fixed-size component,
     * the fixed-size components are centered in the box.
     *
     * &lt;p&gt;
     *
     * To use glue,
     * call &lt;code&gt;Box.createGlue&lt;/code&gt;
     * and add the returned component to a container.
     * The glue component has no minimum or preferred size,
     * so it takes no space unless excess space is available.
     * If excess space is available,
     * then the glue component takes its share of available
     * horizontal or vertical space,
     * just like any other component that has no maximum width or height.
     *
     * @return the component
     */
    public static Component createGlue() {
<span class="nc" id="L238">        return new Filler(new Dimension(0,0), new Dimension(0,0),</span>
                          new Dimension(Short.MAX_VALUE, Short.MAX_VALUE));
    }

    /**
     * Creates a horizontal glue component.
     *
     * @return the component
     */
    public static Component createHorizontalGlue() {
<span class="nc" id="L248">        return new Filler(new Dimension(0,0), new Dimension(0,0),</span>
                          new Dimension(Short.MAX_VALUE, 0));
    }

    /**
     * Creates a vertical glue component.
     *
     * @return the component
     */
    public static Component createVerticalGlue() {
<span class="nc" id="L258">        return new Filler(new Dimension(0,0), new Dimension(0,0),</span>
                          new Dimension(0, Short.MAX_VALUE));
    }

    /**
     * Throws an AWTError, since a Box can use only a BoxLayout.
     *
     * @param l the layout manager to use
     */
    public void setLayout(LayoutManager l) {
<span class="nc" id="L268">        throw new AWTError(&quot;Illegal request&quot;);</span>
    }

    /**
     * Paints this &lt;code&gt;Box&lt;/code&gt;.  If this &lt;code&gt;Box&lt;/code&gt; has a UI this
     * method invokes super's implementation, otherwise if this
     * &lt;code&gt;Box&lt;/code&gt; is opaque the &lt;code&gt;Graphics&lt;/code&gt; is filled
     * using the background.
     *
     * @param g the &lt;code&gt;Graphics&lt;/code&gt; to paint to
     * @throws NullPointerException if &lt;code&gt;g&lt;/code&gt; is null
     * @since 1.6
     */
    protected void paintComponent(Graphics g) {
<span class="nc bnc" id="L282" title="All 2 branches missed.">        if (ui != null) {</span>
            // On the off chance some one created a UI, honor it
<span class="nc" id="L284">            super.paintComponent(g);</span>
<span class="nc bnc" id="L285" title="All 2 branches missed.">        } else if (isOpaque()) {</span>
<span class="nc" id="L286">            g.setColor(getBackground());</span>
<span class="nc" id="L287">            g.fillRect(0, 0, getWidth(), getHeight());</span>
        }
<span class="nc" id="L289">    }</span>


    /**
     * An implementation of a lightweight component that participates in
     * layout but has no view.
     * &lt;p&gt;
     * &lt;strong&gt;Warning:&lt;/strong&gt;
     * Serialized objects of this class will not be compatible with
     * future Swing releases. The current serialization support is
     * appropriate for short term storage or RMI between applications running
     * the same version of Swing.  As of 1.4, support for long term storage
     * of all JavaBeans&amp;trade;
     * has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
     * Please see {@link java.beans.XMLEncoder}.
     */
    @SuppressWarnings(&quot;serial&quot;)
    public static class Filler extends JComponent implements Accessible {

        /**
         * Constructor to create shape with the given size ranges.
         *
         * @param min   Minimum size
         * @param pref  Preferred size
         * @param max   Maximum size
         */
        @ConstructorProperties({&quot;minimumSize&quot;, &quot;preferredSize&quot;, &quot;maximumSize&quot;})
<span class="nc" id="L316">        public Filler(Dimension min, Dimension pref, Dimension max) {</span>
<span class="nc" id="L317">            setMinimumSize(min);</span>
<span class="nc" id="L318">            setPreferredSize(pref);</span>
<span class="nc" id="L319">            setMaximumSize(max);</span>
<span class="nc" id="L320">        }</span>

        /**
         * Change the size requests for this shape.  An invalidate() is
         * propagated upward as a result so that layout will eventually
         * happen with using the new sizes.
         *
         * @param min   Value to return for getMinimumSize
         * @param pref  Value to return for getPreferredSize
         * @param max   Value to return for getMaximumSize
         */
        public void changeShape(Dimension min, Dimension pref, Dimension max) {
<span class="nc" id="L332">            setMinimumSize(min);</span>
<span class="nc" id="L333">            setPreferredSize(pref);</span>
<span class="nc" id="L334">            setMaximumSize(max);</span>
<span class="nc" id="L335">            revalidate();</span>
<span class="nc" id="L336">        }</span>

        // ---- Component methods ------------------------------------------

        /**
         * Paints this &lt;code&gt;Filler&lt;/code&gt;.  If this
         * &lt;code&gt;Filler&lt;/code&gt; has a UI this method invokes super's
         * implementation, otherwise if this &lt;code&gt;Filler&lt;/code&gt; is
         * opaque the &lt;code&gt;Graphics&lt;/code&gt; is filled using the
         * background.
         *
         * @param g the &lt;code&gt;Graphics&lt;/code&gt; to paint to
         * @throws NullPointerException if &lt;code&gt;g&lt;/code&gt; is null
         * @since 1.6
         */
        protected void paintComponent(Graphics g) {
<span class="nc bnc" id="L352" title="All 2 branches missed.">            if (ui != null) {</span>
                // On the off chance some one created a UI, honor it
<span class="nc" id="L354">                super.paintComponent(g);</span>
<span class="nc bnc" id="L355" title="All 2 branches missed.">            } else if (isOpaque()) {</span>
<span class="nc" id="L356">                g.setColor(getBackground());</span>
<span class="nc" id="L357">                g.fillRect(0, 0, getWidth(), getHeight());</span>
            }
<span class="nc" id="L359">        }</span>

/////////////////
// Accessibility support for Box$Filler
////////////////

        /**
         * Gets the AccessibleContext associated with this Box.Filler.
         * For box fillers, the AccessibleContext takes the form of an
         * AccessibleBoxFiller.
         * A new AccessibleAWTBoxFiller instance is created if necessary.
         *
         * @return an AccessibleBoxFiller that serves as the
         *         AccessibleContext of this Box.Filler.
         */
        public AccessibleContext getAccessibleContext() {
<span class="nc bnc" id="L375" title="All 2 branches missed.">            if (accessibleContext == null) {</span>
<span class="nc" id="L376">                accessibleContext = new AccessibleBoxFiller();</span>
            }
<span class="nc" id="L378">            return accessibleContext;</span>
        }

        /**
         * This class implements accessibility support for the
         * &lt;code&gt;Box.Filler&lt;/code&gt; class.
         */
        @SuppressWarnings(&quot;serial&quot;)
<span class="nc" id="L386">        protected class AccessibleBoxFiller extends AccessibleAWTComponent {</span>
            // AccessibleContext methods
            //
            /**
             * Gets the role of this object.
             *
             * @return an instance of AccessibleRole describing the role of
             *   the object (AccessibleRole.FILLER)
             * @see AccessibleRole
             */
            public AccessibleRole getAccessibleRole() {
<span class="nc" id="L397">                return AccessibleRole.FILLER;</span>
            }
        }
    }

/////////////////
// Accessibility support for Box
////////////////

    /**
     * Gets the AccessibleContext associated with this Box.
     * For boxes, the AccessibleContext takes the form of an
     * AccessibleBox.
     * A new AccessibleAWTBox instance is created if necessary.
     *
     * @return an AccessibleBox that serves as the
     *         AccessibleContext of this Box
     */
    public AccessibleContext getAccessibleContext() {
<span class="nc bnc" id="L416" title="All 2 branches missed.">        if (accessibleContext == null) {</span>
<span class="nc" id="L417">            accessibleContext = new AccessibleBox();</span>
        }
<span class="nc" id="L419">        return accessibleContext;</span>
    }

    /**
     * This class implements accessibility support for the
     * &lt;code&gt;Box&lt;/code&gt; class.
     */
    @SuppressWarnings(&quot;serial&quot;)
<span class="nc" id="L427">    protected class AccessibleBox extends AccessibleAWTContainer {</span>
        // AccessibleContext methods
        //
        /**
         * Gets the role of this object.
         *
         * @return an instance of AccessibleRole describing the role of the
         *   object (AccessibleRole.FILLER)
         * @see AccessibleRole
         */
        public AccessibleRole getAccessibleRole() {
<span class="nc" id="L438">            return AccessibleRole.FILLER;</span>
        }
    } // inner class AccessibleBox
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../resources/report.gif" type="image/gif"/><title>JScrollBar.java</title><link rel="stylesheet" href="../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">javax.swing</a> &gt; <span class="el_source">JScrollBar.java</span></div><h1>JScrollBar.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1997, 2008, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.swing;

import java.io.Serializable;
import java.awt.Component;
import java.awt.Adjustable;
import java.awt.Dimension;
import java.awt.event.AdjustmentListener;
import java.awt.event.AdjustmentEvent;
import java.awt.Graphics;

import javax.swing.event.*;
import javax.swing.plaf.*;
import javax.accessibility.*;

import java.io.ObjectOutputStream;
import java.io.ObjectInputStream;
import java.io.IOException;



/**
 * An implementation of a scrollbar. The user positions the knob in the
 * scrollbar to determine the contents of the viewing area. The
 * program typically adjusts the display so that the end of the
 * scrollbar represents the end of the displayable contents, or 100%
 * of the contents. The start of the scrollbar is the beginning of the
 * displayable contents, or 0%. The position of the knob within
 * those bounds then translates to the corresponding percentage of
 * the displayable contents.
 * &lt;p&gt;
 * Typically, as the position of the knob in the scrollbar changes
 * a corresponding change is made to the position of the JViewport on
 * the underlying view, changing the contents of the JViewport.
 * &lt;p&gt;
 * &lt;strong&gt;Warning:&lt;/strong&gt; Swing is not thread safe. For more
 * information see &lt;a
 * href=&quot;package-summary.html#threading&quot;&gt;Swing's Threading
 * Policy&lt;/a&gt;.
 * &lt;p&gt;
 * &lt;strong&gt;Warning:&lt;/strong&gt;
 * Serialized objects of this class will not be compatible with
 * future Swing releases. The current serialization support is
 * appropriate for short term storage or RMI between applications running
 * the same version of Swing.  As of 1.4, support for long term storage
 * of all JavaBeans&amp;trade;
 * has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
 * Please see {@link java.beans.XMLEncoder}.
 *
 * @see JScrollPane
 * @beaninfo
 *      attribute: isContainer false
 *    description: A component that helps determine the visible content range of an area.
 *
 * @author David Kloba
 */
public class JScrollBar extends JComponent implements Adjustable, Accessible
{
    /**
     * @see #getUIClassID
     * @see #readObject
     */
    private static final String uiClassID = &quot;ScrollBarUI&quot;;

    /**
     * All changes from the model are treated as though the user moved
     * the scrollbar knob.
     */
<span class="nc" id="L93">    private ChangeListener fwdAdjustmentEvents = new ModelListener();</span>


    /**
     * The model that represents the scrollbar's minimum, maximum, extent
     * (aka &quot;visibleAmount&quot;) and current value.
     * @see #setModel
     */
    protected BoundedRangeModel model;


    /**
     * @see #setOrientation
     */
    protected int orientation;


    /**
     * @see #setUnitIncrement
     */
    protected int unitIncrement;


    /**
     * @see #setBlockIncrement
     */
    protected int blockIncrement;


    private void checkOrientation(int orientation) {
<span class="nc bnc" id="L123" title="All 2 branches missed.">        switch (orientation) {</span>
        case VERTICAL:
        case HORIZONTAL:
<span class="nc" id="L126">            break;</span>
        default:
<span class="nc" id="L128">            throw new IllegalArgumentException(&quot;orientation must be one of: VERTICAL, HORIZONTAL&quot;);</span>
        }
<span class="nc" id="L130">    }</span>


    /**
     * Creates a scrollbar with the specified orientation,
     * value, extent, minimum, and maximum.
     * The &quot;extent&quot; is the size of the viewable area. It is also known
     * as the &quot;visible amount&quot;.
     * &lt;p&gt;
     * Note: Use &lt;code&gt;setBlockIncrement&lt;/code&gt; to set the block
     * increment to a size slightly smaller than the view's extent.
     * That way, when the user jumps the knob to an adjacent position,
     * one or two lines of the original contents remain in view.
     *
     * @exception IllegalArgumentException if orientation is not one of VERTICAL, HORIZONTAL
     *
     * @see #setOrientation
     * @see #setValue
     * @see #setVisibleAmount
     * @see #setMinimum
     * @see #setMaximum
     */
    public JScrollBar(int orientation, int value, int extent, int min, int max)
<span class="nc" id="L153">    {</span>
<span class="nc" id="L154">        checkOrientation(orientation);</span>
<span class="nc" id="L155">        this.unitIncrement = 1;</span>
<span class="nc bnc" id="L156" title="All 2 branches missed.">        this.blockIncrement = (extent == 0) ? 1 : extent;</span>
<span class="nc" id="L157">        this.orientation = orientation;</span>
<span class="nc" id="L158">        this.model = new DefaultBoundedRangeModel(value, extent, min, max);</span>
<span class="nc" id="L159">        this.model.addChangeListener(fwdAdjustmentEvents);</span>
<span class="nc" id="L160">        setRequestFocusEnabled(false);</span>
<span class="nc" id="L161">        updateUI();</span>
<span class="nc" id="L162">    }</span>


    /**
     * Creates a scrollbar with the specified orientation
     * and the following initial values:
     * &lt;pre&gt;
     * minimum = 0
     * maximum = 100
     * value = 0
     * extent = 10
     * &lt;/pre&gt;
     */
    public JScrollBar(int orientation) {
<span class="nc" id="L176">        this(orientation, 0, 10, 0, 100);</span>
<span class="nc" id="L177">    }</span>


    /**
     * Creates a vertical scrollbar with the following initial values:
     * &lt;pre&gt;
     * minimum = 0
     * maximum = 100
     * value = 0
     * extent = 10
     * &lt;/pre&gt;
     */
    public JScrollBar() {
<span class="nc" id="L190">        this(VERTICAL);</span>
<span class="nc" id="L191">    }</span>


    /**
     * Sets the L&amp;F object that renders this component.
     *
     * @param ui  the &lt;code&gt;ScrollBarUI&lt;/code&gt; L&amp;F object
     * @see UIDefaults#getUI
     * @since 1.4
     * @beaninfo
     *        bound: true
     *       hidden: true
     *    attribute: visualUpdate true
     *  description: The UI object that implements the Component's LookAndFeel
     */
    public void setUI(ScrollBarUI ui) {
<span class="nc" id="L207">        super.setUI(ui);</span>
<span class="nc" id="L208">    }</span>


    /**
     * Returns the delegate that implements the look and feel for
     * this component.
     *
     * @see JComponent#setUI
     */
    public ScrollBarUI getUI() {
<span class="nc" id="L218">        return (ScrollBarUI)ui;</span>
    }


    /**
     * Overrides &lt;code&gt;JComponent.updateUI&lt;/code&gt;.
     * @see JComponent#updateUI
     */
    public void updateUI() {
<span class="nc" id="L227">        setUI((ScrollBarUI)UIManager.getUI(this));</span>
<span class="nc" id="L228">    }</span>


    /**
     * Returns the name of the LookAndFeel class for this component.
     *
     * @return &quot;ScrollBarUI&quot;
     * @see JComponent#getUIClassID
     * @see UIDefaults#getUI
     */
    public String getUIClassID() {
<span class="nc" id="L239">        return uiClassID;</span>
    }



    /**
     * Returns the component's orientation (horizontal or vertical).
     *
     * @return VERTICAL or HORIZONTAL
     * @see #setOrientation
     * @see java.awt.Adjustable#getOrientation
     */
    public int getOrientation() {
<span class="nc" id="L252">        return orientation;</span>
    }


    /**
     * Set the scrollbar's orientation to either VERTICAL or
     * HORIZONTAL.
     *
     * @exception IllegalArgumentException if orientation is not one of VERTICAL, HORIZONTAL
     * @see #getOrientation
     * @beaninfo
     *    preferred: true
     *        bound: true
     *    attribute: visualUpdate true
     *  description: The scrollbar's orientation.
     *         enum: VERTICAL JScrollBar.VERTICAL
     *               HORIZONTAL JScrollBar.HORIZONTAL
     */
    public void setOrientation(int orientation)
    {
<span class="nc" id="L272">        checkOrientation(orientation);</span>
<span class="nc" id="L273">        int oldValue = this.orientation;</span>
<span class="nc" id="L274">        this.orientation = orientation;</span>
<span class="nc" id="L275">        firePropertyChange(&quot;orientation&quot;, oldValue, orientation);</span>

<span class="nc bnc" id="L277" title="All 4 branches missed.">        if ((oldValue != orientation) &amp;&amp; (accessibleContext != null)) {</span>
<span class="nc bnc" id="L278" title="All 4 branches missed.">            accessibleContext.firePropertyChange(</span>
                    AccessibleContext.ACCESSIBLE_STATE_PROPERTY,
                    ((oldValue == VERTICAL)
                     ? AccessibleState.VERTICAL : AccessibleState.HORIZONTAL),
                    ((orientation == VERTICAL)
                     ? AccessibleState.VERTICAL : AccessibleState.HORIZONTAL));
        }
<span class="nc bnc" id="L285" title="All 2 branches missed.">        if (orientation != oldValue) {</span>
<span class="nc" id="L286">            revalidate();</span>
        }
<span class="nc" id="L288">    }</span>


    /**
     * Returns data model that handles the scrollbar's four
     * fundamental properties: minimum, maximum, value, extent.
     *
     * @see #setModel
     */
    public BoundedRangeModel getModel() {
<span class="nc" id="L298">        return model;</span>
    }


    /**
     * Sets the model that handles the scrollbar's four
     * fundamental properties: minimum, maximum, value, extent.
     *
     * @see #getModel
     * @beaninfo
     *       bound: true
     *       expert: true
     * description: The scrollbar's BoundedRangeModel.
     */
    public void setModel(BoundedRangeModel newModel) {
<span class="nc" id="L313">        Integer oldValue = null;</span>
<span class="nc" id="L314">        BoundedRangeModel oldModel = model;</span>
<span class="nc bnc" id="L315" title="All 2 branches missed.">        if (model != null) {</span>
<span class="nc" id="L316">            model.removeChangeListener(fwdAdjustmentEvents);</span>
<span class="nc" id="L317">            oldValue = Integer.valueOf(model.getValue());</span>
        }
<span class="nc" id="L319">        model = newModel;</span>
<span class="nc bnc" id="L320" title="All 2 branches missed.">        if (model != null) {</span>
<span class="nc" id="L321">            model.addChangeListener(fwdAdjustmentEvents);</span>
        }

<span class="nc" id="L324">        firePropertyChange(&quot;model&quot;, oldModel, model);</span>

<span class="nc bnc" id="L326" title="All 2 branches missed.">        if (accessibleContext != null) {</span>
<span class="nc" id="L327">            accessibleContext.firePropertyChange(</span>
                    AccessibleContext.ACCESSIBLE_VALUE_PROPERTY,
<span class="nc" id="L329">                    oldValue, new Integer(model.getValue()));</span>
        }
<span class="nc" id="L331">    }</span>


    /**
     * Returns the amount to change the scrollbar's value by,
     * given a unit up/down request.  A ScrollBarUI implementation
     * typically calls this method when the user clicks on a scrollbar
     * up/down arrow and uses the result to update the scrollbar's
     * value.   Subclasses my override this method to compute
     * a value, e.g. the change required to scroll up or down one
     * (variable height) line text or one row in a table.
     * &lt;p&gt;
     * The JScrollPane component creates scrollbars (by default)
     * that override this method and delegate to the viewports
     * Scrollable view, if it has one.  The Scrollable interface
     * provides a more specialized version of this method.
     * &lt;p&gt;
     * Some look and feels implement custom scrolling behavior
     * and ignore this property.
     *
     * @param direction is -1 or 1 for up/down respectively
     * @return the value of the unitIncrement property
     * @see #setUnitIncrement
     * @see #setValue
     * @see Scrollable#getScrollableUnitIncrement
     */
    public int getUnitIncrement(int direction) {
<span class="nc" id="L358">        return unitIncrement;</span>
    }


    /**
     * Sets the unitIncrement property.
     * &lt;p&gt;
     * Note, that if the argument is equal to the value of Integer.MIN_VALUE,
     * the most look and feels will not provide the scrolling to the right/down.
     * &lt;p&gt;
     * Some look and feels implement custom scrolling behavior
     * and ignore this property.
     *
     * @see #getUnitIncrement
     * @beaninfo
     *   preferred: true
     *       bound: true
     * description: The scrollbar's unit increment.
     */
    public void setUnitIncrement(int unitIncrement) {
<span class="nc" id="L378">        int oldValue = this.unitIncrement;</span>
<span class="nc" id="L379">        this.unitIncrement = unitIncrement;</span>
<span class="nc" id="L380">        firePropertyChange(&quot;unitIncrement&quot;, oldValue, unitIncrement);</span>
<span class="nc" id="L381">    }</span>


    /**
     * Returns the amount to change the scrollbar's value by,
     * given a block (usually &quot;page&quot;) up/down request.  A ScrollBarUI
     * implementation typically calls this method when the user clicks
     * above or below the scrollbar &quot;knob&quot; to change the value
     * up or down by large amount.  Subclasses my override this
     * method to compute a value, e.g. the change required to scroll
     * up or down one paragraph in a text document.
     * &lt;p&gt;
     * The JScrollPane component creates scrollbars (by default)
     * that override this method and delegate to the viewports
     * Scrollable view, if it has one.  The Scrollable interface
     * provides a more specialized version of this method.
     * &lt;p&gt;
     * Some look and feels implement custom scrolling behavior
     * and ignore this property.
     *
     * @param direction is -1 or 1 for up/down respectively
     * @return the value of the blockIncrement property
     * @see #setBlockIncrement
     * @see #setValue
     * @see Scrollable#getScrollableBlockIncrement
     */
    public int getBlockIncrement(int direction) {
<span class="nc" id="L408">        return blockIncrement;</span>
    }


    /**
     * Sets the blockIncrement property.
     * &lt;p&gt;
     * Note, that if the argument is equal to the value of Integer.MIN_VALUE,
     * the most look and feels will not provide the scrolling to the right/down.
     * &lt;p&gt;
     * Some look and feels implement custom scrolling behavior
     * and ignore this property.
     *
     * @see #getBlockIncrement()
     * @beaninfo
     *   preferred: true
     *       bound: true
     * description: The scrollbar's block increment.
     */
    public void setBlockIncrement(int blockIncrement) {
<span class="nc" id="L428">        int oldValue = this.blockIncrement;</span>
<span class="nc" id="L429">        this.blockIncrement = blockIncrement;</span>
<span class="nc" id="L430">        firePropertyChange(&quot;blockIncrement&quot;, oldValue, blockIncrement);</span>
<span class="nc" id="L431">    }</span>


    /**
     * For backwards compatibility with java.awt.Scrollbar.
     * @see Adjustable#getUnitIncrement
     * @see #getUnitIncrement(int)
     */
    public int getUnitIncrement() {
<span class="nc" id="L440">        return unitIncrement;</span>
    }


    /**
     * For backwards compatibility with java.awt.Scrollbar.
     * @see Adjustable#getBlockIncrement
     * @see #getBlockIncrement(int)
     */
    public int getBlockIncrement() {
<span class="nc" id="L450">        return blockIncrement;</span>
    }


    /**
     * Returns the scrollbar's value.
     * @return the model's value property
     * @see #setValue
     */
    public int getValue() {
<span class="nc" id="L460">        return getModel().getValue();</span>
    }


    /**
     * Sets the scrollbar's value.  This method just forwards the value
     * to the model.
     *
     * @see #getValue
     * @see BoundedRangeModel#setValue
     * @beaninfo
     *   preferred: true
     * description: The scrollbar's current value.
     */
    public void setValue(int value) {
<span class="nc" id="L475">        BoundedRangeModel m = getModel();</span>
<span class="nc" id="L476">        int oldValue = m.getValue();</span>
<span class="nc" id="L477">        m.setValue(value);</span>

<span class="nc bnc" id="L479" title="All 2 branches missed.">        if (accessibleContext != null) {</span>
<span class="nc" id="L480">            accessibleContext.firePropertyChange(</span>
                    AccessibleContext.ACCESSIBLE_VALUE_PROPERTY,
<span class="nc" id="L482">                    Integer.valueOf(oldValue),</span>
<span class="nc" id="L483">                    Integer.valueOf(m.getValue()));</span>
        }
<span class="nc" id="L485">    }</span>


    /**
     * Returns the scrollbar's extent, aka its &quot;visibleAmount&quot;.  In many
     * scrollbar look and feel implementations the size of the
     * scrollbar &quot;knob&quot; or &quot;thumb&quot; is proportional to the extent.
     *
     * @return the value of the model's extent property
     * @see #setVisibleAmount
     */
    public int getVisibleAmount() {
<span class="nc" id="L497">        return getModel().getExtent();</span>
    }


    /**
     * Set the model's extent property.
     *
     * @see #getVisibleAmount
     * @see BoundedRangeModel#setExtent
     * @beaninfo
     *   preferred: true
     * description: The amount of the view that is currently visible.
     */
    public void setVisibleAmount(int extent) {
<span class="nc" id="L511">        getModel().setExtent(extent);</span>
<span class="nc" id="L512">    }</span>


    /**
     * Returns the minimum value supported by the scrollbar
     * (usually zero).
     *
     * @return the value of the model's minimum property
     * @see #setMinimum
     */
    public int getMinimum() {
<span class="nc" id="L523">        return getModel().getMinimum();</span>
    }


    /**
     * Sets the model's minimum property.
     *
     * @see #getMinimum
     * @see BoundedRangeModel#setMinimum
     * @beaninfo
     *   preferred: true
     * description: The scrollbar's minimum value.
     */
    public void setMinimum(int minimum) {
<span class="nc" id="L537">        getModel().setMinimum(minimum);</span>
<span class="nc" id="L538">    }</span>


    /**
     * The maximum value of the scrollbar is maximum - extent.
     *
     * @return the value of the model's maximum property
     * @see #setMaximum
     */
    public int getMaximum() {
<span class="nc" id="L548">        return getModel().getMaximum();</span>
    }


    /**
     * Sets the model's maximum property.  Note that the scrollbar's value
     * can only be set to maximum - extent.
     *
     * @see #getMaximum
     * @see BoundedRangeModel#setMaximum
     * @beaninfo
     *   preferred: true
     * description: The scrollbar's maximum value.
     */
    public void setMaximum(int maximum) {
<span class="nc" id="L563">        getModel().setMaximum(maximum);</span>
<span class="nc" id="L564">    }</span>


    /**
     * True if the scrollbar knob is being dragged.
     *
     * @return the value of the model's valueIsAdjusting property
     * @see #setValueIsAdjusting
     */
    public boolean getValueIsAdjusting() {
<span class="nc" id="L574">        return getModel().getValueIsAdjusting();</span>
    }


    /**
     * Sets the model's valueIsAdjusting property.  Scrollbar look and
     * feel implementations should set this property to true when
     * a knob drag begins, and to false when the drag ends.  The
     * scrollbar model will not generate ChangeEvents while
     * valueIsAdjusting is true.
     *
     * @see #getValueIsAdjusting
     * @see BoundedRangeModel#setValueIsAdjusting
     * @beaninfo
     *      expert: true
     * description: True if the scrollbar thumb is being dragged.
     */
    public void setValueIsAdjusting(boolean b) {
<span class="nc" id="L592">        BoundedRangeModel m = getModel();</span>
<span class="nc" id="L593">        boolean oldValue = m.getValueIsAdjusting();</span>
<span class="nc" id="L594">        m.setValueIsAdjusting(b);</span>

<span class="nc bnc" id="L596" title="All 4 branches missed.">        if ((oldValue != b) &amp;&amp; (accessibleContext != null)) {</span>
<span class="nc bnc" id="L597" title="All 4 branches missed.">            accessibleContext.firePropertyChange(</span>
                    AccessibleContext.ACCESSIBLE_STATE_PROPERTY,
                    ((oldValue) ? AccessibleState.BUSY : null),
                    ((b) ? AccessibleState.BUSY : null));
        }
<span class="nc" id="L602">    }</span>


    /**
     * Sets the four BoundedRangeModel properties after forcing
     * the arguments to obey the usual constraints:
     * &lt;pre&gt;
     * minimum &lt;= value &lt;= value+extent &lt;= maximum
     * &lt;/pre&gt;
     * &lt;p&gt;
     *
     * @see BoundedRangeModel#setRangeProperties
     * @see #setValue
     * @see #setVisibleAmount
     * @see #setMinimum
     * @see #setMaximum
     */
    public void setValues(int newValue, int newExtent, int newMin, int newMax)
    {
<span class="nc" id="L621">        BoundedRangeModel m = getModel();</span>
<span class="nc" id="L622">        int oldValue = m.getValue();</span>
<span class="nc" id="L623">        m.setRangeProperties(newValue, newExtent, newMin, newMax, m.getValueIsAdjusting());</span>

<span class="nc bnc" id="L625" title="All 2 branches missed.">        if (accessibleContext != null) {</span>
<span class="nc" id="L626">            accessibleContext.firePropertyChange(</span>
                    AccessibleContext.ACCESSIBLE_VALUE_PROPERTY,
<span class="nc" id="L628">                    Integer.valueOf(oldValue),</span>
<span class="nc" id="L629">                    Integer.valueOf(m.getValue()));</span>
        }
<span class="nc" id="L631">    }</span>


    /**
     * Adds an AdjustmentListener.  Adjustment listeners are notified
     * each time the scrollbar's model changes.  Adjustment events are
     * provided for backwards compatibility with java.awt.Scrollbar.
     * &lt;p&gt;
     * Note that the AdjustmentEvents type property will always have a
     * placeholder value of AdjustmentEvent.TRACK because all changes
     * to a BoundedRangeModels value are considered equivalent.  To change
     * the value of a BoundedRangeModel one just sets its value property,
     * i.e. model.setValue(123).  No information about the origin of the
     * change, e.g. it's a block decrement, is provided.  We don't try
     * fabricate the origin of the change here.
     *
     * @param l the AdjustmentLister to add
     * @see #removeAdjustmentListener
     * @see BoundedRangeModel#addChangeListener
     */
    public void addAdjustmentListener(AdjustmentListener l)   {
<span class="nc" id="L652">        listenerList.add(AdjustmentListener.class, l);</span>
<span class="nc" id="L653">    }</span>


    /**
     * Removes an AdjustmentEvent listener.
     *
     * @param l the AdjustmentLister to remove
     * @see #addAdjustmentListener
     */
    public void removeAdjustmentListener(AdjustmentListener l)  {
<span class="nc" id="L663">        listenerList.remove(AdjustmentListener.class, l);</span>
<span class="nc" id="L664">    }</span>


    /**
     * Returns an array of all the &lt;code&gt;AdjustmentListener&lt;/code&gt;s added
     * to this JScrollBar with addAdjustmentListener().
     *
     * @return all of the &lt;code&gt;AdjustmentListener&lt;/code&gt;s added or an empty
     *         array if no listeners have been added
     * @since 1.4
     */
    public AdjustmentListener[] getAdjustmentListeners() {
<span class="nc" id="L676">        return listenerList.getListeners(AdjustmentListener.class);</span>
    }


    /**
     * Notify listeners that the scrollbar's model has changed.
     *
     * @see #addAdjustmentListener
     * @see EventListenerList
     */
    protected void fireAdjustmentValueChanged(int id, int type, int value) {
<span class="nc" id="L687">        fireAdjustmentValueChanged(id, type, value, getValueIsAdjusting());</span>
<span class="nc" id="L688">    }</span>

    /**
     * Notify listeners that the scrollbar's model has changed.
     *
     * @see #addAdjustmentListener
     * @see EventListenerList
     */
    private void fireAdjustmentValueChanged(int id, int type, int value,
                                            boolean isAdjusting) {
<span class="nc" id="L698">        Object[] listeners = listenerList.getListenerList();</span>
<span class="nc" id="L699">        AdjustmentEvent e = null;</span>
<span class="nc bnc" id="L700" title="All 2 branches missed.">        for (int i = listeners.length - 2; i &gt;= 0; i -= 2) {</span>
<span class="nc bnc" id="L701" title="All 2 branches missed.">            if (listeners[i]==AdjustmentListener.class) {</span>
<span class="nc bnc" id="L702" title="All 2 branches missed.">                if (e == null) {</span>
<span class="nc" id="L703">                    e = new AdjustmentEvent(this, id, type, value, isAdjusting);</span>
                }
<span class="nc" id="L705">                ((AdjustmentListener)listeners[i+1]).adjustmentValueChanged(e);</span>
            }
        }
<span class="nc" id="L708">    }</span>


    /**
     * This class listens to ChangeEvents on the model and forwards
     * AdjustmentEvents for the sake of backwards compatibility.
     * Unfortunately there's no way to determine the proper
     * type of the AdjustmentEvent as all updates to the model's
     * value are considered equivalent.
     */
<span class="nc" id="L718">    private class ModelListener implements ChangeListener, Serializable {</span>
        public void stateChanged(ChangeEvent e)   {
<span class="nc" id="L720">            Object obj = e.getSource();</span>
<span class="nc bnc" id="L721" title="All 2 branches missed.">            if (obj instanceof BoundedRangeModel) {</span>
<span class="nc" id="L722">                int id = AdjustmentEvent.ADJUSTMENT_VALUE_CHANGED;</span>
<span class="nc" id="L723">                int type = AdjustmentEvent.TRACK;</span>
<span class="nc" id="L724">                BoundedRangeModel model = (BoundedRangeModel)obj;</span>
<span class="nc" id="L725">                int value = model.getValue();</span>
<span class="nc" id="L726">                boolean isAdjusting = model.getValueIsAdjusting();</span>
<span class="nc" id="L727">                fireAdjustmentValueChanged(id, type, value, isAdjusting);</span>
            }
<span class="nc" id="L729">        }</span>
    }

    // PENDING(hmuller) - the next three methods should be removed

    /**
     * The scrollbar is flexible along it's scrolling axis and
     * rigid along the other axis.
     */
    public Dimension getMinimumSize() {
<span class="nc" id="L739">        Dimension pref = getPreferredSize();</span>
<span class="nc bnc" id="L740" title="All 2 branches missed.">        if (orientation == VERTICAL) {</span>
<span class="nc" id="L741">            return new Dimension(pref.width, 5);</span>
        } else {
<span class="nc" id="L743">            return new Dimension(5, pref.height);</span>
        }
    }

    /**
     * The scrollbar is flexible along it's scrolling axis and
     * rigid along the other axis.
     */
    public Dimension getMaximumSize() {
<span class="nc" id="L752">        Dimension pref = getPreferredSize();</span>
<span class="nc bnc" id="L753" title="All 2 branches missed.">        if (getOrientation() == VERTICAL) {</span>
<span class="nc" id="L754">            return new Dimension(pref.width, Short.MAX_VALUE);</span>
        } else {
<span class="nc" id="L756">            return new Dimension(Short.MAX_VALUE, pref.height);</span>
        }
    }

    /**
     * Enables the component so that the knob position can be changed.
     * When the disabled, the knob position cannot be changed.
     *
     * @param x a boolean value, where true enables the component and
     *          false disables it
     */
    public void setEnabled(boolean x)  {
<span class="nc" id="L768">        super.setEnabled(x);</span>
<span class="nc" id="L769">        Component[] children = getComponents();</span>
<span class="nc bnc" id="L770" title="All 2 branches missed.">        for (Component child : children) {</span>
<span class="nc" id="L771">            child.setEnabled(x);</span>
        }
<span class="nc" id="L773">    }</span>

    /**
     * See readObject() and writeObject() in JComponent for more
     * information about serialization in Swing.
     */
    private void writeObject(ObjectOutputStream s) throws IOException {
<span class="nc" id="L780">        s.defaultWriteObject();</span>
<span class="nc bnc" id="L781" title="All 2 branches missed.">        if (getUIClassID().equals(uiClassID)) {</span>
<span class="nc" id="L782">            byte count = JComponent.getWriteObjCounter(this);</span>
<span class="nc" id="L783">            JComponent.setWriteObjCounter(this, --count);</span>
<span class="nc bnc" id="L784" title="All 4 branches missed.">            if (count == 0 &amp;&amp; ui != null) {</span>
<span class="nc" id="L785">                ui.installUI(this);</span>
            }
        }
<span class="nc" id="L788">    }</span>


    /**
     * Returns a string representation of this JScrollBar. This method
     * is intended to be used only for debugging purposes, and the
     * content and format of the returned string may vary between
     * implementations. The returned string may be empty but may not
     * be &lt;code&gt;null&lt;/code&gt;.
     *
     * @return  a string representation of this JScrollBar.
     */
    protected String paramString() {
<span class="nc bnc" id="L801" title="All 2 branches missed.">        String orientationString = (orientation == HORIZONTAL ?</span>
                                    &quot;HORIZONTAL&quot; : &quot;VERTICAL&quot;);

<span class="nc" id="L804">        return super.paramString() +</span>
        &quot;,blockIncrement=&quot; + blockIncrement +
        &quot;,orientation=&quot; + orientationString +
        &quot;,unitIncrement=&quot; + unitIncrement;
    }

/////////////////
// Accessibility support
////////////////

    /**
     * Gets the AccessibleContext associated with this JScrollBar.
     * For JScrollBar, the AccessibleContext takes the form of an
     * AccessibleJScrollBar.
     * A new AccessibleJScrollBar instance is created if necessary.
     *
     * @return an AccessibleJScrollBar that serves as the
     *         AccessibleContext of this JScrollBar
     */
    public AccessibleContext getAccessibleContext() {
<span class="nc bnc" id="L824" title="All 2 branches missed.">        if (accessibleContext == null) {</span>
<span class="nc" id="L825">            accessibleContext = new AccessibleJScrollBar();</span>
        }
<span class="nc" id="L827">        return accessibleContext;</span>
    }

    /**
     * This class implements accessibility support for the
     * &lt;code&gt;JScrollBar&lt;/code&gt; class.  It provides an implementation of the
     * Java Accessibility API appropriate to scroll bar user-interface
     * elements.
     * &lt;p&gt;
     * &lt;strong&gt;Warning:&lt;/strong&gt;
     * Serialized objects of this class will not be compatible with
     * future Swing releases. The current serialization support is
     * appropriate for short term storage or RMI between applications running
     * the same version of Swing.  As of 1.4, support for long term storage
     * of all JavaBeans&amp;trade;
     * has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
     * Please see {@link java.beans.XMLEncoder}.
     */
<span class="nc" id="L845">    protected class AccessibleJScrollBar extends AccessibleJComponent</span>
        implements AccessibleValue {

        /**
         * Get the state set of this object.
         *
         * @return an instance of AccessibleState containing the current state
         * of the object
         * @see AccessibleState
         */
        public AccessibleStateSet getAccessibleStateSet() {
<span class="nc" id="L856">            AccessibleStateSet states = super.getAccessibleStateSet();</span>
<span class="nc bnc" id="L857" title="All 2 branches missed.">            if (getValueIsAdjusting()) {</span>
<span class="nc" id="L858">                states.add(AccessibleState.BUSY);</span>
            }
<span class="nc bnc" id="L860" title="All 2 branches missed.">            if (getOrientation() == VERTICAL) {</span>
<span class="nc" id="L861">                states.add(AccessibleState.VERTICAL);</span>
            } else {
<span class="nc" id="L863">                states.add(AccessibleState.HORIZONTAL);</span>
            }
<span class="nc" id="L865">            return states;</span>
        }

        /**
         * Get the role of this object.
         *
         * @return an instance of AccessibleRole describing the role of the
         * object
         */
        public AccessibleRole getAccessibleRole() {
<span class="nc" id="L875">            return AccessibleRole.SCROLL_BAR;</span>
        }

        /**
         * Get the AccessibleValue associated with this object.  In the
         * implementation of the Java Accessibility API for this class,
         * return this object, which is responsible for implementing the
         * AccessibleValue interface on behalf of itself.
         *
         * @return this object
         */
        public AccessibleValue getAccessibleValue() {
<span class="nc" id="L887">            return this;</span>
        }

        /**
         * Get the accessible value of this object.
         *
         * @return The current value of this object.
         */
        public Number getCurrentAccessibleValue() {
<span class="nc" id="L896">            return Integer.valueOf(getValue());</span>
        }

        /**
         * Set the value of this object as a Number.
         *
         * @return True if the value was set.
         */
        public boolean setCurrentAccessibleValue(Number n) {
            // TIGER - 4422535
<span class="nc bnc" id="L906" title="All 2 branches missed.">            if (n == null) {</span>
<span class="nc" id="L907">                return false;</span>
            }
<span class="nc" id="L909">            setValue(n.intValue());</span>
<span class="nc" id="L910">            return true;</span>
        }

        /**
         * Get the minimum accessible value of this object.
         *
         * @return The minimum value of this object.
         */
        public Number getMinimumAccessibleValue() {
<span class="nc" id="L919">            return Integer.valueOf(getMinimum());</span>
        }

        /**
         * Get the maximum accessible value of this object.
         *
         * @return The maximum value of this object.
         */
        public Number getMaximumAccessibleValue() {
            // TIGER - 4422362
<span class="nc" id="L929">            return new Integer(model.getMaximum() - model.getExtent());</span>
        }

    } // AccessibleJScrollBar
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
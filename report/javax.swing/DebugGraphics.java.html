<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../resources/report.gif" type="image/gif"/><title>DebugGraphics.java</title><link rel="stylesheet" href="../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Foo</a> &gt; <a href="index.html" class="el_package">javax.swing</a> &gt; <span class="el_source">DebugGraphics.java</span></div><h1>DebugGraphics.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1997, 2010, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.swing;

import java.awt.*;
import java.awt.image.*;
import java.text.AttributedCharacterIterator;

/**
 * Graphics subclass supporting graphics debugging. Overrides most methods
 * from Graphics.  DebugGraphics objects are rarely created by hand.  They
 * are most frequently created automatically when a JComponent's
 * debugGraphicsOptions are changed using the setDebugGraphicsOptions()
 * method.
 * &lt;p&gt;
 * NOTE: You must turn off double buffering to use DebugGraphics:
 *       RepaintManager repaintManager = RepaintManager.currentManager(component);
 *       repaintManager.setDoubleBufferingEnabled(false);
 *
 * @see JComponent#setDebugGraphicsOptions
 * @see RepaintManager#currentManager
 * @see RepaintManager#setDoubleBufferingEnabled
 *
 * @author Dave Karlton
 */
public class DebugGraphics extends Graphics {
    Graphics                    graphics;
    Image                       buffer;
    int                         debugOptions;
<span class="nc" id="L53">    int                         graphicsID = graphicsCount++;</span>
    int                         xOffset, yOffset;
<span class="nc" id="L55">    private static int          graphicsCount = 0;</span>
<span class="nc" id="L56">    private static ImageIcon    imageLoadingIcon = new ImageIcon();</span>

    /** Log graphics operations. */
    public static final int     LOG_OPTION   = 1 &lt;&lt; 0;
    /** Flash graphics operations. */
    public static final int     FLASH_OPTION = 1 &lt;&lt; 1;
    /** Show buffered operations in a separate &lt;code&gt;Frame&lt;/code&gt;. */
    public static final int     BUFFERED_OPTION = 1 &lt;&lt; 2;
    /** Don't debug graphics operations. */
    public static final int     NONE_OPTION = -1;

    static {
<span class="nc" id="L68">        JComponent.DEBUG_GRAPHICS_LOADED = true;</span>
    }

    /**
     * Constructs a new debug graphics context that supports slowed
     * down drawing.
     */
    public DebugGraphics() {
<span class="nc" id="L76">        super();</span>
<span class="nc" id="L77">        buffer = null;</span>
<span class="nc" id="L78">        xOffset = yOffset = 0;</span>
<span class="nc" id="L79">    }</span>

    /**
     * Constructs a debug graphics context from an existing graphics
     * context that slows down drawing for the specified component.
     *
     * @param graphics  the Graphics context to slow down
     * @param component the JComponent to draw slowly
     */
    public DebugGraphics(Graphics graphics, JComponent component) {
<span class="nc" id="L89">        this(graphics);</span>
<span class="nc" id="L90">        setDebugOptions(component.shouldDebugGraphics());</span>
<span class="nc" id="L91">    }</span>

    /**
     * Constructs a debug graphics context from an existing graphics
     * context that supports slowed down drawing.
     *
     * @param graphics  the Graphics context to slow down
     */
    public DebugGraphics(Graphics graphics) {
<span class="nc" id="L100">        this();</span>
<span class="nc" id="L101">        this.graphics = graphics;</span>
<span class="nc" id="L102">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.create&lt;/code&gt; to return a DebugGraphics object.
     */
    public Graphics create() {
        DebugGraphics debugGraphics;

<span class="nc" id="L110">        debugGraphics = new DebugGraphics();</span>
<span class="nc" id="L111">        debugGraphics.graphics = graphics.create();</span>
<span class="nc" id="L112">        debugGraphics.debugOptions = debugOptions;</span>
<span class="nc" id="L113">        debugGraphics.buffer = buffer;</span>

<span class="nc" id="L115">        return debugGraphics;</span>
    }

    /**
     * Overrides &lt;code&gt;Graphics.create&lt;/code&gt; to return a DebugGraphics object.
     */
    public Graphics create(int x, int y, int width, int height) {
        DebugGraphics debugGraphics;

<span class="nc" id="L124">        debugGraphics = new DebugGraphics();</span>
<span class="nc" id="L125">        debugGraphics.graphics = graphics.create(x, y, width, height);</span>
<span class="nc" id="L126">        debugGraphics.debugOptions = debugOptions;</span>
<span class="nc" id="L127">        debugGraphics.buffer = buffer;</span>
<span class="nc" id="L128">        debugGraphics.xOffset = xOffset + x;</span>
<span class="nc" id="L129">        debugGraphics.yOffset = yOffset + y;</span>

<span class="nc" id="L131">        return debugGraphics;</span>
    }


    //------------------------------------------------
    //  NEW METHODS
    //------------------------------------------------

    /**
     * Sets the Color used to flash drawing operations.
     */
    public static void setFlashColor(Color flashColor) {
<span class="nc" id="L143">        info().flashColor = flashColor;</span>
<span class="nc" id="L144">    }</span>

    /**
     * Returns the Color used to flash drawing operations.
     * @see #setFlashColor
     */
    public static Color flashColor() {
<span class="nc" id="L151">        return info().flashColor;</span>
    }

    /**
     * Sets the time delay of drawing operation flashing.
     */
    public static void setFlashTime(int flashTime) {
<span class="nc" id="L158">        info().flashTime = flashTime;</span>
<span class="nc" id="L159">    }</span>

    /**
     * Returns the time delay of drawing operation flashing.
     * @see #setFlashTime
     */
    public static int flashTime() {
<span class="nc" id="L166">        return info().flashTime;</span>
    }

    /**
     * Sets the number of times that drawing operations will flash.
     */
    public static void setFlashCount(int flashCount) {
<span class="nc" id="L173">        info().flashCount = flashCount;</span>
<span class="nc" id="L174">    }</span>

    /** Returns the number of times that drawing operations will flash.
      * @see #setFlashCount
      */
    public static int flashCount() {
<span class="nc" id="L180">        return info().flashCount;</span>
    }

    /** Sets the stream to which the DebugGraphics logs drawing operations.
      */
    public static void setLogStream(java.io.PrintStream stream) {
<span class="nc" id="L186">        info().stream = stream;</span>
<span class="nc" id="L187">    }</span>

    /** Returns the stream to which the DebugGraphics logs drawing operations.
      * @see #setLogStream
      */
    public static java.io.PrintStream logStream() {
<span class="nc" id="L193">        return info().stream;</span>
    }

    /** Sets the Font used for text drawing operations.
      */
    public void setFont(Font aFont) {
<span class="nc bnc" id="L199" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L200">            info().log(toShortString() + &quot; Setting font: &quot; + aFont);</span>
        }
<span class="nc" id="L202">        graphics.setFont(aFont);</span>
<span class="nc" id="L203">    }</span>

    /** Returns the Font used for text drawing operations.
      * @see #setFont
      */
    public Font getFont() {
<span class="nc" id="L209">        return graphics.getFont();</span>
    }

    /** Sets the color to be used for drawing and filling lines and shapes.
      */
    public void setColor(Color aColor) {
<span class="nc bnc" id="L215" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L216">            info().log(toShortString() + &quot; Setting color: &quot; + aColor);</span>
        }
<span class="nc" id="L218">        graphics.setColor(aColor);</span>
<span class="nc" id="L219">    }</span>

    /** Returns the Color used for text drawing operations.
      * @see #setColor
      */
    public Color getColor() {
<span class="nc" id="L225">        return graphics.getColor();</span>
    }


    //-----------------------------------------------
    // OVERRIDDEN METHODS
    //------------------------------------------------

    /**
     * Overrides &lt;code&gt;Graphics.getFontMetrics&lt;/code&gt;.
     */
    public FontMetrics getFontMetrics() {
<span class="nc" id="L237">        return graphics.getFontMetrics();</span>
    }

    /**
     * Overrides &lt;code&gt;Graphics.getFontMetrics&lt;/code&gt;.
     */
    public FontMetrics getFontMetrics(Font f) {
<span class="nc" id="L244">        return graphics.getFontMetrics(f);</span>
    }

    /**
     * Overrides &lt;code&gt;Graphics.translate&lt;/code&gt;.
     */
    public void translate(int x, int y) {
<span class="nc bnc" id="L251" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L252">            info().log(toShortString() +</span>
                &quot; Translating by: &quot; + new Point(x, y));
        }
<span class="nc" id="L255">        xOffset += x;</span>
<span class="nc" id="L256">        yOffset += y;</span>
<span class="nc" id="L257">        graphics.translate(x, y);</span>
<span class="nc" id="L258">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.setPaintMode&lt;/code&gt;.
     */
    public void setPaintMode() {
<span class="nc bnc" id="L264" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L265">            info().log(toShortString() + &quot; Setting paint mode&quot;);</span>
        }
<span class="nc" id="L267">        graphics.setPaintMode();</span>
<span class="nc" id="L268">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.setXORMode&lt;/code&gt;.
     */
    public void setXORMode(Color aColor) {
<span class="nc bnc" id="L274" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L275">            info().log(toShortString() + &quot; Setting XOR mode: &quot; + aColor);</span>
        }
<span class="nc" id="L277">        graphics.setXORMode(aColor);</span>
<span class="nc" id="L278">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.getClipBounds&lt;/code&gt;.
     */
    public Rectangle getClipBounds() {
<span class="nc" id="L284">        return graphics.getClipBounds();</span>
    }

    /**
     * Overrides &lt;code&gt;Graphics.clipRect&lt;/code&gt;.
     */
    public void clipRect(int x, int y, int width, int height) {
<span class="nc" id="L291">        graphics.clipRect(x, y, width, height);</span>
<span class="nc bnc" id="L292" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L293">            info().log(toShortString() +</span>
                &quot; Setting clipRect: &quot; + (new Rectangle(x, y, width, height)) +
<span class="nc" id="L295">                &quot; New clipRect: &quot; + graphics.getClip());</span>
        }
<span class="nc" id="L297">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.setClip&lt;/code&gt;.
     */
    public void setClip(int x, int y, int width, int height) {
<span class="nc" id="L303">        graphics.setClip(x, y, width, height);</span>
<span class="nc bnc" id="L304" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L305">            info().log(toShortString() +</span>
<span class="nc" id="L306">                        &quot; Setting new clipRect: &quot; + graphics.getClip());</span>
        }
<span class="nc" id="L308">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.getClip&lt;/code&gt;.
     */
    public Shape getClip() {
<span class="nc" id="L314">        return graphics.getClip();</span>
    }

    /**
     * Overrides &lt;code&gt;Graphics.setClip&lt;/code&gt;.
     */
    public void setClip(Shape clip) {
<span class="nc" id="L321">        graphics.setClip(clip);</span>
<span class="nc bnc" id="L322" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L323">            info().log(toShortString() +</span>
<span class="nc" id="L324">                       &quot; Setting new clipRect: &quot; +  graphics.getClip());</span>
        }
<span class="nc" id="L326">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawRect&lt;/code&gt;.
     */
    public void drawRect(int x, int y, int width, int height) {
<span class="nc" id="L332">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L334" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L335">            info().log(toShortString() +</span>
                      &quot; Drawing rect: &quot; +
                      new Rectangle(x, y, width, height));
        }

<span class="nc bnc" id="L340" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L341" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L342">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L344">                debugGraphics.drawRect(x, y, width, height);</span>
<span class="nc" id="L345">                debugGraphics.dispose();</span>
<span class="nc" id="L346">            }</span>
<span class="nc bnc" id="L347" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L348">            Color oldColor = getColor();</span>
<span class="nc" id="L349">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L351" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L352" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L353">                graphics.drawRect(x, y, width, height);</span>
<span class="nc" id="L354">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L355">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L357">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L359">        graphics.drawRect(x, y, width, height);</span>
<span class="nc" id="L360">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.fillRect&lt;/code&gt;.
     */
    public void fillRect(int x, int y, int width, int height) {
<span class="nc" id="L366">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L368" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L369">            info().log(toShortString() +</span>
                      &quot; Filling rect: &quot; +
                      new Rectangle(x, y, width, height));
        }

<span class="nc bnc" id="L374" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L375" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L376">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L378">                debugGraphics.fillRect(x, y, width, height);</span>
<span class="nc" id="L379">                debugGraphics.dispose();</span>
<span class="nc" id="L380">            }</span>
<span class="nc bnc" id="L381" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L382">            Color oldColor = getColor();</span>
<span class="nc" id="L383">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L385" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L386" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L387">                graphics.fillRect(x, y, width, height);</span>
<span class="nc" id="L388">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L389">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L391">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L393">        graphics.fillRect(x, y, width, height);</span>
<span class="nc" id="L394">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.clearRect&lt;/code&gt;.
     */
    public void clearRect(int x, int y, int width, int height) {
<span class="nc" id="L400">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L402" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L403">            info().log(toShortString() +</span>
                      &quot; Clearing rect: &quot; +
                      new Rectangle(x, y, width, height));
        }

<span class="nc bnc" id="L408" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L409" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L410">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L412">                debugGraphics.clearRect(x, y, width, height);</span>
<span class="nc" id="L413">                debugGraphics.dispose();</span>
<span class="nc" id="L414">            }</span>
<span class="nc bnc" id="L415" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L416">            Color oldColor = getColor();</span>
<span class="nc" id="L417">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L419" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L420" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L421">                graphics.clearRect(x, y, width, height);</span>
<span class="nc" id="L422">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L423">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L425">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L427">        graphics.clearRect(x, y, width, height);</span>
<span class="nc" id="L428">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawRoundRect&lt;/code&gt;.
     */
    public void drawRoundRect(int x, int y, int width, int height,
                              int arcWidth, int arcHeight) {
<span class="nc" id="L435">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L437" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L438">            info().log(toShortString() +</span>
                      &quot; Drawing round rect: &quot; +
                      new Rectangle(x, y, width, height) +
                      &quot; arcWidth: &quot; + arcWidth +
                      &quot; archHeight: &quot; + arcHeight);
        }
<span class="nc bnc" id="L444" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L445" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L446">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L448">                debugGraphics.drawRoundRect(x, y, width, height,</span>
                                            arcWidth, arcHeight);
<span class="nc" id="L450">                debugGraphics.dispose();</span>
<span class="nc" id="L451">            }</span>
<span class="nc bnc" id="L452" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L453">            Color oldColor = getColor();</span>
<span class="nc" id="L454">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L456" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L457" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L458">                graphics.drawRoundRect(x, y, width, height,</span>
                                       arcWidth, arcHeight);
<span class="nc" id="L460">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L461">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L463">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L465">        graphics.drawRoundRect(x, y, width, height, arcWidth, arcHeight);</span>
<span class="nc" id="L466">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.fillRoundRect&lt;/code&gt;.
     */
    public void fillRoundRect(int x, int y, int width, int height,
                              int arcWidth, int arcHeight) {
<span class="nc" id="L473">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L475" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L476">            info().log(toShortString() +</span>
                      &quot; Filling round rect: &quot; +
                      new Rectangle(x, y, width, height) +
                      &quot; arcWidth: &quot; + arcWidth +
                      &quot; archHeight: &quot; + arcHeight);
        }
<span class="nc bnc" id="L482" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L483" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L484">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L486">                debugGraphics.fillRoundRect(x, y, width, height,</span>
                                            arcWidth, arcHeight);
<span class="nc" id="L488">                debugGraphics.dispose();</span>
<span class="nc" id="L489">            }</span>
<span class="nc bnc" id="L490" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L491">            Color oldColor = getColor();</span>
<span class="nc" id="L492">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L494" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L495" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L496">                graphics.fillRoundRect(x, y, width, height,</span>
                                       arcWidth, arcHeight);
<span class="nc" id="L498">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L499">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L501">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L503">        graphics.fillRoundRect(x, y, width, height, arcWidth, arcHeight);</span>
<span class="nc" id="L504">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawLine&lt;/code&gt;.
     */
    public void drawLine(int x1, int y1, int x2, int y2) {
<span class="nc" id="L510">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L512" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L513">            info().log(toShortString() +</span>
<span class="nc" id="L514">                       &quot; Drawing line: from &quot; + pointToString(x1, y1) +</span>
<span class="nc" id="L515">                       &quot; to &quot; +  pointToString(x2, y2));</span>
        }

<span class="nc bnc" id="L518" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L519" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L520">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L522">                debugGraphics.drawLine(x1, y1, x2, y2);</span>
<span class="nc" id="L523">                debugGraphics.dispose();</span>
<span class="nc" id="L524">            }</span>
<span class="nc bnc" id="L525" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L526">            Color oldColor = getColor();</span>
<span class="nc" id="L527">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L529" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L530" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L531">                graphics.drawLine(x1, y1, x2, y2);</span>
<span class="nc" id="L532">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L533">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L535">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L537">        graphics.drawLine(x1, y1, x2, y2);</span>
<span class="nc" id="L538">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.draw3DRect&lt;/code&gt;.
     */
    public void draw3DRect(int x, int y, int width, int height,
                           boolean raised) {
<span class="nc" id="L545">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L547" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L548">            info().log(toShortString() +</span>
                       &quot; Drawing 3D rect: &quot; +
                       new Rectangle(x, y, width, height) +
                       &quot; Raised bezel: &quot; + raised);
        }
<span class="nc bnc" id="L553" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L554" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L555">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L557">                debugGraphics.draw3DRect(x, y, width, height, raised);</span>
<span class="nc" id="L558">                debugGraphics.dispose();</span>
<span class="nc" id="L559">            }</span>
<span class="nc bnc" id="L560" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L561">            Color oldColor = getColor();</span>
<span class="nc" id="L562">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L564" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L565" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L566">                graphics.draw3DRect(x, y, width, height, raised);</span>
<span class="nc" id="L567">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L568">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L570">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L572">        graphics.draw3DRect(x, y, width, height, raised);</span>
<span class="nc" id="L573">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.fill3DRect&lt;/code&gt;.
     */
    public void fill3DRect(int x, int y, int width, int height,
                           boolean raised) {
<span class="nc" id="L580">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L582" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L583">            info().log(toShortString() +</span>
                       &quot; Filling 3D rect: &quot; +
                       new Rectangle(x, y, width, height) +
                       &quot; Raised bezel: &quot; + raised);
        }
<span class="nc bnc" id="L588" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L589" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L590">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L592">                debugGraphics.fill3DRect(x, y, width, height, raised);</span>
<span class="nc" id="L593">                debugGraphics.dispose();</span>
<span class="nc" id="L594">            }</span>
<span class="nc bnc" id="L595" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L596">            Color oldColor = getColor();</span>
<span class="nc" id="L597">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L599" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L600" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L601">                graphics.fill3DRect(x, y, width, height, raised);</span>
<span class="nc" id="L602">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L603">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L605">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L607">        graphics.fill3DRect(x, y, width, height, raised);</span>
<span class="nc" id="L608">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawOval&lt;/code&gt;.
     */
    public void drawOval(int x, int y, int width, int height) {
<span class="nc" id="L614">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L616" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L617">            info().log(toShortString() +</span>
                      &quot; Drawing oval: &quot; +
                      new Rectangle(x, y, width, height));
        }
<span class="nc bnc" id="L621" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L622" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L623">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L625">                debugGraphics.drawOval(x, y, width, height);</span>
<span class="nc" id="L626">                debugGraphics.dispose();</span>
<span class="nc" id="L627">            }</span>
<span class="nc bnc" id="L628" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L629">            Color oldColor = getColor();</span>
<span class="nc" id="L630">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L632" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L633" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L634">                graphics.drawOval(x, y, width, height);</span>
<span class="nc" id="L635">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L636">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L638">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L640">        graphics.drawOval(x, y, width, height);</span>
<span class="nc" id="L641">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.fillOval&lt;/code&gt;.
     */
    public void fillOval(int x, int y, int width, int height) {
<span class="nc" id="L647">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L649" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L650">            info().log(toShortString() +</span>
                      &quot; Filling oval: &quot; +
                      new Rectangle(x, y, width, height));
        }
<span class="nc bnc" id="L654" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L655" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L656">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L658">                debugGraphics.fillOval(x, y, width, height);</span>
<span class="nc" id="L659">                debugGraphics.dispose();</span>
<span class="nc" id="L660">            }</span>
<span class="nc bnc" id="L661" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L662">            Color oldColor = getColor();</span>
<span class="nc" id="L663">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L665" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L666" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L667">                graphics.fillOval(x, y, width, height);</span>
<span class="nc" id="L668">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L669">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L671">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L673">        graphics.fillOval(x, y, width, height);</span>
<span class="nc" id="L674">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawArc&lt;/code&gt;.
     */
    public void drawArc(int x, int y, int width, int height,
                        int startAngle, int arcAngle) {
<span class="nc" id="L681">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L683" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L684">            info().log(toShortString() +</span>
                      &quot; Drawing arc: &quot; +
                      new Rectangle(x, y, width, height) +
                      &quot; startAngle: &quot; + startAngle +
                      &quot; arcAngle: &quot; + arcAngle);
        }
<span class="nc bnc" id="L690" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L691" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L692">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L694">                debugGraphics.drawArc(x, y, width, height,</span>
                                      startAngle, arcAngle);
<span class="nc" id="L696">                debugGraphics.dispose();</span>
<span class="nc" id="L697">            }</span>
<span class="nc bnc" id="L698" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L699">            Color oldColor = getColor();</span>
<span class="nc" id="L700">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L702" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L703" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L704">                graphics.drawArc(x, y, width, height, startAngle, arcAngle);</span>
<span class="nc" id="L705">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L706">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L708">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L710">        graphics.drawArc(x, y, width, height, startAngle, arcAngle);</span>
<span class="nc" id="L711">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.fillArc&lt;/code&gt;.
     */
    public void fillArc(int x, int y, int width, int height,
                        int startAngle, int arcAngle) {
<span class="nc" id="L718">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L720" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L721">            info().log(toShortString() +</span>
                      &quot; Filling arc: &quot; +
                      new Rectangle(x, y, width, height) +
                      &quot; startAngle: &quot; + startAngle +
                      &quot; arcAngle: &quot; + arcAngle);
        }
<span class="nc bnc" id="L727" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L728" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L729">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L731">                debugGraphics.fillArc(x, y, width, height,</span>
                                      startAngle, arcAngle);
<span class="nc" id="L733">                debugGraphics.dispose();</span>
<span class="nc" id="L734">            }</span>
<span class="nc bnc" id="L735" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L736">            Color oldColor = getColor();</span>
<span class="nc" id="L737">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L739" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L740" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L741">                graphics.fillArc(x, y, width, height, startAngle, arcAngle);</span>
<span class="nc" id="L742">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L743">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L745">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L747">        graphics.fillArc(x, y, width, height, startAngle, arcAngle);</span>
<span class="nc" id="L748">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawPolyline&lt;/code&gt;.
     */
    public void drawPolyline(int xPoints[], int yPoints[], int nPoints) {
<span class="nc" id="L754">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L756" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L757">            info().log(toShortString() +</span>
                      &quot; Drawing polyline: &quot; +
                      &quot; nPoints: &quot; + nPoints +
                      &quot; X's: &quot; + xPoints +
                      &quot; Y's: &quot; + yPoints);
        }
<span class="nc bnc" id="L763" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L764" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L765">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L767">                debugGraphics.drawPolyline(xPoints, yPoints, nPoints);</span>
<span class="nc" id="L768">                debugGraphics.dispose();</span>
<span class="nc" id="L769">            }</span>
<span class="nc bnc" id="L770" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L771">            Color oldColor = getColor();</span>
<span class="nc" id="L772">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L774" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L775" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L776">                graphics.drawPolyline(xPoints, yPoints, nPoints);</span>
<span class="nc" id="L777">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L778">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L780">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L782">        graphics.drawPolyline(xPoints, yPoints, nPoints);</span>
<span class="nc" id="L783">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawPolygon&lt;/code&gt;.
     */
    public void drawPolygon(int xPoints[], int yPoints[], int nPoints) {
<span class="nc" id="L789">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L791" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L792">            info().log(toShortString() +</span>
                      &quot; Drawing polygon: &quot; +
                      &quot; nPoints: &quot; + nPoints +
                      &quot; X's: &quot; + xPoints +
                      &quot; Y's: &quot; + yPoints);
        }
<span class="nc bnc" id="L798" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L799" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L800">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L802">                debugGraphics.drawPolygon(xPoints, yPoints, nPoints);</span>
<span class="nc" id="L803">                debugGraphics.dispose();</span>
<span class="nc" id="L804">            }</span>
<span class="nc bnc" id="L805" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L806">            Color oldColor = getColor();</span>
<span class="nc" id="L807">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L809" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L810" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L811">                graphics.drawPolygon(xPoints, yPoints, nPoints);</span>
<span class="nc" id="L812">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L813">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L815">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L817">        graphics.drawPolygon(xPoints, yPoints, nPoints);</span>
<span class="nc" id="L818">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.fillPolygon&lt;/code&gt;.
     */
    public void fillPolygon(int xPoints[], int yPoints[], int nPoints) {
<span class="nc" id="L824">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L826" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L827">            info().log(toShortString() +</span>
                      &quot; Filling polygon: &quot; +
                      &quot; nPoints: &quot; + nPoints +
                      &quot; X's: &quot; + xPoints +
                      &quot; Y's: &quot; + yPoints);
        }
<span class="nc bnc" id="L833" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L834" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L835">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L837">                debugGraphics.fillPolygon(xPoints, yPoints, nPoints);</span>
<span class="nc" id="L838">                debugGraphics.dispose();</span>
<span class="nc" id="L839">            }</span>
<span class="nc bnc" id="L840" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L841">            Color oldColor = getColor();</span>
<span class="nc" id="L842">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L844" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L845" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor : oldColor);</span>
<span class="nc" id="L846">                graphics.fillPolygon(xPoints, yPoints, nPoints);</span>
<span class="nc" id="L847">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L848">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L850">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L852">        graphics.fillPolygon(xPoints, yPoints, nPoints);</span>
<span class="nc" id="L853">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawString&lt;/code&gt;.
     */
    public void drawString(String aString, int x, int y) {
<span class="nc" id="L859">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L861" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L862">            info().log(toShortString() +</span>
                       &quot; Drawing string: \&quot;&quot; + aString +
                       &quot;\&quot; at: &quot; + new Point(x, y));
        }

<span class="nc bnc" id="L867" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L868" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L869">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L871">                debugGraphics.drawString(aString, x, y);</span>
<span class="nc" id="L872">                debugGraphics.dispose();</span>
<span class="nc" id="L873">            }</span>
<span class="nc bnc" id="L874" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L875">            Color oldColor = getColor();</span>
<span class="nc" id="L876">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L878" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L879" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor</span>
                                  : oldColor);
<span class="nc" id="L881">                graphics.drawString(aString, x, y);</span>
<span class="nc" id="L882">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L883">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L885">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L887">        graphics.drawString(aString, x, y);</span>
<span class="nc" id="L888">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawString&lt;/code&gt;.
     */
    public void drawString(AttributedCharacterIterator iterator, int x, int y) {
<span class="nc" id="L894">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L896" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L897">            info().log(toShortString() +</span>
                       &quot; Drawing text: \&quot;&quot; + iterator +
                       &quot;\&quot; at: &quot; + new Point(x, y));
        }

<span class="nc bnc" id="L902" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L903" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L904">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L906">                debugGraphics.drawString(iterator, x, y);</span>
<span class="nc" id="L907">                debugGraphics.dispose();</span>
<span class="nc" id="L908">            }</span>
<span class="nc bnc" id="L909" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L910">            Color oldColor = getColor();</span>
<span class="nc" id="L911">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L913" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L914" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor</span>
                                  : oldColor);
<span class="nc" id="L916">                graphics.drawString(iterator, x, y);</span>
<span class="nc" id="L917">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L918">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L920">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L922">        graphics.drawString(iterator, x, y);</span>
<span class="nc" id="L923">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawBytes&lt;/code&gt;.
     */
    public void drawBytes(byte data[], int offset, int length, int x, int y) {
<span class="nc" id="L929">        DebugGraphicsInfo info = info();</span>

<span class="nc" id="L931">        Font font = graphics.getFont();</span>

<span class="nc bnc" id="L933" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L934">            info().log(toShortString() +</span>
                       &quot; Drawing bytes at: &quot; + new Point(x, y));
        }

<span class="nc bnc" id="L938" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L939" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L940">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L942">                debugGraphics.drawBytes(data, offset, length, x, y);</span>
<span class="nc" id="L943">                debugGraphics.dispose();</span>
<span class="nc" id="L944">            }</span>
<span class="nc bnc" id="L945" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L946">            Color oldColor = getColor();</span>
<span class="nc" id="L947">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L949" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L950" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor</span>
                                  : oldColor);
<span class="nc" id="L952">                graphics.drawBytes(data, offset, length, x, y);</span>
<span class="nc" id="L953">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L954">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L956">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L958">        graphics.drawBytes(data, offset, length, x, y);</span>
<span class="nc" id="L959">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawChars&lt;/code&gt;.
     */
    public void drawChars(char data[], int offset, int length, int x, int y) {
<span class="nc" id="L965">        DebugGraphicsInfo info = info();</span>

<span class="nc" id="L967">        Font font = graphics.getFont();</span>

<span class="nc bnc" id="L969" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L970">            info().log(toShortString() +</span>
                       &quot; Drawing chars at &quot; +  new Point(x, y));
        }

<span class="nc bnc" id="L974" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L975" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L976">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L978">                debugGraphics.drawChars(data, offset, length, x, y);</span>
<span class="nc" id="L979">                debugGraphics.dispose();</span>
<span class="nc" id="L980">            }</span>
<span class="nc bnc" id="L981" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L982">            Color oldColor = getColor();</span>
<span class="nc" id="L983">            int i, count = (info.flashCount * 2) - 1;</span>

<span class="nc bnc" id="L985" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L986" title="All 2 branches missed.">                graphics.setColor((i % 2) == 0 ? info.flashColor</span>
                                  : oldColor);
<span class="nc" id="L988">                graphics.drawChars(data, offset, length, x, y);</span>
<span class="nc" id="L989">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L990">                sleep(info.flashTime);</span>
            }
<span class="nc" id="L992">            graphics.setColor(oldColor);</span>
        }
<span class="nc" id="L994">        graphics.drawChars(data, offset, length, x, y);</span>
<span class="nc" id="L995">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.drawImage&lt;/code&gt;.
     */
    public boolean drawImage(Image img, int x, int y,
                             ImageObserver observer) {
<span class="nc" id="L1002">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L1004" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L1005">            info.log(toShortString() +</span>
                     &quot; Drawing image: &quot; + img +
                     &quot; at: &quot; + new Point(x, y));
        }

<span class="nc bnc" id="L1010" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L1011" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L1012">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L1014">                debugGraphics.drawImage(img, x, y, observer);</span>
<span class="nc" id="L1015">                debugGraphics.dispose();</span>
<span class="nc" id="L1016">            }</span>
<span class="nc bnc" id="L1017" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L1018">            int i, count = (info.flashCount * 2) - 1;</span>
<span class="nc" id="L1019">            ImageProducer oldProducer = img.getSource();</span>
<span class="nc" id="L1020">            ImageProducer newProducer</span>
                = new FilteredImageSource(oldProducer,
                                new DebugGraphicsFilter(info.flashColor));
            Image newImage
<span class="nc" id="L1024">                = Toolkit.getDefaultToolkit().createImage(newProducer);</span>
<span class="nc" id="L1025">            DebugGraphicsObserver imageObserver</span>
                = new DebugGraphicsObserver();

            Image imageToDraw;
<span class="nc bnc" id="L1029" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L1030" title="All 2 branches missed.">                imageToDraw = (i % 2) == 0 ? newImage : img;</span>
<span class="nc" id="L1031">                loadImage(imageToDraw);</span>
<span class="nc" id="L1032">                graphics.drawImage(imageToDraw, x, y,</span>
                                   imageObserver);
<span class="nc" id="L1034">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L1035">                sleep(info.flashTime);</span>
            }
        }
<span class="nc" id="L1038">        return graphics.drawImage(img, x, y, observer);</span>
    }

    /**
     * Overrides &lt;code&gt;Graphics.drawImage&lt;/code&gt;.
     */
    public boolean drawImage(Image img, int x, int y, int width, int height,
                             ImageObserver observer) {
<span class="nc" id="L1046">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L1048" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L1049">            info.log(toShortString() +</span>
                     &quot; Drawing image: &quot; + img +
                     &quot; at: &quot; + new Rectangle(x, y, width, height));
        }

<span class="nc bnc" id="L1054" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L1055" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L1056">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L1058">                debugGraphics.drawImage(img, x, y, width, height, observer);</span>
<span class="nc" id="L1059">                debugGraphics.dispose();</span>
<span class="nc" id="L1060">            }</span>
<span class="nc bnc" id="L1061" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L1062">            int i, count = (info.flashCount * 2) - 1;</span>
<span class="nc" id="L1063">            ImageProducer oldProducer = img.getSource();</span>
<span class="nc" id="L1064">            ImageProducer newProducer</span>
                = new FilteredImageSource(oldProducer,
                                new DebugGraphicsFilter(info.flashColor));
            Image newImage
<span class="nc" id="L1068">                = Toolkit.getDefaultToolkit().createImage(newProducer);</span>
<span class="nc" id="L1069">            DebugGraphicsObserver imageObserver</span>
                = new DebugGraphicsObserver();

            Image imageToDraw;
<span class="nc bnc" id="L1073" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L1074" title="All 2 branches missed.">                imageToDraw = (i % 2) == 0 ? newImage : img;</span>
<span class="nc" id="L1075">                loadImage(imageToDraw);</span>
<span class="nc" id="L1076">                graphics.drawImage(imageToDraw, x, y,</span>
                                   width, height, imageObserver);
<span class="nc" id="L1078">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L1079">                sleep(info.flashTime);</span>
            }
        }
<span class="nc" id="L1082">        return graphics.drawImage(img, x, y, width, height, observer);</span>
    }

    /**
     * Overrides &lt;code&gt;Graphics.drawImage&lt;/code&gt;.
     */
    public boolean drawImage(Image img, int x, int y,
                             Color bgcolor,
                             ImageObserver observer) {
<span class="nc" id="L1091">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L1093" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L1094">            info.log(toShortString() +</span>
                     &quot; Drawing image: &quot; + img +
                     &quot; at: &quot; + new Point(x, y) +
                     &quot;, bgcolor: &quot; + bgcolor);
        }

<span class="nc bnc" id="L1100" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L1101" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L1102">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L1104">                debugGraphics.drawImage(img, x, y, bgcolor, observer);</span>
<span class="nc" id="L1105">                debugGraphics.dispose();</span>
<span class="nc" id="L1106">            }</span>
<span class="nc bnc" id="L1107" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L1108">            int i, count = (info.flashCount * 2) - 1;</span>
<span class="nc" id="L1109">            ImageProducer oldProducer = img.getSource();</span>
<span class="nc" id="L1110">            ImageProducer newProducer</span>
                = new FilteredImageSource(oldProducer,
                                new DebugGraphicsFilter(info.flashColor));
            Image newImage
<span class="nc" id="L1114">                = Toolkit.getDefaultToolkit().createImage(newProducer);</span>
<span class="nc" id="L1115">            DebugGraphicsObserver imageObserver</span>
                = new DebugGraphicsObserver();

            Image imageToDraw;
<span class="nc bnc" id="L1119" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L1120" title="All 2 branches missed.">                imageToDraw = (i % 2) == 0 ? newImage : img;</span>
<span class="nc" id="L1121">                loadImage(imageToDraw);</span>
<span class="nc" id="L1122">                graphics.drawImage(imageToDraw, x, y,</span>
                                   bgcolor, imageObserver);
<span class="nc" id="L1124">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L1125">                sleep(info.flashTime);</span>
            }
        }
<span class="nc" id="L1128">        return graphics.drawImage(img, x, y, bgcolor, observer);</span>
    }

    /**
     * Overrides &lt;code&gt;Graphics.drawImage&lt;/code&gt;.
     */
    public boolean drawImage(Image img, int x, int y,int width, int height,
                             Color bgcolor,
                             ImageObserver observer) {
<span class="nc" id="L1137">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L1139" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L1140">            info.log(toShortString() +</span>
                     &quot; Drawing image: &quot; + img +
                     &quot; at: &quot; + new Rectangle(x, y, width, height) +
                     &quot;, bgcolor: &quot; + bgcolor);
        }

<span class="nc bnc" id="L1146" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L1147" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L1148">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L1150">                debugGraphics.drawImage(img, x, y, width, height,</span>
                                        bgcolor, observer);
<span class="nc" id="L1152">                debugGraphics.dispose();</span>
<span class="nc" id="L1153">            }</span>
<span class="nc bnc" id="L1154" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L1155">            int i, count = (info.flashCount * 2) - 1;</span>
<span class="nc" id="L1156">            ImageProducer oldProducer = img.getSource();</span>
<span class="nc" id="L1157">            ImageProducer newProducer</span>
                = new FilteredImageSource(oldProducer,
                                new DebugGraphicsFilter(info.flashColor));
            Image newImage
<span class="nc" id="L1161">                = Toolkit.getDefaultToolkit().createImage(newProducer);</span>
<span class="nc" id="L1162">            DebugGraphicsObserver imageObserver</span>
                = new DebugGraphicsObserver();

            Image imageToDraw;
<span class="nc bnc" id="L1166" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L1167" title="All 2 branches missed.">                imageToDraw = (i % 2) == 0 ? newImage : img;</span>
<span class="nc" id="L1168">                loadImage(imageToDraw);</span>
<span class="nc" id="L1169">                graphics.drawImage(imageToDraw, x, y,</span>
                                   width, height, bgcolor, imageObserver);
<span class="nc" id="L1171">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L1172">                sleep(info.flashTime);</span>
            }
        }
<span class="nc" id="L1175">        return graphics.drawImage(img, x, y, width, height, bgcolor, observer);</span>
    }

    /**
     * Overrides &lt;code&gt;Graphics.drawImage&lt;/code&gt;.
     */
    public boolean drawImage(Image img,
                             int dx1, int dy1, int dx2, int dy2,
                             int sx1, int sy1, int sx2, int sy2,
                             ImageObserver observer) {
<span class="nc" id="L1185">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L1187" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L1188">            info.log(toShortString() +</span>
                     &quot; Drawing image: &quot; + img +
                     &quot; destination: &quot; + new Rectangle(dx1, dy1, dx2, dy2) +
                     &quot; source: &quot; + new Rectangle(sx1, sy1, sx2, sy2));
        }

<span class="nc bnc" id="L1194" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L1195" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L1196">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L1198">                debugGraphics.drawImage(img, dx1, dy1, dx2, dy2,</span>
                                        sx1, sy1, sx2, sy2, observer);
<span class="nc" id="L1200">                debugGraphics.dispose();</span>
<span class="nc" id="L1201">            }</span>
<span class="nc bnc" id="L1202" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L1203">            int i, count = (info.flashCount * 2) - 1;</span>
<span class="nc" id="L1204">            ImageProducer oldProducer = img.getSource();</span>
<span class="nc" id="L1205">            ImageProducer newProducer</span>
                = new FilteredImageSource(oldProducer,
                                new DebugGraphicsFilter(info.flashColor));
            Image newImage
<span class="nc" id="L1209">                = Toolkit.getDefaultToolkit().createImage(newProducer);</span>
<span class="nc" id="L1210">            DebugGraphicsObserver imageObserver</span>
                = new DebugGraphicsObserver();

            Image imageToDraw;
<span class="nc bnc" id="L1214" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L1215" title="All 2 branches missed.">                imageToDraw = (i % 2) == 0 ? newImage : img;</span>
<span class="nc" id="L1216">                loadImage(imageToDraw);</span>
<span class="nc" id="L1217">                graphics.drawImage(imageToDraw,</span>
                                   dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2,
                                   imageObserver);
<span class="nc" id="L1220">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L1221">                sleep(info.flashTime);</span>
            }
        }
<span class="nc" id="L1224">        return graphics.drawImage(img, dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2,</span>
                                  observer);
    }

    /**
     * Overrides &lt;code&gt;Graphics.drawImage&lt;/code&gt;.
     */
    public boolean drawImage(Image img,
                             int dx1, int dy1, int dx2, int dy2,
                             int sx1, int sy1, int sx2, int sy2,
                             Color bgcolor,
                             ImageObserver observer) {
<span class="nc" id="L1236">        DebugGraphicsInfo info = info();</span>

<span class="nc bnc" id="L1238" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L1239">            info.log(toShortString() +</span>
                     &quot; Drawing image: &quot; + img +
                     &quot; destination: &quot; + new Rectangle(dx1, dy1, dx2, dy2) +
                     &quot; source: &quot; + new Rectangle(sx1, sy1, sx2, sy2) +
                     &quot;, bgcolor: &quot; + bgcolor);
        }

<span class="nc bnc" id="L1246" title="All 2 branches missed.">        if (isDrawingBuffer()) {</span>
<span class="nc bnc" id="L1247" title="All 2 branches missed.">            if (debugBuffered()) {</span>
<span class="nc" id="L1248">                Graphics debugGraphics = debugGraphics();</span>

<span class="nc" id="L1250">                debugGraphics.drawImage(img, dx1, dy1, dx2, dy2,</span>
                                        sx1, sy1, sx2, sy2, bgcolor, observer);
<span class="nc" id="L1252">                debugGraphics.dispose();</span>
<span class="nc" id="L1253">            }</span>
<span class="nc bnc" id="L1254" title="All 2 branches missed.">        } else if (debugFlash()) {</span>
<span class="nc" id="L1255">            int i, count = (info.flashCount * 2) - 1;</span>
<span class="nc" id="L1256">            ImageProducer oldProducer = img.getSource();</span>
<span class="nc" id="L1257">            ImageProducer newProducer</span>
                = new FilteredImageSource(oldProducer,
                                new DebugGraphicsFilter(info.flashColor));
            Image newImage
<span class="nc" id="L1261">                = Toolkit.getDefaultToolkit().createImage(newProducer);</span>
<span class="nc" id="L1262">            DebugGraphicsObserver imageObserver</span>
                = new DebugGraphicsObserver();

            Image imageToDraw;
<span class="nc bnc" id="L1266" title="All 2 branches missed.">            for (i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L1267" title="All 2 branches missed.">                imageToDraw = (i % 2) == 0 ? newImage : img;</span>
<span class="nc" id="L1268">                loadImage(imageToDraw);</span>
<span class="nc" id="L1269">                graphics.drawImage(imageToDraw,</span>
                                   dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2,
                                   bgcolor, imageObserver);
<span class="nc" id="L1272">                Toolkit.getDefaultToolkit().sync();</span>
<span class="nc" id="L1273">                sleep(info.flashTime);</span>
            }
        }
<span class="nc" id="L1276">        return graphics.drawImage(img, dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2,</span>
                                  bgcolor, observer);
    }

    static void loadImage(Image img) {
<span class="nc" id="L1281">        imageLoadingIcon.loadImage(img);</span>
<span class="nc" id="L1282">    }</span>


    /**
     * Overrides &lt;code&gt;Graphics.copyArea&lt;/code&gt;.
     */
    public void copyArea(int x, int y, int width, int height,
                         int destX, int destY) {
<span class="nc bnc" id="L1290" title="All 2 branches missed.">        if (debugLog()) {</span>
<span class="nc" id="L1291">            info().log(toShortString() +</span>
                      &quot; Copying area from: &quot; +
                      new Rectangle(x, y, width, height) +
                      &quot; to: &quot; + new Point(destX, destY));
        }
<span class="nc" id="L1296">        graphics.copyArea(x, y, width, height, destX, destY);</span>
<span class="nc" id="L1297">    }</span>

    final void sleep(int mSecs) {
        try {
<span class="nc" id="L1301">            Thread.sleep(mSecs);</span>
<span class="nc" id="L1302">        } catch (Exception e) {</span>
<span class="nc" id="L1303">        }</span>
<span class="nc" id="L1304">    }</span>

    /**
     * Overrides &lt;code&gt;Graphics.dispose&lt;/code&gt;.
     */
    public void dispose() {
<span class="nc" id="L1310">        graphics.dispose();</span>
<span class="nc" id="L1311">        graphics = null;</span>
<span class="nc" id="L1312">    }</span>

    // ALERT!
    /**
     * Returns the drawingBuffer value.
     *
     * @return true if this object is drawing from a Buffer
     */
    public boolean isDrawingBuffer() {
<span class="nc bnc" id="L1321" title="All 2 branches missed.">        return buffer != null;</span>
    }

    String toShortString() {
<span class="nc bnc" id="L1325" title="All 2 branches missed.">        return &quot;Graphics&quot; + (isDrawingBuffer() ? &quot;&lt;B&gt;&quot; : &quot;&quot;) + &quot;(&quot; + graphicsID + &quot;-&quot; + debugOptions + &quot;)&quot;;</span>
    }

    String pointToString(int x, int y) {
<span class="nc" id="L1329">        return &quot;(&quot; + x + &quot;, &quot; + y + &quot;)&quot;;</span>
    }

    /** Enables/disables diagnostic information about every graphics
      * operation. The value of &lt;b&gt;options&lt;/b&gt; indicates how this information
      * should be displayed. LOG_OPTION causes a text message to be printed.
      * FLASH_OPTION causes the drawing to flash several times. BUFFERED_OPTION
      * creates a new Frame that shows each operation on an
      * offscreen buffer. The value of &lt;b&gt;options&lt;/b&gt; is bitwise OR'd into
      * the current value. To disable debugging use NONE_OPTION.
      */
    public void setDebugOptions(int options) {
<span class="nc bnc" id="L1341" title="All 2 branches missed.">        if (options != 0) {</span>
<span class="nc bnc" id="L1342" title="All 2 branches missed.">            if (options == NONE_OPTION) {</span>
<span class="nc bnc" id="L1343" title="All 2 branches missed.">                if (debugOptions != 0) {</span>
<span class="nc" id="L1344">                    System.err.println(toShortString() + &quot; Disabling debug&quot;);</span>
<span class="nc" id="L1345">                    debugOptions = 0;</span>
                }
            } else {
<span class="nc bnc" id="L1348" title="All 2 branches missed.">                if (debugOptions != options) {</span>
<span class="nc" id="L1349">                    debugOptions |= options;</span>
<span class="nc bnc" id="L1350" title="All 2 branches missed.">                    if (debugLog()) {</span>
<span class="nc" id="L1351">                        System.err.println(toShortString() + &quot; Enabling debug&quot;);</span>
                    }
                }
            }
        }
<span class="nc" id="L1356">    }</span>

    /** Returns the current debugging options for this DebugGraphics.
      * @see #setDebugOptions
      */
    public int getDebugOptions() {
<span class="nc" id="L1362">        return debugOptions;</span>
    }

    /** Static wrapper method for DebugGraphicsInfo.setDebugOptions(). Stores
      * options on a per component basis.
      */
    static void setDebugOptions(JComponent component, int options) {
<span class="nc" id="L1369">        info().setDebugOptions(component, options);</span>
<span class="nc" id="L1370">    }</span>

    /** Static wrapper method for DebugGraphicsInfo.getDebugOptions().
      */
    static int getDebugOptions(JComponent component) {
<span class="nc" id="L1375">        DebugGraphicsInfo debugGraphicsInfo = info();</span>
<span class="nc bnc" id="L1376" title="All 2 branches missed.">        if (debugGraphicsInfo == null) {</span>
<span class="nc" id="L1377">            return 0;</span>
        } else {
<span class="nc" id="L1379">            return debugGraphicsInfo.getDebugOptions(component);</span>
        }
    }

    /** Returns non-zero if &lt;b&gt;component&lt;/b&gt; should display with DebugGraphics,
      * zero otherwise. Walks the JComponent's parent tree to determine if
      * any debugging options have been set.
      */
    static int shouldComponentDebug(JComponent component) {
<span class="nc" id="L1388">        DebugGraphicsInfo info = info();</span>
<span class="nc bnc" id="L1389" title="All 2 branches missed.">        if (info == null) {</span>
<span class="nc" id="L1390">            return 0;</span>
        } else {
<span class="nc" id="L1392">            Container container = (Container)component;</span>
<span class="nc" id="L1393">            int debugOptions = 0;</span>

<span class="nc bnc" id="L1395" title="All 4 branches missed.">            while (container != null &amp;&amp; (container instanceof JComponent)) {</span>
<span class="nc" id="L1396">                debugOptions |= info.getDebugOptions((JComponent)container);</span>
<span class="nc" id="L1397">                container = container.getParent();</span>
            }

<span class="nc" id="L1400">            return debugOptions;</span>
        }
    }

    /** Returns the number of JComponents that have debugging options turned
      * on.
      */
    static int debugComponentCount() {
<span class="nc" id="L1408">        DebugGraphicsInfo debugGraphicsInfo = info();</span>
<span class="nc bnc" id="L1409" title="All 4 branches missed.">        if (debugGraphicsInfo != null &amp;&amp;</span>
                    debugGraphicsInfo.componentToDebug != null) {
<span class="nc" id="L1411">            return debugGraphicsInfo.componentToDebug.size();</span>
        } else {
<span class="nc" id="L1413">            return 0;</span>
        }
    }

    boolean debugLog() {
<span class="nc bnc" id="L1418" title="All 2 branches missed.">        return (debugOptions &amp; LOG_OPTION) == LOG_OPTION;</span>
    }

    boolean debugFlash() {
<span class="nc bnc" id="L1422" title="All 2 branches missed.">        return (debugOptions &amp; FLASH_OPTION) == FLASH_OPTION;</span>
    }

    boolean debugBuffered() {
<span class="nc bnc" id="L1426" title="All 2 branches missed.">        return (debugOptions &amp; BUFFERED_OPTION) == BUFFERED_OPTION;</span>
    }

    /** Returns a DebugGraphics for use in buffering window.
      */
    private Graphics debugGraphics() {
        DebugGraphics        debugGraphics;
<span class="nc" id="L1433">        DebugGraphicsInfo    info = info();</span>
        JFrame               debugFrame;

<span class="nc bnc" id="L1436" title="All 2 branches missed.">        if (info.debugFrame == null) {</span>
<span class="nc" id="L1437">            info.debugFrame = new JFrame();</span>
<span class="nc" id="L1438">            info.debugFrame.setSize(500, 500);</span>
        }
<span class="nc" id="L1440">        debugFrame = info.debugFrame;</span>
<span class="nc" id="L1441">        debugFrame.show();</span>
<span class="nc" id="L1442">        debugGraphics = new DebugGraphics(debugFrame.getGraphics());</span>
<span class="nc" id="L1443">        debugGraphics.setFont(getFont());</span>
<span class="nc" id="L1444">        debugGraphics.setColor(getColor());</span>
<span class="nc" id="L1445">        debugGraphics.translate(xOffset, yOffset);</span>
<span class="nc" id="L1446">        debugGraphics.setClip(getClipBounds());</span>
<span class="nc bnc" id="L1447" title="All 2 branches missed.">        if (debugFlash()) {</span>
<span class="nc" id="L1448">            debugGraphics.setDebugOptions(FLASH_OPTION);</span>
        }
<span class="nc" id="L1450">        return debugGraphics;</span>
    }

    /** Returns DebugGraphicsInfo, or creates one if none exists.
      */
    static DebugGraphicsInfo info() {
<span class="nc" id="L1456">        DebugGraphicsInfo debugGraphicsInfo = (DebugGraphicsInfo)</span>
<span class="nc" id="L1457">            SwingUtilities.appContextGet(debugGraphicsInfoKey);</span>
<span class="nc bnc" id="L1458" title="All 2 branches missed.">        if (debugGraphicsInfo == null) {</span>
<span class="nc" id="L1459">            debugGraphicsInfo = new DebugGraphicsInfo();</span>
<span class="nc" id="L1460">            SwingUtilities.appContextPut(debugGraphicsInfoKey,</span>
                                         debugGraphicsInfo);
        }
<span class="nc" id="L1463">        return debugGraphicsInfo;</span>
    }
<span class="nc" id="L1465">    private static final Class debugGraphicsInfoKey = DebugGraphicsInfo.class;</span>


}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../resources/report.css" type="text/css"/><link rel="shortcut icon" href="../resources/report.gif" type="image/gif"/><title>TablePrintable.java</title><link rel="stylesheet" href="../resources/prettify.css" type="text/css"/><script type="text/javascript" src="../resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Foo</a> &gt; <a href="index.html" class="el_package">javax.swing</a> &gt; <span class="el_source">TablePrintable.java</span></div><h1>TablePrintable.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2003, 2008, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.swing;

import javax.swing.table.*;
import java.awt.*;
import java.awt.print.*;
import java.awt.geom.*;
import java.text.MessageFormat;

/**
 * An implementation of &lt;code&gt;Printable&lt;/code&gt; for printing
 * &lt;code&gt;JTable&lt;/code&gt;s.
 * &lt;p&gt;
 * This implementation spreads table rows naturally in sequence
 * across multiple pages, fitting as many rows as possible per page.
 * The distribution of columns, on the other hand, is controlled by a
 * printing mode parameter passed to the constructor. When
 * &lt;code&gt;JTable.PrintMode.NORMAL&lt;/code&gt; is used, the implementation
 * handles columns in a similar manner to how it handles rows, spreading them
 * across multiple pages (in an order consistent with the table's
 * &lt;code&gt;ComponentOrientation&lt;/code&gt;).
 * When &lt;code&gt;JTable.PrintMode.FIT_WIDTH&lt;/code&gt; is given, the implementation
 * scales the output smaller if necessary, to ensure that all columns fit on
 * the page. (Note that width and height are scaled equally, ensuring that the
 * aspect ratio remains the same).
 * &lt;p&gt;
 * The portion of table printed on each page is headed by the
 * appropriate section of the table's &lt;code&gt;JTableHeader&lt;/code&gt;.
 * &lt;p&gt;
 * Header and footer text can be added to the output by providing
 * &lt;code&gt;MessageFormat&lt;/code&gt; instances to the constructor. The
 * printing code requests Strings from the formats by calling
 * their &lt;code&gt;format&lt;/code&gt; method with a single parameter:
 * an &lt;code&gt;Object&lt;/code&gt; array containing a single element of type
 * &lt;code&gt;Integer&lt;/code&gt;, representing the current page number.
 * &lt;p&gt;
 * There are certain circumstances where this &lt;code&gt;Printable&lt;/code&gt;
 * cannot fit items appropriately, resulting in clipped output.
 * These are:
 * &lt;ul&gt;
 *   &lt;li&gt;In any mode, when the header or footer text is too wide to
 *       fit completely in the printable area. The implementation
 *       prints as much of the text as possible starting from the beginning,
 *       as determined by the table's &lt;code&gt;ComponentOrientation&lt;/code&gt;.
 *   &lt;li&gt;In any mode, when a row is too tall to fit in the
 *       printable area. The upper most portion of the row
 *       is printed and no lower border is shown.
 *   &lt;li&gt;In &lt;code&gt;JTable.PrintMode.NORMAL&lt;/code&gt; when a column
 *       is too wide to fit in the printable area. The center of the
 *       column is printed and no left and right borders are shown.
 * &lt;/ul&gt;
 * &lt;p&gt;
 * It is entirely valid for a developer to wrap this &lt;code&gt;Printable&lt;/code&gt;
 * inside another in order to create complex reports and documents. They may
 * even request that different pages be rendered into different sized
 * printable areas. The implementation was designed to handle this by
 * performing most of its calculations on the fly. However, providing different
 * sizes works best when &lt;code&gt;JTable.PrintMode.FIT_WIDTH&lt;/code&gt; is used, or
 * when only the printable width is changed between pages. This is because when
 * it is printing a set of rows in &lt;code&gt;JTable.PrintMode.NORMAL&lt;/code&gt; and the
 * implementation determines a need to distribute columns across pages,
 * it assumes that all of those rows will fit on each subsequent page needed
 * to fit the columns.
 * &lt;p&gt;
 * It is the responsibility of the developer to ensure that the table is not
 * modified in any way after this &lt;code&gt;Printable&lt;/code&gt; is created (invalid
 * modifications include changes in: size, renderers, or underlying data).
 * The behavior of this &lt;code&gt;Printable&lt;/code&gt; is undefined if the table is
 * changed at any time after creation.
 *
 * @author  Shannon Hickey
 */
<span class="nc bnc" id="L97" title="All 2 branches missed.">class TablePrintable implements Printable {</span>

    /** The table to print. */
    private JTable table;

    /** For quick reference to the table's header. */
    private JTableHeader header;

    /** For quick reference to the table's column model. */
    private TableColumnModel colModel;

    /** To save multiple calculations of total column width. */
    private int totalColWidth;

    /** The printing mode of this printable. */
    private JTable.PrintMode printMode;

    /** Provides the header text for the table. */
    private MessageFormat headerFormat;

    /** Provides the footer text for the table. */
    private MessageFormat footerFormat;

    /** The most recent page index asked to print. */
<span class="nc" id="L121">    private int last = -1;</span>

    /** The next row to print. */
<span class="nc" id="L124">    private int row = 0;</span>

    /** The next column to print. */
<span class="nc" id="L127">    private int col = 0;</span>

    /** Used to store an area of the table to be printed. */
<span class="nc" id="L130">    private final Rectangle clip = new Rectangle(0, 0, 0, 0);</span>

    /** Used to store an area of the table's header to be printed. */
<span class="nc" id="L133">    private final Rectangle hclip = new Rectangle(0, 0, 0, 0);</span>

    /** Saves the creation of multiple rectangles. */
<span class="nc" id="L136">    private final Rectangle tempRect = new Rectangle(0, 0, 0, 0);</span>

    /** Vertical space to leave between table and header/footer text. */
    private static final int H_F_SPACE = 8;

    /** Font size for the header text. */
    private static final float HEADER_FONT_SIZE = 18.0f;

    /** Font size for the footer text. */
    private static final float FOOTER_FONT_SIZE = 12.0f;

    /** The font to use in rendering header text. */
    private Font headerFont;

    /** The font to use in rendering footer text. */
    private Font footerFont;

    /**
     * Create a new &lt;code&gt;TablePrintable&lt;/code&gt; for the given
     * &lt;code&gt;JTable&lt;/code&gt;. Header and footer text can be specified using the
     * two &lt;code&gt;MessageFormat&lt;/code&gt; parameters. When called upon to provide
     * a String, each format is given the current page number.
     *
     * @param  table         the table to print
     * @param  printMode     the printing mode for this printable
     * @param  headerFormat  a &lt;code&gt;MessageFormat&lt;/code&gt; specifying the text to
     *                       be used in printing a header, or null for none
     * @param  footerFormat  a &lt;code&gt;MessageFormat&lt;/code&gt; specifying the text to
     *                       be used in printing a footer, or null for none
     * @throws IllegalArgumentException if passed an invalid print mode
     */
    public TablePrintable(JTable table,
                          JTable.PrintMode printMode,
                          MessageFormat headerFormat,
<span class="nc" id="L170">                          MessageFormat footerFormat) {</span>

<span class="nc" id="L172">        this.table = table;</span>

<span class="nc" id="L174">        header = table.getTableHeader();</span>
<span class="nc" id="L175">        colModel = table.getColumnModel();</span>
<span class="nc" id="L176">        totalColWidth = colModel.getTotalColumnWidth();</span>

<span class="nc bnc" id="L178" title="All 2 branches missed.">        if (header != null) {</span>
            // the header clip height can be set once since it's unchanging
<span class="nc" id="L180">            hclip.height = header.getHeight();</span>
        }

<span class="nc" id="L183">        this.printMode = printMode;</span>

<span class="nc" id="L185">        this.headerFormat = headerFormat;</span>
<span class="nc" id="L186">        this.footerFormat = footerFormat;</span>

        // derive the header and footer font from the table's font
<span class="nc" id="L189">        headerFont = table.getFont().deriveFont(Font.BOLD,</span>
                                                HEADER_FONT_SIZE);
<span class="nc" id="L191">        footerFont = table.getFont().deriveFont(Font.PLAIN,</span>
                                                FOOTER_FONT_SIZE);
<span class="nc" id="L193">    }</span>

    /**
     * Prints the specified page of the table into the given {@link Graphics}
     * context, in the specified format.
     *
     * @param   graphics    the context into which the page is drawn
     * @param   pageFormat  the size and orientation of the page being drawn
     * @param   pageIndex   the zero based index of the page to be drawn
     * @return  PAGE_EXISTS if the page is rendered successfully, or
     *          NO_SUCH_PAGE if a non-existent page index is specified
     * @throws  PrinterException if an error causes printing to be aborted
     */
    public int print(Graphics graphics, PageFormat pageFormat, int pageIndex)
                                                       throws PrinterException {

        // for easy access to these values
<span class="nc" id="L210">        final int imgWidth = (int)pageFormat.getImageableWidth();</span>
<span class="nc" id="L211">        final int imgHeight = (int)pageFormat.getImageableHeight();</span>

<span class="nc bnc" id="L213" title="All 2 branches missed.">        if (imgWidth &lt;= 0) {</span>
<span class="nc" id="L214">            throw new PrinterException(&quot;Width of printable area is too small.&quot;);</span>
        }

        // to pass the page number when formatting the header and footer text
<span class="nc" id="L218">        Object[] pageNumber = new Object[]{Integer.valueOf(pageIndex + 1)};</span>

        // fetch the formatted header text, if any
<span class="nc" id="L221">        String headerText = null;</span>
<span class="nc bnc" id="L222" title="All 2 branches missed.">        if (headerFormat != null) {</span>
<span class="nc" id="L223">            headerText = headerFormat.format(pageNumber);</span>
        }

        // fetch the formatted footer text, if any
<span class="nc" id="L227">        String footerText = null;</span>
<span class="nc bnc" id="L228" title="All 2 branches missed.">        if (footerFormat != null) {</span>
<span class="nc" id="L229">            footerText = footerFormat.format(pageNumber);</span>
        }

        // to store the bounds of the header and footer text
<span class="nc" id="L233">        Rectangle2D hRect = null;</span>
<span class="nc" id="L234">        Rectangle2D fRect = null;</span>

        // the amount of vertical space needed for the header and footer text
<span class="nc" id="L237">        int headerTextSpace = 0;</span>
<span class="nc" id="L238">        int footerTextSpace = 0;</span>

        // the amount of vertical space available for printing the table
<span class="nc" id="L241">        int availableSpace = imgHeight;</span>

        // if there's header text, find out how much space is needed for it
        // and subtract that from the available space
<span class="nc bnc" id="L245" title="All 2 branches missed.">        if (headerText != null) {</span>
<span class="nc" id="L246">            graphics.setFont(headerFont);</span>
<span class="nc" id="L247">            hRect = graphics.getFontMetrics().getStringBounds(headerText,</span>
                                                              graphics);

<span class="nc" id="L250">            headerTextSpace = (int)Math.ceil(hRect.getHeight());</span>
<span class="nc" id="L251">            availableSpace -= headerTextSpace + H_F_SPACE;</span>
        }

        // if there's footer text, find out how much space is needed for it
        // and subtract that from the available space
<span class="nc bnc" id="L256" title="All 2 branches missed.">        if (footerText != null) {</span>
<span class="nc" id="L257">            graphics.setFont(footerFont);</span>
<span class="nc" id="L258">            fRect = graphics.getFontMetrics().getStringBounds(footerText,</span>
                                                              graphics);

<span class="nc" id="L261">            footerTextSpace = (int)Math.ceil(fRect.getHeight());</span>
<span class="nc" id="L262">            availableSpace -= footerTextSpace + H_F_SPACE;</span>
        }

<span class="nc bnc" id="L265" title="All 2 branches missed.">        if (availableSpace &lt;= 0) {</span>
<span class="nc" id="L266">            throw new PrinterException(&quot;Height of printable area is too small.&quot;);</span>
        }

        // depending on the print mode, we may need a scale factor to
        // fit the table's entire width on the page
<span class="nc" id="L271">        double sf = 1.0D;</span>
<span class="nc bnc" id="L272" title="All 4 branches missed.">        if (printMode == JTable.PrintMode.FIT_WIDTH &amp;&amp;</span>
                totalColWidth &gt; imgWidth) {

            // if not, we would have thrown an acception previously
<span class="nc bnc" id="L276" title="All 4 branches missed.">            assert imgWidth &gt; 0;</span>

            // it must be, according to the if-condition, since imgWidth &gt; 0
<span class="nc bnc" id="L279" title="All 4 branches missed.">            assert totalColWidth &gt; 1;</span>

<span class="nc" id="L281">            sf = (double)imgWidth / (double)totalColWidth;</span>
        }

        // dictated by the previous two assertions
<span class="nc bnc" id="L285" title="All 4 branches missed.">        assert sf &gt; 0;</span>

        // This is in a loop for two reasons:
        // First, it allows us to catch up in case we're called starting
        // with a non-zero pageIndex. Second, we know that we can be called
        // for the same page multiple times. The condition of this while
        // loop acts as a check, ensuring that we don't attempt to do the
        // calculations again when we are called subsequent times for the
        // same page.
<span class="nc bnc" id="L294" title="All 2 branches missed.">        while (last &lt; pageIndex) {</span>
            // if we are finished all columns in all rows
<span class="nc bnc" id="L296" title="All 4 branches missed.">            if (row &gt;= table.getRowCount() &amp;&amp; col == 0) {</span>
<span class="nc" id="L297">                return NO_SUCH_PAGE;</span>
            }

            // rather than multiplying every row and column by the scale factor
            // in findNextClip, just pass a width and height that have already
            // been divided by it
<span class="nc" id="L303">            int scaledWidth = (int)(imgWidth / sf);</span>
<span class="nc" id="L304">            int scaledHeight = (int)((availableSpace - hclip.height) / sf);</span>

            // calculate the area of the table to be printed for this page
<span class="nc" id="L307">            findNextClip(scaledWidth, scaledHeight);</span>

<span class="nc" id="L309">            last++;</span>
<span class="nc" id="L310">        }</span>

        // create a copy of the graphics so we don't affect the one given to us
<span class="nc" id="L313">        Graphics2D g2d = (Graphics2D)graphics.create();</span>

        // translate into the co-ordinate system of the pageFormat
<span class="nc" id="L316">        g2d.translate(pageFormat.getImageableX(), pageFormat.getImageableY());</span>

        // to save and store the transform
        AffineTransform oldTrans;

        // if there's footer text, print it at the bottom of the imageable area
<span class="nc bnc" id="L322" title="All 2 branches missed.">        if (footerText != null) {</span>
<span class="nc" id="L323">            oldTrans = g2d.getTransform();</span>

<span class="nc" id="L325">            g2d.translate(0, imgHeight - footerTextSpace);</span>

<span class="nc" id="L327">            printText(g2d, footerText, fRect, footerFont, imgWidth);</span>

<span class="nc" id="L329">            g2d.setTransform(oldTrans);</span>
        }

        // if there's header text, print it at the top of the imageable area
        // and then translate downwards
<span class="nc bnc" id="L334" title="All 2 branches missed.">        if (headerText != null) {</span>
<span class="nc" id="L335">            printText(g2d, headerText, hRect, headerFont, imgWidth);</span>

<span class="nc" id="L337">            g2d.translate(0, headerTextSpace + H_F_SPACE);</span>
        }

        // constrain the table output to the available space
<span class="nc" id="L341">        tempRect.x = 0;</span>
<span class="nc" id="L342">        tempRect.y = 0;</span>
<span class="nc" id="L343">        tempRect.width = imgWidth;</span>
<span class="nc" id="L344">        tempRect.height = availableSpace;</span>
<span class="nc" id="L345">        g2d.clip(tempRect);</span>

        // if we have a scale factor, scale the graphics object to fit
        // the entire width
<span class="nc bnc" id="L349" title="All 2 branches missed.">        if (sf != 1.0D) {</span>
<span class="nc" id="L350">            g2d.scale(sf, sf);</span>

        // otherwise, ensure that the current portion of the table is
        // centered horizontally
        } else {
<span class="nc" id="L355">            int diff = (imgWidth - clip.width) / 2;</span>
<span class="nc" id="L356">            g2d.translate(diff, 0);</span>
        }

        // store the old transform and clip for later restoration
<span class="nc" id="L360">        oldTrans = g2d.getTransform();</span>
<span class="nc" id="L361">        Shape oldClip = g2d.getClip();</span>

        // if there's a table header, print the current section and
        // then translate downwards
<span class="nc bnc" id="L365" title="All 2 branches missed.">        if (header != null) {</span>
<span class="nc" id="L366">            hclip.x = clip.x;</span>
<span class="nc" id="L367">            hclip.width = clip.width;</span>

<span class="nc" id="L369">            g2d.translate(-hclip.x, 0);</span>
<span class="nc" id="L370">            g2d.clip(hclip);</span>
<span class="nc" id="L371">            header.print(g2d);</span>

            // restore the original transform and clip
<span class="nc" id="L374">            g2d.setTransform(oldTrans);</span>
<span class="nc" id="L375">            g2d.setClip(oldClip);</span>

            // translate downwards
<span class="nc" id="L378">            g2d.translate(0, hclip.height);</span>
        }

        // print the current section of the table
<span class="nc" id="L382">        g2d.translate(-clip.x, -clip.y);</span>
<span class="nc" id="L383">        g2d.clip(clip);</span>
<span class="nc" id="L384">        table.print(g2d);</span>

        // restore the original transform and clip
<span class="nc" id="L387">        g2d.setTransform(oldTrans);</span>
<span class="nc" id="L388">        g2d.setClip(oldClip);</span>

        // draw a box around the table
<span class="nc" id="L391">        g2d.setColor(Color.BLACK);</span>
<span class="nc" id="L392">        g2d.drawRect(0, 0, clip.width, hclip.height + clip.height);</span>

        // dispose the graphics copy
<span class="nc" id="L395">        g2d.dispose();</span>

<span class="nc" id="L397">        return PAGE_EXISTS;</span>
    }

    /**
     * A helper method that encapsulates common code for rendering the
     * header and footer text.
     *
     * @param  g2d       the graphics to draw into
     * @param  text      the text to draw, non null
     * @param  rect      the bounding rectangle for this text,
     *                   as calculated at the given font, non null
     * @param  font      the font to draw the text in, non null
     * @param  imgWidth  the width of the area to draw into
     */
    private void printText(Graphics2D g2d,
                           String text,
                           Rectangle2D rect,
                           Font font,
                           int imgWidth) {

            int tx;

            // if the text is small enough to fit, center it
<span class="nc bnc" id="L420" title="All 2 branches missed.">            if (rect.getWidth() &lt; imgWidth) {</span>
<span class="nc" id="L421">                tx = (int)((imgWidth - rect.getWidth()) / 2);</span>

            // otherwise, if the table is LTR, ensure the left side of
            // the text shows; the right can be clipped
<span class="nc bnc" id="L425" title="All 2 branches missed.">            } else if (table.getComponentOrientation().isLeftToRight()) {</span>
<span class="nc" id="L426">                tx = 0;</span>

            // otherwise, ensure the right side of the text shows
            } else {
<span class="nc" id="L430">                tx = -(int)(Math.ceil(rect.getWidth()) - imgWidth);</span>
            }

<span class="nc" id="L433">            int ty = (int)Math.ceil(Math.abs(rect.getY()));</span>
<span class="nc" id="L434">            g2d.setColor(Color.BLACK);</span>
<span class="nc" id="L435">            g2d.setFont(font);</span>
<span class="nc" id="L436">            g2d.drawString(text, tx, ty);</span>
<span class="nc" id="L437">    }</span>

    /**
     * Calculate the area of the table to be printed for
     * the next page. This should only be called if there
     * are rows and columns left to print.
     *
     * To avoid an infinite loop in printing, this will
     * always put at least one cell on each page.
     *
     * @param  pw  the width of the area to print in
     * @param  ph  the height of the area to print in
     */
    private void findNextClip(int pw, int ph) {
<span class="nc" id="L451">        final boolean ltr = table.getComponentOrientation().isLeftToRight();</span>

        // if we're ready to start a new set of rows
<span class="nc bnc" id="L454" title="All 2 branches missed.">        if (col == 0) {</span>
<span class="nc bnc" id="L455" title="All 2 branches missed.">            if (ltr) {</span>
                // adjust clip to the left of the first column
<span class="nc" id="L457">                clip.x = 0;</span>
            } else {
                // adjust clip to the right of the first column
<span class="nc" id="L460">                clip.x = totalColWidth;</span>
            }

            // adjust clip to the top of the next set of rows
<span class="nc" id="L464">            clip.y += clip.height;</span>

            // adjust clip width and height to be zero
<span class="nc" id="L467">            clip.width = 0;</span>
<span class="nc" id="L468">            clip.height = 0;</span>

            // fit as many rows as possible, and at least one
<span class="nc" id="L471">            int rowCount = table.getRowCount();</span>
<span class="nc" id="L472">            int rowHeight = table.getRowHeight(row);</span>
            do {
<span class="nc" id="L474">                clip.height += rowHeight;</span>

<span class="nc bnc" id="L476" title="All 2 branches missed.">                if (++row &gt;= rowCount) {</span>
<span class="nc" id="L477">                    break;</span>
                }

<span class="nc" id="L480">                rowHeight = table.getRowHeight(row);</span>
<span class="nc bnc" id="L481" title="All 2 branches missed.">            } while (clip.height + rowHeight &lt;= ph);</span>
        }

        // we can short-circuit for JTable.PrintMode.FIT_WIDTH since
        // we'll always fit all columns on the page
<span class="nc bnc" id="L486" title="All 2 branches missed.">        if (printMode == JTable.PrintMode.FIT_WIDTH) {</span>
<span class="nc" id="L487">            clip.x = 0;</span>
<span class="nc" id="L488">            clip.width = totalColWidth;</span>
<span class="nc" id="L489">            return;</span>
        }

<span class="nc bnc" id="L492" title="All 2 branches missed.">        if (ltr) {</span>
            // adjust clip to the left of the next set of columns
<span class="nc" id="L494">            clip.x += clip.width;</span>
        }

        // adjust clip width to be zero
<span class="nc" id="L498">        clip.width = 0;</span>

        // fit as many columns as possible, and at least one
<span class="nc" id="L501">        int colCount = table.getColumnCount();</span>
<span class="nc" id="L502">        int colWidth = colModel.getColumn(col).getWidth();</span>
        do {
<span class="nc" id="L504">            clip.width += colWidth;</span>
<span class="nc bnc" id="L505" title="All 2 branches missed.">            if (!ltr) {</span>
<span class="nc" id="L506">                clip.x -= colWidth;</span>
            }

<span class="nc bnc" id="L509" title="All 2 branches missed.">            if (++col &gt;= colCount) {</span>
                // reset col to 0 to indicate we're finished all columns
<span class="nc" id="L511">                col = 0;</span>

<span class="nc" id="L513">                break;</span>
            }

<span class="nc" id="L516">            colWidth = colModel.getColumn(col).getWidth();</span>
<span class="nc bnc" id="L517" title="All 2 branches missed.">        } while (clip.width + colWidth &lt;= pw);</span>

<span class="nc" id="L519">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
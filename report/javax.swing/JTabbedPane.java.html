<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>JTabbedPane.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">javax.swing</a> &gt; <span class="el_source">JTabbedPane.java</span></div><h1>JTabbedPane.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1997, 2010, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.swing;

import java.awt.*;
import java.awt.event.*;
import java.beans.Transient;
import java.util.*;
import javax.swing.event.*;
import javax.swing.plaf.*;
import javax.accessibility.*;
import sun.swing.SwingUtilities2;

import java.io.Serializable;
import java.io.ObjectOutputStream;
import java.io.ObjectInputStream;
import java.io.IOException;

/**
 * A component that lets the user switch between a group of components by
 * clicking on a tab with a given title and/or icon.
 * For examples and information on using tabbed panes see
 * &lt;a href=&quot;http://docs.oracle.com/javase/tutorial/uiswing/components/tabbedpane.html&quot;&gt;How to Use Tabbed Panes&lt;/a&gt;,
 * a section in &lt;em&gt;The Java Tutorial&lt;/em&gt;.
 * &lt;p&gt;
 * Tabs/components are added to a &lt;code&gt;TabbedPane&lt;/code&gt; object by using the
 * &lt;code&gt;addTab&lt;/code&gt; and &lt;code&gt;insertTab&lt;/code&gt; methods.
 * A tab is represented by an index corresponding
 * to the position it was added in, where the first tab has an index equal to 0
 * and the last tab has an index equal to the tab count minus 1.
 * &lt;p&gt;
 * The &lt;code&gt;TabbedPane&lt;/code&gt; uses a &lt;code&gt;SingleSelectionModel&lt;/code&gt;
 * to represent the set
 * of tab indices and the currently selected index.  If the tab count
 * is greater than 0, then there will always be a selected index, which
 * by default will be initialized to the first tab.  If the tab count is
 * 0, then the selected index will be -1.
 * &lt;p&gt;
 * The tab title can be rendered by a &lt;code&gt;Component&lt;/code&gt;.
 * For example, the following produce similar results:
 * &lt;pre&gt;
 * // In this case the look and feel renders the title for the tab.
 * tabbedPane.addTab(&quot;Tab&quot;, myComponent);
 * // In this case the custom component is responsible for rendering the
 * // title of the tab.
 * tabbedPane.addTab(null, myComponent);
 * tabbedPane.setTabComponentAt(0, new JLabel(&quot;Tab&quot;));
 * &lt;/pre&gt;
 * The latter is typically used when you want a more complex user interaction
 * that requires custom components on the tab.  For example, you could
 * provide a custom component that animates or one that has widgets for
 * closing the tab.
 * &lt;p&gt;
 * If you specify a component for a tab, the &lt;code&gt;JTabbedPane&lt;/code&gt;
 * will not render any text or icon you have specified for the tab.
 * &lt;p&gt;
 * &lt;strong&gt;Note:&lt;/strong&gt;
 * Do not use &lt;code&gt;setVisible&lt;/code&gt; directly on a tab component to make it visible,
 * use &lt;code&gt;setSelectedComponent&lt;/code&gt; or &lt;code&gt;setSelectedIndex&lt;/code&gt; methods instead.
 * &lt;p&gt;
 * &lt;strong&gt;Warning:&lt;/strong&gt; Swing is not thread safe. For more
 * information see &lt;a
 * href=&quot;package-summary.html#threading&quot;&gt;Swing's Threading
 * Policy&lt;/a&gt;.
 * &lt;p&gt;
 * &lt;strong&gt;Warning:&lt;/strong&gt;
 * Serialized objects of this class will not be compatible with
 * future Swing releases. The current serialization support is
 * appropriate for short term storage or RMI between applications running
 * the same version of Swing.  As of 1.4, support for long term storage
 * of all JavaBeans&amp;trade;
 * has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
 * Please see {@link java.beans.XMLEncoder}.
 *
 * @beaninfo
 *      attribute: isContainer true
 *    description: A component which provides a tab folder metaphor for
 *                 displaying one component from a set of components.
 *
 * @author Dave Moore
 * @author Philip Milne
 * @author Amy Fowler
 *
 * @see SingleSelectionModel
 */
public class JTabbedPane extends JComponent
       implements Serializable, Accessible, SwingConstants {

   /**
    * The tab layout policy for wrapping tabs in multiple runs when all
    * tabs will not fit within a single run.
    */
    public static final int WRAP_TAB_LAYOUT = 0;

   /**
    * Tab layout policy for providing a subset of available tabs when all
    * the tabs will not fit within a single run.  If all the tabs do
    * not fit within a single run the look and feel will provide a way
    * to navigate to hidden tabs.
    */
    public static final int SCROLL_TAB_LAYOUT = 1;


    /**
     * @see #getUIClassID
     * @see #readObject
     */
    private static final String uiClassID = &quot;TabbedPaneUI&quot;;

    /**
     * Where the tabs are placed.
     * @see #setTabPlacement
     */
<span class="nc" id="L137">    protected int tabPlacement = TOP;</span>

    private int tabLayoutPolicy;

    /** The default selection model */
    protected SingleSelectionModel model;

    private boolean haveRegistered;

    /**
     * The &lt;code&gt;changeListener&lt;/code&gt; is the listener we add to the
     * model.
     */
<span class="nc" id="L150">    protected ChangeListener changeListener = null;</span>

    private final java.util.List&lt;Page&gt; pages;

    /* The component that is currently visible */
<span class="nc" id="L155">    private Component visComp = null;</span>

    /**
     * Only one &lt;code&gt;ChangeEvent&lt;/code&gt; is needed per &lt;code&gt;TabPane&lt;/code&gt;
     * instance since the
     * event's only (read-only) state is the source property.  The source
     * of events generated here is always &quot;this&quot;.
     */
<span class="nc" id="L163">    protected transient ChangeEvent changeEvent = null;</span>

    /**
     * Creates an empty &lt;code&gt;TabbedPane&lt;/code&gt; with a default
     * tab placement of &lt;code&gt;JTabbedPane.TOP&lt;/code&gt;.
     * @see #addTab
     */
    public JTabbedPane() {
<span class="nc" id="L171">        this(TOP, WRAP_TAB_LAYOUT);</span>
<span class="nc" id="L172">    }</span>

    /**
     * Creates an empty &lt;code&gt;TabbedPane&lt;/code&gt; with the specified tab placement
     * of either: &lt;code&gt;JTabbedPane.TOP&lt;/code&gt;, &lt;code&gt;JTabbedPane.BOTTOM&lt;/code&gt;,
     * &lt;code&gt;JTabbedPane.LEFT&lt;/code&gt;, or &lt;code&gt;JTabbedPane.RIGHT&lt;/code&gt;.
     *
     * @param tabPlacement the placement for the tabs relative to the content
     * @see #addTab
     */
    public JTabbedPane(int tabPlacement) {
<span class="nc" id="L183">        this(tabPlacement, WRAP_TAB_LAYOUT);</span>
<span class="nc" id="L184">    }</span>

    /**
     * Creates an empty &lt;code&gt;TabbedPane&lt;/code&gt; with the specified tab placement
     * and tab layout policy.  Tab placement may be either:
     * &lt;code&gt;JTabbedPane.TOP&lt;/code&gt;, &lt;code&gt;JTabbedPane.BOTTOM&lt;/code&gt;,
     * &lt;code&gt;JTabbedPane.LEFT&lt;/code&gt;, or &lt;code&gt;JTabbedPane.RIGHT&lt;/code&gt;.
     * Tab layout policy may be either: &lt;code&gt;JTabbedPane.WRAP_TAB_LAYOUT&lt;/code&gt;
     * or &lt;code&gt;JTabbedPane.SCROLL_TAB_LAYOUT&lt;/code&gt;.
     *
     * @param tabPlacement the placement for the tabs relative to the content
     * @param tabLayoutPolicy the policy for laying out tabs when all tabs will not fit on one run
     * @exception IllegalArgumentException if tab placement or tab layout policy are not
     *            one of the above supported values
     * @see #addTab
     * @since 1.4
     */
<span class="nc" id="L201">    public JTabbedPane(int tabPlacement, int tabLayoutPolicy) {</span>
<span class="nc" id="L202">        setTabPlacement(tabPlacement);</span>
<span class="nc" id="L203">        setTabLayoutPolicy(tabLayoutPolicy);</span>
<span class="nc" id="L204">        pages = new ArrayList&lt;Page&gt;(1);</span>
<span class="nc" id="L205">        setModel(new DefaultSingleSelectionModel());</span>
<span class="nc" id="L206">        updateUI();</span>
<span class="nc" id="L207">    }</span>

    /**
     * Returns the UI object which implements the L&amp;amp;F for this component.
     *
     * @return a &lt;code&gt;TabbedPaneUI&lt;/code&gt; object
     * @see #setUI
     */
    public TabbedPaneUI getUI() {
<span class="nc" id="L216">        return (TabbedPaneUI)ui;</span>
    }

    /**
     * Sets the UI object which implements the L&amp;amp;F for this component.
     *
     * @param ui the new UI object
     * @see UIDefaults#getUI
     * @beaninfo
     *        bound: true
     *       hidden: true
     *    attribute: visualUpdate true
     *  description: The UI object that implements the tabbedpane's LookAndFeel
     */
    public void setUI(TabbedPaneUI ui) {
<span class="nc" id="L231">        super.setUI(ui);</span>
        // disabled icons are generated by LF so they should be unset here
<span class="nc bnc" id="L233" title="All 2 branches missed.">        for (int i = 0; i &lt; getTabCount(); i++) {</span>
<span class="nc" id="L234">            Icon icon = pages.get(i).disabledIcon;</span>
<span class="nc bnc" id="L235" title="All 2 branches missed.">            if (icon instanceof UIResource) {</span>
<span class="nc" id="L236">                setDisabledIconAt(i, null);</span>
            }
        }
<span class="nc" id="L239">    }</span>

    /**
     * Resets the UI property to a value from the current look and feel.
     *
     * @see JComponent#updateUI
     */
    public void updateUI() {
<span class="nc" id="L247">        setUI((TabbedPaneUI)UIManager.getUI(this));</span>
<span class="nc" id="L248">    }</span>


    /**
     * Returns the name of the UI class that implements the
     * L&amp;amp;F for this component.
     *
     * @return the string &quot;TabbedPaneUI&quot;
     * @see JComponent#getUIClassID
     * @see UIDefaults#getUI
     */
    public String getUIClassID() {
<span class="nc" id="L260">        return uiClassID;</span>
    }


    /**
     * We pass &lt;code&gt;ModelChanged&lt;/code&gt; events along to the listeners with
     * the tabbedpane (instead of the model itself) as the event source.
     */
<span class="nc" id="L268">    protected class ModelListener implements ChangeListener, Serializable {</span>
        public void stateChanged(ChangeEvent e) {
<span class="nc" id="L270">            fireStateChanged();</span>
<span class="nc" id="L271">        }</span>
    }

    /**
     * Subclasses that want to handle &lt;code&gt;ChangeEvents&lt;/code&gt; differently
     * can override this to return a subclass of &lt;code&gt;ModelListener&lt;/code&gt; or
     * another &lt;code&gt;ChangeListener&lt;/code&gt; implementation.
     *
     * @see #fireStateChanged
     */
    protected ChangeListener createChangeListener() {
<span class="nc" id="L282">        return new ModelListener();</span>
    }

    /**
     * Adds a &lt;code&gt;ChangeListener&lt;/code&gt; to this tabbedpane.
     *
     * @param l the &lt;code&gt;ChangeListener&lt;/code&gt; to add
     * @see #fireStateChanged
     * @see #removeChangeListener
     */
    public void addChangeListener(ChangeListener l) {
<span class="nc" id="L293">        listenerList.add(ChangeListener.class, l);</span>
<span class="nc" id="L294">    }</span>

    /**
     * Removes a &lt;code&gt;ChangeListener&lt;/code&gt; from this tabbedpane.
     *
     * @param l the &lt;code&gt;ChangeListener&lt;/code&gt; to remove
     * @see #fireStateChanged
     * @see #addChangeListener
     */
    public void removeChangeListener(ChangeListener l) {
<span class="nc" id="L304">        listenerList.remove(ChangeListener.class, l);</span>
<span class="nc" id="L305">    }</span>

   /**
     * Returns an array of all the &lt;code&gt;ChangeListener&lt;/code&gt;s added
     * to this &lt;code&gt;JTabbedPane&lt;/code&gt; with &lt;code&gt;addChangeListener&lt;/code&gt;.
     *
     * @return all of the &lt;code&gt;ChangeListener&lt;/code&gt;s added or an empty
     *         array if no listeners have been added
     * @since 1.4
     */
    public ChangeListener[] getChangeListeners() {
<span class="nc" id="L316">        return listenerList.getListeners(ChangeListener.class);</span>
    }

    /**
     * Sends a {@code ChangeEvent}, with this {@code JTabbedPane} as the source,
     * to each registered listener. This method is called each time there is
     * a change to either the selected index or the selected tab in the
     * {@code JTabbedPane}. Usually, the selected index and selected tab change
     * together. However, there are some cases, such as tab addition, where the
     * selected index changes and the same tab remains selected. There are other
     * cases, such as deleting the selected tab, where the index remains the
     * same, but a new tab moves to that index. Events are fired for all of
     * these cases.
     *
     * @see #addChangeListener
     * @see EventListenerList
     */
    protected void fireStateChanged() {
        /* --- Begin code to deal with visibility --- */

        /* This code deals with changing the visibility of components to
         * hide and show the contents for the selected tab. It duplicates
         * logic already present in BasicTabbedPaneUI, logic that is
         * processed during the layout pass. This code exists to allow
         * developers to do things that are quite difficult to accomplish
         * with the previous model of waiting for the layout pass to process
         * visibility changes; such as requesting focus on the new visible
         * component.
         *
         * For the average code, using the typical JTabbedPane methods,
         * all visibility changes will now be processed here. However,
         * the code in BasicTabbedPaneUI still exists, for the purposes
         * of backward compatibility. Therefore, when making changes to
         * this code, ensure that the BasicTabbedPaneUI code is kept in
         * synch.
         */

<span class="nc" id="L353">        int selIndex = getSelectedIndex();</span>

        /* if the selection is now nothing */
<span class="nc bnc" id="L356" title="All 2 branches missed.">        if (selIndex &lt; 0) {</span>
            /* if there was a previous visible component */
<span class="nc bnc" id="L358" title="All 4 branches missed.">            if (visComp != null &amp;&amp; visComp.isVisible()) {</span>
                /* make it invisible */
<span class="nc" id="L360">                visComp.setVisible(false);</span>
            }

            /* now there's no visible component */
<span class="nc" id="L364">            visComp = null;</span>

        /* else - the selection is now something */
        } else {
            /* Fetch the component for the new selection */
<span class="nc" id="L369">            Component newComp = getComponentAt(selIndex);</span>

            /* if the new component is non-null and different */
<span class="nc bnc" id="L372" title="All 4 branches missed.">            if (newComp != null &amp;&amp; newComp != visComp) {</span>
<span class="nc" id="L373">                boolean shouldChangeFocus = false;</span>

                /* Note: the following (clearing of the old visible component)
                 * is inside this if-statement for good reason: Tabbed pane
                 * should continue to show the previously visible component
                 * if there is no component for the chosen tab.
                 */

                /* if there was a previous visible component */
<span class="nc bnc" id="L382" title="All 2 branches missed.">                if (visComp != null) {</span>
<span class="nc" id="L383">                    shouldChangeFocus =</span>
<span class="nc bnc" id="L384" title="All 2 branches missed.">                        (SwingUtilities.findFocusOwner(visComp) != null);</span>

                    /* if it's still visible */
<span class="nc bnc" id="L387" title="All 2 branches missed.">                    if (visComp.isVisible()) {</span>
                        /* make it invisible */
<span class="nc" id="L389">                        visComp.setVisible(false);</span>
                    }
                }

<span class="nc bnc" id="L393" title="All 2 branches missed.">                if (!newComp.isVisible()) {</span>
<span class="nc" id="L394">                    newComp.setVisible(true);</span>
                }

<span class="nc bnc" id="L397" title="All 2 branches missed.">                if (shouldChangeFocus) {</span>
<span class="nc" id="L398">                    SwingUtilities2.tabbedPaneChangeFocusTo(newComp);</span>
                }

<span class="nc" id="L401">                visComp = newComp;</span>
            } /* else - the visible component shouldn't changed */
        }

        /* --- End code to deal with visibility --- */

        // Guaranteed to return a non-null array
<span class="nc" id="L408">        Object[] listeners = listenerList.getListenerList();</span>
        // Process the listeners last to first, notifying
        // those that are interested in this event
<span class="nc bnc" id="L411" title="All 2 branches missed.">        for (int i = listeners.length-2; i&gt;=0; i-=2) {</span>
<span class="nc bnc" id="L412" title="All 2 branches missed.">            if (listeners[i]==ChangeListener.class) {</span>
                // Lazily create the event:
<span class="nc bnc" id="L414" title="All 2 branches missed.">                if (changeEvent == null)</span>
<span class="nc" id="L415">                    changeEvent = new ChangeEvent(this);</span>
<span class="nc" id="L416">                ((ChangeListener)listeners[i+1]).stateChanged(changeEvent);</span>
            }
        }
<span class="nc" id="L419">    }</span>

    /**
     * Returns the model associated with this tabbedpane.
     *
     * @see #setModel
     */
    public SingleSelectionModel getModel() {
<span class="nc" id="L427">        return model;</span>
    }

    /**
     * Sets the model to be used with this tabbedpane.
     *
     * @param model the model to be used
     * @see #getModel
     * @beaninfo
     *       bound: true
     * description: The tabbedpane's SingleSelectionModel.
     */
    public void setModel(SingleSelectionModel model) {
<span class="nc" id="L440">        SingleSelectionModel oldModel = getModel();</span>

<span class="nc bnc" id="L442" title="All 2 branches missed.">        if (oldModel != null) {</span>
<span class="nc" id="L443">            oldModel.removeChangeListener(changeListener);</span>
<span class="nc" id="L444">            changeListener = null;</span>
        }

<span class="nc" id="L447">        this.model = model;</span>

<span class="nc bnc" id="L449" title="All 2 branches missed.">        if (model != null) {</span>
<span class="nc" id="L450">            changeListener = createChangeListener();</span>
<span class="nc" id="L451">            model.addChangeListener(changeListener);</span>
        }

<span class="nc" id="L454">        firePropertyChange(&quot;model&quot;, oldModel, model);</span>
<span class="nc" id="L455">        repaint();</span>
<span class="nc" id="L456">    }</span>

    /**
     * Returns the placement of the tabs for this tabbedpane.
     * @see #setTabPlacement
     */
    public int getTabPlacement() {
<span class="nc" id="L463">        return tabPlacement;</span>
    }

    /**
     * Sets the tab placement for this tabbedpane.
     * Possible values are:&lt;ul&gt;
     * &lt;li&gt;&lt;code&gt;JTabbedPane.TOP&lt;/code&gt;
     * &lt;li&gt;&lt;code&gt;JTabbedPane.BOTTOM&lt;/code&gt;
     * &lt;li&gt;&lt;code&gt;JTabbedPane.LEFT&lt;/code&gt;
     * &lt;li&gt;&lt;code&gt;JTabbedPane.RIGHT&lt;/code&gt;
     * &lt;/ul&gt;
     * The default value, if not set, is &lt;code&gt;SwingConstants.TOP&lt;/code&gt;.
     *
     * @param tabPlacement the placement for the tabs relative to the content
     * @exception IllegalArgumentException if tab placement value isn't one
     *                          of the above valid values
     *
     * @beaninfo
     *    preferred: true
     *        bound: true
     *    attribute: visualUpdate true
     *         enum: TOP JTabbedPane.TOP
     *               LEFT JTabbedPane.LEFT
     *               BOTTOM JTabbedPane.BOTTOM
     *               RIGHT JTabbedPane.RIGHT
     *  description: The tabbedpane's tab placement.
     *
     */
    public void setTabPlacement(int tabPlacement) {
<span class="nc bnc" id="L492" title="All 8 branches missed.">        if (tabPlacement != TOP &amp;&amp; tabPlacement != LEFT &amp;&amp;</span>
            tabPlacement != BOTTOM &amp;&amp; tabPlacement != RIGHT) {
<span class="nc" id="L494">            throw new IllegalArgumentException(&quot;illegal tab placement: must be TOP, BOTTOM, LEFT, or RIGHT&quot;);</span>
        }
<span class="nc bnc" id="L496" title="All 2 branches missed.">        if (this.tabPlacement != tabPlacement) {</span>
<span class="nc" id="L497">            int oldValue = this.tabPlacement;</span>
<span class="nc" id="L498">            this.tabPlacement = tabPlacement;</span>
<span class="nc" id="L499">            firePropertyChange(&quot;tabPlacement&quot;, oldValue, tabPlacement);</span>
<span class="nc" id="L500">            revalidate();</span>
<span class="nc" id="L501">            repaint();</span>
        }
<span class="nc" id="L503">    }</span>

    /**
     * Returns the policy used by the tabbedpane to layout the tabs when all the
     * tabs will not fit within a single run.
     * @see #setTabLayoutPolicy
     * @since 1.4
     */
    public int getTabLayoutPolicy() {
<span class="nc" id="L512">        return tabLayoutPolicy;</span>
    }

   /**
     * Sets the policy which the tabbedpane will use in laying out the tabs
     * when all the tabs will not fit within a single run.
     * Possible values are:
     * &lt;ul&gt;
     * &lt;li&gt;&lt;code&gt;JTabbedPane.WRAP_TAB_LAYOUT&lt;/code&gt;
     * &lt;li&gt;&lt;code&gt;JTabbedPane.SCROLL_TAB_LAYOUT&lt;/code&gt;
     * &lt;/ul&gt;
     *
     * The default value, if not set by the UI, is &lt;code&gt;JTabbedPane.WRAP_TAB_LAYOUT&lt;/code&gt;.
     * &lt;p&gt;
     * Some look and feels might only support a subset of the possible
     * layout policies, in which case the value of this property may be
     * ignored.
     *
     * @param tabLayoutPolicy the policy used to layout the tabs
     * @exception IllegalArgumentException if layoutPolicy value isn't one
     *                          of the above valid values
     * @see #getTabLayoutPolicy
     * @since 1.4
     *
     * @beaninfo
     *    preferred: true
     *        bound: true
     *    attribute: visualUpdate true
     *         enum: WRAP_TAB_LAYOUT JTabbedPane.WRAP_TAB_LAYOUT
     *               SCROLL_TAB_LAYOUT JTabbedPane.SCROLL_TAB_LAYOUT
     *  description: The tabbedpane's policy for laying out the tabs
     *
     */
    public void setTabLayoutPolicy(int tabLayoutPolicy) {
<span class="nc bnc" id="L546" title="All 4 branches missed.">        if (tabLayoutPolicy != WRAP_TAB_LAYOUT &amp;&amp; tabLayoutPolicy != SCROLL_TAB_LAYOUT) {</span>
<span class="nc" id="L547">            throw new IllegalArgumentException(&quot;illegal tab layout policy: must be WRAP_TAB_LAYOUT or SCROLL_TAB_LAYOUT&quot;);</span>
        }
<span class="nc bnc" id="L549" title="All 2 branches missed.">        if (this.tabLayoutPolicy != tabLayoutPolicy) {</span>
<span class="nc" id="L550">            int oldValue = this.tabLayoutPolicy;</span>
<span class="nc" id="L551">            this.tabLayoutPolicy = tabLayoutPolicy;</span>
<span class="nc" id="L552">            firePropertyChange(&quot;tabLayoutPolicy&quot;, oldValue, tabLayoutPolicy);</span>
<span class="nc" id="L553">            revalidate();</span>
<span class="nc" id="L554">            repaint();</span>
        }
<span class="nc" id="L556">    }</span>

    /**
     * Returns the currently selected index for this tabbedpane.
     * Returns -1 if there is no currently selected tab.
     *
     * @return the index of the selected tab
     * @see #setSelectedIndex
     */
    @Transient
    public int getSelectedIndex() {
<span class="nc" id="L567">        return model.getSelectedIndex();</span>
    }

    /**
     * Sets the selected index for this tabbedpane. The index must be
     * a valid tab index or -1, which indicates that no tab should be selected
     * (can also be used when there are no tabs in the tabbedpane).  If a -1
     * value is specified when the tabbedpane contains one or more tabs, then
     * the results will be implementation defined.
     *
     * @param index  the index to be selected
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; -1 || index &gt;= tab count)}
     *
     * @see #getSelectedIndex
     * @see SingleSelectionModel#setSelectedIndex
     * @beaninfo
     *   preferred: true
     * description: The tabbedpane's selected tab index.
     */
    public void setSelectedIndex(int index) {
<span class="nc bnc" id="L588" title="All 2 branches missed.">        if (index != -1) {</span>
<span class="nc" id="L589">            checkIndex(index);</span>
        }
<span class="nc" id="L591">        setSelectedIndexImpl(index, true);</span>
<span class="nc" id="L592">    }</span>


    private void setSelectedIndexImpl(int index, boolean doAccessibleChanges) {
<span class="nc" id="L596">        int oldIndex = model.getSelectedIndex();</span>
<span class="nc" id="L597">        Page oldPage = null, newPage = null;</span>
<span class="nc" id="L598">        String oldName = null;</span>

<span class="nc bnc" id="L600" title="All 4 branches missed.">        doAccessibleChanges = doAccessibleChanges &amp;&amp; (oldIndex != index);</span>

<span class="nc bnc" id="L602" title="All 2 branches missed.">        if (doAccessibleChanges) {</span>
<span class="nc bnc" id="L603" title="All 2 branches missed.">            if (accessibleContext != null) {</span>
<span class="nc" id="L604">                oldName = accessibleContext.getAccessibleName();</span>
            }

<span class="nc bnc" id="L607" title="All 2 branches missed.">            if (oldIndex &gt;= 0) {</span>
<span class="nc" id="L608">                oldPage = pages.get(oldIndex);</span>
            }

<span class="nc bnc" id="L611" title="All 2 branches missed.">            if (index &gt;= 0) {</span>
<span class="nc" id="L612">                newPage = pages.get(index);</span>
            }
        }

<span class="nc" id="L616">        model.setSelectedIndex(index);</span>

<span class="nc bnc" id="L618" title="All 2 branches missed.">        if (doAccessibleChanges) {</span>
<span class="nc" id="L619">            changeAccessibleSelection(oldPage, oldName, newPage);</span>
        }
<span class="nc" id="L621">    }</span>

    private void changeAccessibleSelection(Page oldPage, String oldName, Page newPage) {
<span class="nc bnc" id="L624" title="All 2 branches missed.">        if (accessibleContext == null) {</span>
<span class="nc" id="L625">            return;</span>
        }

<span class="nc bnc" id="L628" title="All 2 branches missed.">        if (oldPage != null) {</span>
<span class="nc" id="L629">            oldPage.firePropertyChange(AccessibleContext.ACCESSIBLE_STATE_PROPERTY,</span>
                                       AccessibleState.SELECTED, null);
        }

<span class="nc bnc" id="L633" title="All 2 branches missed.">        if (newPage != null) {</span>
<span class="nc" id="L634">            newPage.firePropertyChange(AccessibleContext.ACCESSIBLE_STATE_PROPERTY,</span>
                                       null, AccessibleState.SELECTED);
        }

<span class="nc" id="L638">        accessibleContext.firePropertyChange(</span>
            AccessibleContext.ACCESSIBLE_NAME_PROPERTY,
            oldName,
<span class="nc" id="L641">            accessibleContext.getAccessibleName());</span>
<span class="nc" id="L642">    }</span>

    /**
     * Returns the currently selected component for this tabbedpane.
     * Returns &lt;code&gt;null&lt;/code&gt; if there is no currently selected tab.
     *
     * @return the component corresponding to the selected tab
     * @see #setSelectedComponent
     */
    @Transient
    public Component getSelectedComponent() {
<span class="nc" id="L653">        int index = getSelectedIndex();</span>
<span class="nc bnc" id="L654" title="All 2 branches missed.">        if (index == -1) {</span>
<span class="nc" id="L655">            return null;</span>
        }
<span class="nc" id="L657">        return getComponentAt(index);</span>
    }

    /**
     * Sets the selected component for this tabbedpane.  This
     * will automatically set the &lt;code&gt;selectedIndex&lt;/code&gt; to the index
     * corresponding to the specified component.
     *
     * @exception IllegalArgumentException if component not found in tabbed
     *          pane
     * @see #getSelectedComponent
     * @beaninfo
     *   preferred: true
     * description: The tabbedpane's selected component.
     */
    public void setSelectedComponent(Component c) {
<span class="nc" id="L673">        int index = indexOfComponent(c);</span>
<span class="nc bnc" id="L674" title="All 2 branches missed.">        if (index != -1) {</span>
<span class="nc" id="L675">            setSelectedIndex(index);</span>
        } else {
<span class="nc" id="L677">            throw new IllegalArgumentException(&quot;component not found in tabbed pane&quot;);</span>
        }
<span class="nc" id="L679">    }</span>

    /**
     * Inserts a new tab for the given component, at the given index,
     * represented by the given title and/or icon, either of which may
     * be {@code null}.
     *
     * @param title the title to be displayed on the tab
     * @param icon the icon to be displayed on the tab
     * @param component the component to be displayed when this tab is clicked.
     * @param tip the tooltip to be displayed for this tab
     * @param index the position to insert this new tab
     *       ({@code &gt; 0 and &lt;= getTabCount()})
     *
     * @throws IndexOutOfBoundsException if the index is out of range
     *         ({@code &lt; 0 or &gt; getTabCount()})
     *
     * @see #addTab
     * @see #removeTabAt
     */
    public void insertTab(String title, Icon icon, Component component, String tip, int index) {
<span class="nc" id="L700">        int newIndex = index;</span>

        // If component already exists, remove corresponding
        // tab so that new tab gets added correctly
        // Note: we are allowing component=null because of compatibility,
        // but we really should throw an exception because much of the
        // rest of the JTabbedPane implementation isn't designed to deal
        // with null components for tabs.
<span class="nc" id="L708">        int removeIndex = indexOfComponent(component);</span>
<span class="nc bnc" id="L709" title="All 4 branches missed.">        if (component != null &amp;&amp; removeIndex != -1) {</span>
<span class="nc" id="L710">            removeTabAt(removeIndex);</span>
<span class="nc bnc" id="L711" title="All 2 branches missed.">            if (newIndex &gt; removeIndex) {</span>
<span class="nc" id="L712">                newIndex--;</span>
            }
        }

<span class="nc" id="L716">        int selectedIndex = getSelectedIndex();</span>

<span class="nc bnc" id="L718" title="All 2 branches missed.">        pages.add(</span>
            newIndex,
            new Page(this, title != null? title : &quot;&quot;, icon, null, component, tip));


<span class="nc bnc" id="L723" title="All 2 branches missed.">        if (component != null) {</span>
<span class="nc" id="L724">            addImpl(component, null, -1);</span>
<span class="nc" id="L725">            component.setVisible(false);</span>
        } else {
<span class="nc" id="L727">            firePropertyChange(&quot;indexForNullComponent&quot;, -1, index);</span>
        }

<span class="nc bnc" id="L730" title="All 2 branches missed.">        if (pages.size() == 1) {</span>
<span class="nc" id="L731">            setSelectedIndex(0);</span>
        }

<span class="nc bnc" id="L734" title="All 2 branches missed.">        if (selectedIndex &gt;= newIndex) {</span>
<span class="nc" id="L735">            setSelectedIndexImpl(selectedIndex + 1, false);</span>
        }

<span class="nc bnc" id="L738" title="All 4 branches missed.">        if (!haveRegistered &amp;&amp; tip != null) {</span>
<span class="nc" id="L739">            ToolTipManager.sharedInstance().registerComponent(this);</span>
<span class="nc" id="L740">            haveRegistered = true;</span>
        }

<span class="nc bnc" id="L743" title="All 2 branches missed.">        if (accessibleContext != null) {</span>
<span class="nc" id="L744">            accessibleContext.firePropertyChange(</span>
                    AccessibleContext.ACCESSIBLE_VISIBLE_DATA_PROPERTY,
                    null, component);
        }
<span class="nc" id="L748">        revalidate();</span>
<span class="nc" id="L749">        repaint();</span>
<span class="nc" id="L750">    }</span>

    /**
     * Adds a &lt;code&gt;component&lt;/code&gt; and &lt;code&gt;tip&lt;/code&gt;
     * represented by a &lt;code&gt;title&lt;/code&gt; and/or &lt;code&gt;icon&lt;/code&gt;,
     * either of which can be &lt;code&gt;null&lt;/code&gt;.
     * Cover method for &lt;code&gt;insertTab&lt;/code&gt;.
     *
     * @param title the title to be displayed in this tab
     * @param icon the icon to be displayed in this tab
     * @param component the component to be displayed when this tab is clicked
     * @param tip the tooltip to be displayed for this tab
     *
     * @see #insertTab
     * @see #removeTabAt
     */
    public void addTab(String title, Icon icon, Component component, String tip) {
<span class="nc" id="L767">        insertTab(title, icon, component, tip, pages.size());</span>
<span class="nc" id="L768">    }</span>

    /**
     * Adds a &lt;code&gt;component&lt;/code&gt; represented by a &lt;code&gt;title&lt;/code&gt;
     * and/or &lt;code&gt;icon&lt;/code&gt;, either of which can be &lt;code&gt;null&lt;/code&gt;.
     * Cover method for &lt;code&gt;insertTab&lt;/code&gt;.
     *
     * @param title the title to be displayed in this tab
     * @param icon the icon to be displayed in this tab
     * @param component the component to be displayed when this tab is clicked
     *
     * @see #insertTab
     * @see #removeTabAt
     */
    public void addTab(String title, Icon icon, Component component) {
<span class="nc" id="L783">        insertTab(title, icon, component, null, pages.size());</span>
<span class="nc" id="L784">    }</span>

    /**
     * Adds a &lt;code&gt;component&lt;/code&gt; represented by a &lt;code&gt;title&lt;/code&gt;
     * and no icon.
     * Cover method for &lt;code&gt;insertTab&lt;/code&gt;.
     *
     * @param title the title to be displayed in this tab
     * @param component the component to be displayed when this tab is clicked
     *
     * @see #insertTab
     * @see #removeTabAt
     */
    public void addTab(String title, Component component) {
<span class="nc" id="L798">        insertTab(title, null, component, null, pages.size());</span>
<span class="nc" id="L799">    }</span>

    /**
     * Adds a &lt;code&gt;component&lt;/code&gt; with a tab title defaulting to
     * the name of the component which is the result of calling
     * &lt;code&gt;component.getName&lt;/code&gt;.
     * Cover method for &lt;code&gt;insertTab&lt;/code&gt;.
     *
     * @param component the component to be displayed when this tab is clicked
     * @return the component
     *
     * @see #insertTab
     * @see #removeTabAt
     */
    public Component add(Component component) {
<span class="nc bnc" id="L814" title="All 2 branches missed.">        if (!(component instanceof UIResource)) {</span>
<span class="nc" id="L815">            addTab(component.getName(), component);</span>
        } else {
<span class="nc" id="L817">            super.add(component);</span>
        }
<span class="nc" id="L819">        return component;</span>
    }

    /**
     * Adds a &lt;code&gt;component&lt;/code&gt; with the specified tab title.
     * Cover method for &lt;code&gt;insertTab&lt;/code&gt;.
     *
     * @param title the title to be displayed in this tab
     * @param component the component to be displayed when this tab is clicked
     * @return the component
     *
     * @see #insertTab
     * @see #removeTabAt
     */
    public Component add(String title, Component component) {
<span class="nc bnc" id="L834" title="All 2 branches missed.">        if (!(component instanceof UIResource)) {</span>
<span class="nc" id="L835">            addTab(title, component);</span>
        } else {
<span class="nc" id="L837">            super.add(title, component);</span>
        }
<span class="nc" id="L839">        return component;</span>
    }

    /**
     * Adds a &lt;code&gt;component&lt;/code&gt; at the specified tab index with a tab
     * title defaulting to the name of the component.
     * Cover method for &lt;code&gt;insertTab&lt;/code&gt;.
     *
     * @param component the component to be displayed when this tab is clicked
     * @param index the position to insert this new tab
     * @return the component
     *
     * @see #insertTab
     * @see #removeTabAt
     */
    public Component add(Component component, int index) {
<span class="nc bnc" id="L855" title="All 2 branches missed.">        if (!(component instanceof UIResource)) {</span>
            // Container.add() interprets -1 as &quot;append&quot;, so convert
            // the index appropriately to be handled by the vector
<span class="nc bnc" id="L858" title="All 2 branches missed.">            insertTab(component.getName(), null, component, null,</span>
<span class="nc" id="L859">                      index == -1? getTabCount() : index);</span>
        } else {
<span class="nc" id="L861">            super.add(component, index);</span>
        }
<span class="nc" id="L863">        return component;</span>
    }

    /**
     * Adds a &lt;code&gt;component&lt;/code&gt; to the tabbed pane.
     * If &lt;code&gt;constraints&lt;/code&gt; is a &lt;code&gt;String&lt;/code&gt; or an
     * &lt;code&gt;Icon&lt;/code&gt;, it will be used for the tab title,
     * otherwise the component's name will be used as the tab title.
     * Cover method for &lt;code&gt;insertTab&lt;/code&gt;.
     *
     * @param component the component to be displayed when this tab is clicked
     * @param constraints the object to be displayed in the tab
     *
     * @see #insertTab
     * @see #removeTabAt
     */
    public void add(Component component, Object constraints) {
<span class="nc bnc" id="L880" title="All 2 branches missed.">        if (!(component instanceof UIResource)) {</span>
<span class="nc bnc" id="L881" title="All 2 branches missed.">            if (constraints instanceof String) {</span>
<span class="nc" id="L882">                addTab((String)constraints, component);</span>
<span class="nc bnc" id="L883" title="All 2 branches missed.">            } else if (constraints instanceof Icon) {</span>
<span class="nc" id="L884">                addTab(null, (Icon)constraints, component);</span>
            } else {
<span class="nc" id="L886">                add(component);</span>
            }
        } else {
<span class="nc" id="L889">            super.add(component, constraints);</span>
        }
<span class="nc" id="L891">    }</span>

    /**
     * Adds a &lt;code&gt;component&lt;/code&gt; at the specified tab index.
     * If &lt;code&gt;constraints&lt;/code&gt; is a &lt;code&gt;String&lt;/code&gt; or an
     * &lt;code&gt;Icon&lt;/code&gt;, it will be used for the tab title,
     * otherwise the component's name will be used as the tab title.
     * Cover method for &lt;code&gt;insertTab&lt;/code&gt;.
     *
     * @param component the component to be displayed when this tab is clicked
     * @param constraints the object to be displayed in the tab
     * @param index the position to insert this new tab
     *
     * @see #insertTab
     * @see #removeTabAt
     */
    public void add(Component component, Object constraints, int index) {
<span class="nc bnc" id="L908" title="All 2 branches missed.">        if (!(component instanceof UIResource)) {</span>

<span class="nc bnc" id="L910" title="All 2 branches missed.">            Icon icon = constraints instanceof Icon? (Icon)constraints : null;</span>
<span class="nc bnc" id="L911" title="All 2 branches missed.">            String title = constraints instanceof String? (String)constraints : null;</span>
            // Container.add() interprets -1 as &quot;append&quot;, so convert
            // the index appropriately to be handled by the vector
<span class="nc bnc" id="L914" title="All 2 branches missed.">            insertTab(title, icon, component, null, index == -1? getTabCount() : index);</span>
<span class="nc" id="L915">        } else {</span>
<span class="nc" id="L916">            super.add(component, constraints, index);</span>
        }
<span class="nc" id="L918">    }</span>

    /**
     * Removes the tab at &lt;code&gt;index&lt;/code&gt;.
     * After the component associated with &lt;code&gt;index&lt;/code&gt; is removed,
     * its visibility is reset to true to ensure it will be visible
     * if added to other containers.
     * @param index the index of the tab to be removed
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #addTab
     * @see #insertTab
     */
    public void removeTabAt(int index) {
<span class="nc" id="L933">        checkIndex(index);</span>

<span class="nc" id="L935">        Component component = getComponentAt(index);</span>
<span class="nc" id="L936">        boolean shouldChangeFocus = false;</span>
<span class="nc" id="L937">        int selected = getSelectedIndex();</span>
<span class="nc" id="L938">        String oldName = null;</span>

        /* if we're about to remove the visible component */
<span class="nc bnc" id="L941" title="All 2 branches missed.">        if (component == visComp) {</span>
<span class="nc bnc" id="L942" title="All 2 branches missed.">            shouldChangeFocus = (SwingUtilities.findFocusOwner(visComp) != null);</span>
<span class="nc" id="L943">            visComp = null;</span>
        }

<span class="nc bnc" id="L946" title="All 2 branches missed.">        if (accessibleContext != null) {</span>
            /* if we're removing the selected page */
<span class="nc bnc" id="L948" title="All 2 branches missed.">            if (index == selected) {</span>
                /* fire an accessible notification that it's unselected */
<span class="nc" id="L950">                pages.get(index).firePropertyChange(</span>
                    AccessibleContext.ACCESSIBLE_STATE_PROPERTY,
                    AccessibleState.SELECTED, null);

<span class="nc" id="L954">                oldName = accessibleContext.getAccessibleName();</span>
            }

<span class="nc" id="L957">            accessibleContext.firePropertyChange(</span>
                    AccessibleContext.ACCESSIBLE_VISIBLE_DATA_PROPERTY,
                    component, null);
        }

        // Force the tabComponent to be cleaned up.
<span class="nc" id="L963">        setTabComponentAt(index, null);</span>
<span class="nc" id="L964">        pages.remove(index);</span>

        // NOTE 4/15/2002 (joutwate):
        // This fix is implemented using client properties since there is
        // currently no IndexPropertyChangeEvent.  Once
        // IndexPropertyChangeEvents have been added this code should be
        // modified to use it.
<span class="nc" id="L971">        putClientProperty(&quot;__index_to_remove__&quot;, Integer.valueOf(index));</span>

        /* if the selected tab is after the removal */
<span class="nc bnc" id="L974" title="All 2 branches missed.">        if (selected &gt; index) {</span>
<span class="nc" id="L975">            setSelectedIndexImpl(selected - 1, false);</span>

        /* if the selected tab is the last tab */
<span class="nc bnc" id="L978" title="All 2 branches missed.">        } else if (selected &gt;= getTabCount()) {</span>
<span class="nc" id="L979">            setSelectedIndexImpl(selected - 1, false);</span>
<span class="nc bnc" id="L980" title="All 2 branches missed.">            Page newSelected = (selected != 0)</span>
<span class="nc" id="L981">                ? pages.get(selected - 1)</span>
                : null;

<span class="nc" id="L984">            changeAccessibleSelection(null, oldName, newSelected);</span>

        /* selected index hasn't changed, but the associated tab has */
<span class="nc bnc" id="L987" title="All 2 branches missed.">        } else if (index == selected) {</span>
<span class="nc" id="L988">            fireStateChanged();</span>
<span class="nc" id="L989">            changeAccessibleSelection(null, oldName, pages.get(index));</span>
        }

        // We can't assume the tab indices correspond to the
        // container's children array indices, so make sure we
        // remove the correct child!
<span class="nc bnc" id="L995" title="All 2 branches missed.">        if (component != null) {</span>
<span class="nc" id="L996">            Component components[] = getComponents();</span>
<span class="nc bnc" id="L997" title="All 2 branches missed.">            for (int i = components.length; --i &gt;= 0; ) {</span>
<span class="nc bnc" id="L998" title="All 2 branches missed.">                if (components[i] == component) {</span>
<span class="nc" id="L999">                    super.remove(i);</span>
<span class="nc" id="L1000">                    component.setVisible(true);</span>
<span class="nc" id="L1001">                    break;</span>
                }
            }
        }

<span class="nc bnc" id="L1006" title="All 2 branches missed.">        if (shouldChangeFocus) {</span>
<span class="nc" id="L1007">            SwingUtilities2.tabbedPaneChangeFocusTo(getSelectedComponent());</span>
        }

<span class="nc" id="L1010">        revalidate();</span>
<span class="nc" id="L1011">        repaint();</span>
<span class="nc" id="L1012">    }</span>

    /**
     * Removes the specified &lt;code&gt;Component&lt;/code&gt; from the
     * &lt;code&gt;JTabbedPane&lt;/code&gt;. The method does nothing
     * if the &lt;code&gt;component&lt;/code&gt; is null.
     *
     * @param component the component to remove from the tabbedpane
     * @see #addTab
     * @see #removeTabAt
     */
    public void remove(Component component) {
<span class="nc" id="L1024">        int index = indexOfComponent(component);</span>
<span class="nc bnc" id="L1025" title="All 2 branches missed.">        if (index != -1) {</span>
<span class="nc" id="L1026">            removeTabAt(index);</span>
        } else {
            // Container#remove(comp) invokes Container#remove(int)
            // so make sure JTabbedPane#remove(int) isn't called here
<span class="nc" id="L1030">            Component children[] = getComponents();</span>
<span class="nc bnc" id="L1031" title="All 2 branches missed.">            for (int i=0; i &lt; children.length; i++) {</span>
<span class="nc bnc" id="L1032" title="All 2 branches missed.">                if (component == children[i]) {</span>
<span class="nc" id="L1033">                    super.remove(i);</span>
<span class="nc" id="L1034">                    break;</span>
                }
            }
        }
<span class="nc" id="L1038">    }</span>

    /**
     * Removes the tab and component which corresponds to the specified index.
     *
     * @param index the index of the component to remove from the
     *          &lt;code&gt;tabbedpane&lt;/code&gt;
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     * @see #addTab
     * @see #removeTabAt
     */
    public void remove(int index) {
<span class="nc" id="L1051">        removeTabAt(index);</span>
<span class="nc" id="L1052">    }</span>

    /**
     * Removes all the tabs and their corresponding components
     * from the &lt;code&gt;tabbedpane&lt;/code&gt;.
     *
     * @see #addTab
     * @see #removeTabAt
     */
    public void removeAll() {
<span class="nc" id="L1062">        setSelectedIndexImpl(-1, true);</span>

<span class="nc" id="L1064">        int tabCount = getTabCount();</span>
        // We invoke removeTabAt for each tab, otherwise we may end up
        // removing Components added by the UI.
<span class="nc bnc" id="L1067" title="All 2 branches missed.">        while (tabCount-- &gt; 0) {</span>
<span class="nc" id="L1068">            removeTabAt(tabCount);</span>
        }
<span class="nc" id="L1070">    }</span>

    /**
     * Returns the number of tabs in this &lt;code&gt;tabbedpane&lt;/code&gt;.
     *
     * @return an integer specifying the number of tabbed pages
     */
    public int getTabCount() {
<span class="nc" id="L1078">        return pages.size();</span>
    }

    /**
     * Returns the number of tab runs currently used to display
     * the tabs.
     * @return an integer giving the number of rows if the
     *          &lt;code&gt;tabPlacement&lt;/code&gt;
     *          is &lt;code&gt;TOP&lt;/code&gt; or &lt;code&gt;BOTTOM&lt;/code&gt;
     *          and the number of columns if
     *          &lt;code&gt;tabPlacement&lt;/code&gt;
     *          is &lt;code&gt;LEFT&lt;/code&gt; or &lt;code&gt;RIGHT&lt;/code&gt;,
     *          or 0 if there is no UI set on this &lt;code&gt;tabbedpane&lt;/code&gt;
     */
    public int getTabRunCount() {
<span class="nc bnc" id="L1093" title="All 2 branches missed.">        if (ui != null) {</span>
<span class="nc" id="L1094">            return ((TabbedPaneUI)ui).getTabRunCount(this);</span>
        }
<span class="nc" id="L1096">        return 0;</span>
    }


// Getters for the Pages

    /**
     * Returns the tab title at &lt;code&gt;index&lt;/code&gt;.
     *
     * @param index  the index of the item being queried
     * @return the title at &lt;code&gt;index&lt;/code&gt;
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     * @see #setTitleAt
     */
    public String getTitleAt(int index) {
<span class="nc" id="L1112">        return pages.get(index).title;</span>
    }

    /**
     * Returns the tab icon at &lt;code&gt;index&lt;/code&gt;.
     *
     * @param index  the index of the item being queried
     * @return the icon at &lt;code&gt;index&lt;/code&gt;
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #setIconAt
     */
    public Icon getIconAt(int index) {
<span class="nc" id="L1126">        return pages.get(index).icon;</span>
    }

    /**
     * Returns the tab disabled icon at &lt;code&gt;index&lt;/code&gt;.
     * If the tab disabled icon doesn't exist at &lt;code&gt;index&lt;/code&gt;
     * this will forward the call to the look and feel to construct
     * an appropriate disabled Icon from the corresponding enabled
     * Icon. Some look and feels might not render the disabled Icon,
     * in which case it won't be created.
     *
     * @param index  the index of the item being queried
     * @return the icon at &lt;code&gt;index&lt;/code&gt;
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #setDisabledIconAt
     */
    public Icon getDisabledIconAt(int index) {
<span class="nc" id="L1145">        Page page = pages.get(index);</span>
<span class="nc bnc" id="L1146" title="All 2 branches missed.">        if (page.disabledIcon == null) {</span>
<span class="nc" id="L1147">            page.disabledIcon = UIManager.getLookAndFeel().getDisabledIcon(this, page.icon);</span>
        }
<span class="nc" id="L1149">        return page.disabledIcon;</span>
    }

    /**
     * Returns the tab tooltip text at &lt;code&gt;index&lt;/code&gt;.
     *
     * @param index  the index of the item being queried
     * @return a string containing the tool tip text at &lt;code&gt;index&lt;/code&gt;
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #setToolTipTextAt
     * @since 1.3
     */
    public String getToolTipTextAt(int index) {
<span class="nc" id="L1164">        return pages.get(index).tip;</span>
    }

    /**
     * Returns the tab background color at &lt;code&gt;index&lt;/code&gt;.
     *
     * @param index  the index of the item being queried
     * @return the &lt;code&gt;Color&lt;/code&gt; of the tab background at
     *          &lt;code&gt;index&lt;/code&gt;
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #setBackgroundAt
     */
    public Color getBackgroundAt(int index) {
<span class="nc" id="L1179">        return pages.get(index).getBackground();</span>
    }

    /**
     * Returns the tab foreground color at &lt;code&gt;index&lt;/code&gt;.
     *
     * @param index  the index of the item being queried
     * @return the &lt;code&gt;Color&lt;/code&gt; of the tab foreground at
     *          &lt;code&gt;index&lt;/code&gt;
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #setForegroundAt
     */
    public Color getForegroundAt(int index) {
<span class="nc" id="L1194">        return pages.get(index).getForeground();</span>
    }

    /**
     * Returns whether or not the tab at &lt;code&gt;index&lt;/code&gt; is
     * currently enabled.
     *
     * @param index  the index of the item being queried
     * @return true if the tab at &lt;code&gt;index&lt;/code&gt; is enabled;
     *          false otherwise
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #setEnabledAt
     */
    public boolean isEnabledAt(int index) {
<span class="nc" id="L1210">        return pages.get(index).isEnabled();</span>
    }

    /**
     * Returns the component at &lt;code&gt;index&lt;/code&gt;.
     *
     * @param index  the index of the item being queried
     * @return the &lt;code&gt;Component&lt;/code&gt; at &lt;code&gt;index&lt;/code&gt;
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #setComponentAt
     */
    public Component getComponentAt(int index) {
<span class="nc" id="L1224">        return pages.get(index).component;</span>
    }

    /**
     * Returns the keyboard mnemonic for accessing the specified tab.
     * The mnemonic is the key which when combined with the look and feel's
     * mouseless modifier (usually Alt) will activate the specified
     * tab.
     *
     * @since 1.4
     * @param tabIndex the index of the tab that the mnemonic refers to
     * @return the key code which represents the mnemonic;
     *         -1 if a mnemonic is not specified for the tab
     * @exception IndexOutOfBoundsException if index is out of range
     *            (&lt;code&gt;tabIndex&lt;/code&gt; &amp;lt; 0 ||
     *              &lt;code&gt;tabIndex&lt;/code&gt; &amp;gt;= tab count)
     * @see #setDisplayedMnemonicIndexAt(int,int)
     * @see #setMnemonicAt(int,int)
     */
    public int getMnemonicAt(int tabIndex) {
<span class="nc" id="L1244">        checkIndex(tabIndex);</span>

<span class="nc" id="L1246">        Page page = pages.get(tabIndex);</span>
<span class="nc" id="L1247">        return page.getMnemonic();</span>
    }

    /**
     * Returns the character, as an index, that the look and feel should
     * provide decoration for as representing the mnemonic character.
     *
     * @since 1.4
     * @param tabIndex the index of the tab that the mnemonic refers to
     * @return index representing mnemonic character if one exists;
     *    otherwise returns -1
     * @exception IndexOutOfBoundsException if index is out of range
     *            (&lt;code&gt;tabIndex&lt;/code&gt; &amp;lt; 0 ||
     *              &lt;code&gt;tabIndex&lt;/code&gt; &amp;gt;= tab count)
     * @see #setDisplayedMnemonicIndexAt(int,int)
     * @see #setMnemonicAt(int,int)
     */
    public int getDisplayedMnemonicIndexAt(int tabIndex) {
<span class="nc" id="L1265">        checkIndex(tabIndex);</span>

<span class="nc" id="L1267">        Page page = pages.get(tabIndex);</span>
<span class="nc" id="L1268">        return page.getDisplayedMnemonicIndex();</span>
    }

    /**
     * Returns the tab bounds at &lt;code&gt;index&lt;/code&gt;.  If the tab at
     * this index is not currently visible in the UI, then returns
     * &lt;code&gt;null&lt;/code&gt;.
     * If there is no UI set on this &lt;code&gt;tabbedpane&lt;/code&gt;,
     * then returns &lt;code&gt;null&lt;/code&gt;.
     *
     * @param index the index to be queried
     * @return a &lt;code&gt;Rectangle&lt;/code&gt; containing the tab bounds at
     *          &lt;code&gt;index&lt;/code&gt;, or &lt;code&gt;null&lt;/code&gt; if tab at
     *          &lt;code&gt;index&lt;/code&gt; is not currently visible in the UI,
     *          or if there is no UI set on this &lt;code&gt;tabbedpane&lt;/code&gt;
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     */
    public Rectangle getBoundsAt(int index) {
<span class="nc" id="L1287">        checkIndex(index);</span>
<span class="nc bnc" id="L1288" title="All 2 branches missed.">        if (ui != null) {</span>
<span class="nc" id="L1289">            return ((TabbedPaneUI)ui).getTabBounds(this, index);</span>
        }
<span class="nc" id="L1291">        return null;</span>
    }


// Setters for the Pages

    /**
     * Sets the title at &lt;code&gt;index&lt;/code&gt; to &lt;code&gt;title&lt;/code&gt; which
     * can be &lt;code&gt;null&lt;/code&gt;.
     * The title is not shown if a tab component for this tab was specified.
     * An internal exception is raised if there is no tab at that index.
     *
     * @param index the tab index where the title should be set
     * @param title the title to be displayed in the tab
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #getTitleAt
     * @see #setTabComponentAt
     * @beaninfo
     *    preferred: true
     *    attribute: visualUpdate true
     *  description: The title at the specified tab index.
     */
    public void setTitleAt(int index, String title) {
<span class="nc" id="L1316">        Page page = pages.get(index);</span>
<span class="nc" id="L1317">        String oldTitle =page.title;</span>
<span class="nc" id="L1318">        page.title = title;</span>

<span class="nc bnc" id="L1320" title="All 2 branches missed.">        if (oldTitle != title) {</span>
<span class="nc" id="L1321">            firePropertyChange(&quot;indexForTitle&quot;, -1, index);</span>
        }
<span class="nc" id="L1323">        page.updateDisplayedMnemonicIndex();</span>
<span class="nc bnc" id="L1324" title="All 4 branches missed.">        if ((oldTitle != title) &amp;&amp; (accessibleContext != null)) {</span>
<span class="nc" id="L1325">            accessibleContext.firePropertyChange(</span>
                    AccessibleContext.ACCESSIBLE_VISIBLE_DATA_PROPERTY,
                    oldTitle, title);
        }
<span class="nc bnc" id="L1329" title="All 4 branches missed.">        if (title == null || oldTitle == null ||</span>
<span class="nc bnc" id="L1330" title="All 2 branches missed.">            !title.equals(oldTitle)) {</span>
<span class="nc" id="L1331">            revalidate();</span>
<span class="nc" id="L1332">            repaint();</span>
        }
<span class="nc" id="L1334">    }</span>

    /**
     * Sets the icon at &lt;code&gt;index&lt;/code&gt; to &lt;code&gt;icon&lt;/code&gt; which can be
     * &lt;code&gt;null&lt;/code&gt;. This does not set disabled icon at &lt;code&gt;icon&lt;/code&gt;.
     * If the new Icon is different than the current Icon and disabled icon
     * is not explicitly set, the LookAndFeel will be asked to generate a disabled
     * Icon. To explicitly set disabled icon, use &lt;code&gt;setDisableIconAt()&lt;/code&gt;.
     * The icon is not shown if a tab component for this tab was specified.
     * An internal exception is raised if there is no tab at that index.
     *
     * @param index the tab index where the icon should be set
     * @param icon the icon to be displayed in the tab
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #setDisabledIconAt
     * @see #getIconAt
     * @see #getDisabledIconAt
     * @see #setTabComponentAt
     * @beaninfo
     *    preferred: true
     *    attribute: visualUpdate true
     *  description: The icon at the specified tab index.
     */
    public void setIconAt(int index, Icon icon) {
<span class="nc" id="L1360">        Page page = pages.get(index);</span>
<span class="nc" id="L1361">        Icon oldIcon = page.icon;</span>
<span class="nc bnc" id="L1362" title="All 2 branches missed.">        if (icon != oldIcon) {</span>
<span class="nc" id="L1363">            page.icon = icon;</span>

            /* If the default icon has really changed and we had
             * generated the disabled icon for this page, then
             * clear the disabledIcon field of the page.
             */
<span class="nc bnc" id="L1369" title="All 2 branches missed.">            if (page.disabledIcon instanceof UIResource) {</span>
<span class="nc" id="L1370">                page.disabledIcon = null;</span>
            }

            // Fire the accessibility Visible data change
<span class="nc bnc" id="L1374" title="All 2 branches missed.">            if (accessibleContext != null) {</span>
<span class="nc" id="L1375">                accessibleContext.firePropertyChange(</span>
                        AccessibleContext.ACCESSIBLE_VISIBLE_DATA_PROPERTY,
                        oldIcon, icon);
            }
<span class="nc" id="L1379">            revalidate();</span>
<span class="nc" id="L1380">            repaint();</span>
        }
<span class="nc" id="L1382">    }</span>

    /**
     * Sets the disabled icon at &lt;code&gt;index&lt;/code&gt; to &lt;code&gt;icon&lt;/code&gt;
     * which can be &lt;code&gt;null&lt;/code&gt;.
     * An internal exception is raised if there is no tab at that index.
     *
     * @param index the tab index where the disabled icon should be set
     * @param disabledIcon the icon to be displayed in the tab when disabled
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #getDisabledIconAt
     * @beaninfo
     *    preferred: true
     *    attribute: visualUpdate true
     *  description: The disabled icon at the specified tab index.
     */
    public void setDisabledIconAt(int index, Icon disabledIcon) {
<span class="nc" id="L1401">        Icon oldIcon = pages.get(index).disabledIcon;</span>
<span class="nc" id="L1402">        pages.get(index).disabledIcon = disabledIcon;</span>
<span class="nc bnc" id="L1403" title="All 4 branches missed.">        if (disabledIcon != oldIcon &amp;&amp; !isEnabledAt(index)) {</span>
<span class="nc" id="L1404">            revalidate();</span>
<span class="nc" id="L1405">            repaint();</span>
        }
<span class="nc" id="L1407">    }</span>

    /**
     * Sets the tooltip text at &lt;code&gt;index&lt;/code&gt; to &lt;code&gt;toolTipText&lt;/code&gt;
     * which can be &lt;code&gt;null&lt;/code&gt;.
     * An internal exception is raised if there is no tab at that index.
     *
     * @param index the tab index where the tooltip text should be set
     * @param toolTipText the tooltip text to be displayed for the tab
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #getToolTipTextAt
     * @beaninfo
     *    preferred: true
     *  description: The tooltip text at the specified tab index.
     * @since 1.3
     */
    public void setToolTipTextAt(int index, String toolTipText) {
<span class="nc" id="L1426">        String oldToolTipText = pages.get(index).tip;</span>
<span class="nc" id="L1427">        pages.get(index).tip = toolTipText;</span>

<span class="nc bnc" id="L1429" title="All 4 branches missed.">        if ((oldToolTipText != toolTipText) &amp;&amp; (accessibleContext != null)) {</span>
<span class="nc" id="L1430">            accessibleContext.firePropertyChange(</span>
                    AccessibleContext.ACCESSIBLE_VISIBLE_DATA_PROPERTY,
                    oldToolTipText, toolTipText);
        }
<span class="nc bnc" id="L1434" title="All 4 branches missed.">        if (!haveRegistered &amp;&amp; toolTipText != null) {</span>
<span class="nc" id="L1435">            ToolTipManager.sharedInstance().registerComponent(this);</span>
<span class="nc" id="L1436">            haveRegistered = true;</span>
        }
<span class="nc" id="L1438">    }</span>

    /**
     * Sets the background color at &lt;code&gt;index&lt;/code&gt; to
     * &lt;code&gt;background&lt;/code&gt;
     * which can be &lt;code&gt;null&lt;/code&gt;, in which case the tab's background color
     * will default to the background color of the &lt;code&gt;tabbedpane&lt;/code&gt;.
     * An internal exception is raised if there is no tab at that index.
     * &lt;p&gt;
     * It is up to the look and feel to honor this property, some may
     * choose to ignore it.
     *
     * @param index the tab index where the background should be set
     * @param background the color to be displayed in the tab's background
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #getBackgroundAt
     * @beaninfo
     *    preferred: true
     *    attribute: visualUpdate true
     *  description: The background color at the specified tab index.
     */
    public void setBackgroundAt(int index, Color background) {
<span class="nc" id="L1462">        Color oldBg = pages.get(index).background;</span>
<span class="nc" id="L1463">        pages.get(index).setBackground(background);</span>
<span class="nc bnc" id="L1464" title="All 4 branches missed.">        if (background == null || oldBg == null ||</span>
<span class="nc bnc" id="L1465" title="All 2 branches missed.">            !background.equals(oldBg)) {</span>
<span class="nc" id="L1466">            Rectangle tabBounds = getBoundsAt(index);</span>
<span class="nc bnc" id="L1467" title="All 2 branches missed.">            if (tabBounds != null) {</span>
<span class="nc" id="L1468">                repaint(tabBounds);</span>
            }
        }
<span class="nc" id="L1471">    }</span>

    /**
     * Sets the foreground color at &lt;code&gt;index&lt;/code&gt; to
     * &lt;code&gt;foreground&lt;/code&gt; which can be
     * &lt;code&gt;null&lt;/code&gt;, in which case the tab's foreground color
     * will default to the foreground color of this &lt;code&gt;tabbedpane&lt;/code&gt;.
     * An internal exception is raised if there is no tab at that index.
     * &lt;p&gt;
     * It is up to the look and feel to honor this property, some may
     * choose to ignore it.
     *
     * @param index the tab index where the foreground should be set
     * @param foreground the color to be displayed as the tab's foreground
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #getForegroundAt
     * @beaninfo
     *    preferred: true
     *    attribute: visualUpdate true
     *  description: The foreground color at the specified tab index.
     */
    public void setForegroundAt(int index, Color foreground) {
<span class="nc" id="L1495">        Color oldFg = pages.get(index).foreground;</span>
<span class="nc" id="L1496">        pages.get(index).setForeground(foreground);</span>
<span class="nc bnc" id="L1497" title="All 4 branches missed.">        if (foreground == null || oldFg == null ||</span>
<span class="nc bnc" id="L1498" title="All 2 branches missed.">            !foreground.equals(oldFg)) {</span>
<span class="nc" id="L1499">            Rectangle tabBounds = getBoundsAt(index);</span>
<span class="nc bnc" id="L1500" title="All 2 branches missed.">            if (tabBounds != null) {</span>
<span class="nc" id="L1501">                repaint(tabBounds);</span>
            }
        }
<span class="nc" id="L1504">    }</span>

    /**
     * Sets whether or not the tab at &lt;code&gt;index&lt;/code&gt; is enabled.
     * An internal exception is raised if there is no tab at that index.
     *
     * @param index the tab index which should be enabled/disabled
     * @param enabled whether or not the tab should be enabled
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #isEnabledAt
     */
    public void setEnabledAt(int index, boolean enabled) {
<span class="nc" id="L1518">        boolean oldEnabled = pages.get(index).isEnabled();</span>
<span class="nc" id="L1519">        pages.get(index).setEnabled(enabled);</span>
<span class="nc bnc" id="L1520" title="All 2 branches missed.">        if (enabled != oldEnabled) {</span>
<span class="nc" id="L1521">            revalidate();</span>
<span class="nc" id="L1522">            repaint();</span>
        }
<span class="nc" id="L1524">    }</span>

    /**
     * Sets the component at &lt;code&gt;index&lt;/code&gt; to &lt;code&gt;component&lt;/code&gt;.
     * An internal exception is raised if there is no tab at that index.
     *
     * @param index the tab index where this component is being placed
     * @param component the component for the tab
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #getComponentAt
     * @beaninfo
     *    attribute: visualUpdate true
     *  description: The component at the specified tab index.
     */
    public void setComponentAt(int index, Component component) {
<span class="nc" id="L1541">        Page page = pages.get(index);</span>
<span class="nc bnc" id="L1542" title="All 2 branches missed.">        if (component != page.component) {</span>
<span class="nc" id="L1543">            boolean shouldChangeFocus = false;</span>

<span class="nc bnc" id="L1545" title="All 2 branches missed.">            if (page.component != null) {</span>
<span class="nc" id="L1546">                shouldChangeFocus =</span>
<span class="nc bnc" id="L1547" title="All 2 branches missed.">                    (SwingUtilities.findFocusOwner(page.component) != null);</span>

                // REMIND(aim): this is really silly;
                // why not if (page.component.getParent() == this) remove(component)
<span class="nc" id="L1551">                synchronized(getTreeLock()) {</span>
<span class="nc" id="L1552">                    int count = getComponentCount();</span>
<span class="nc" id="L1553">                    Component children[] = getComponents();</span>
<span class="nc bnc" id="L1554" title="All 2 branches missed.">                    for (int i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L1555" title="All 2 branches missed.">                        if (children[i] == page.component) {</span>
<span class="nc" id="L1556">                            super.remove(i);</span>
                        }
                    }
<span class="nc" id="L1559">                }</span>
            }

<span class="nc" id="L1562">            page.component = component;</span>
<span class="nc bnc" id="L1563" title="All 2 branches missed.">            boolean selectedPage = (getSelectedIndex() == index);</span>

<span class="nc bnc" id="L1565" title="All 2 branches missed.">            if (selectedPage) {</span>
<span class="nc" id="L1566">                this.visComp = component;</span>
            }

<span class="nc bnc" id="L1569" title="All 2 branches missed.">            if (component != null) {</span>
<span class="nc" id="L1570">                component.setVisible(selectedPage);</span>
<span class="nc" id="L1571">                addImpl(component, null, -1);</span>

<span class="nc bnc" id="L1573" title="All 2 branches missed.">                if (shouldChangeFocus) {</span>
<span class="nc" id="L1574">                    SwingUtilities2.tabbedPaneChangeFocusTo(component);</span>
                }
            } else {
<span class="nc" id="L1577">                repaint();</span>
            }

<span class="nc" id="L1580">            revalidate();</span>
        }
<span class="nc" id="L1582">    }</span>

    /**
     * Provides a hint to the look and feel as to which character in the
     * text should be decorated to represent the mnemonic. Not all look and
     * feels may support this. A value of -1 indicates either there is
     * no mnemonic for this tab, or you do not wish the mnemonic to be
     * displayed for this tab.
     * &lt;p&gt;
     * The value of this is updated as the properties relating to the
     * mnemonic change (such as the mnemonic itself, the text...).
     * You should only ever have to call this if
     * you do not wish the default character to be underlined. For example, if
     * the text at tab index 3 was 'Apple Price', with a mnemonic of 'p',
     * and you wanted the 'P'
     * to be decorated, as 'Apple &lt;u&gt;P&lt;/u&gt;rice', you would have to invoke
     * &lt;code&gt;setDisplayedMnemonicIndex(3, 6)&lt;/code&gt; after invoking
     * &lt;code&gt;setMnemonicAt(3, KeyEvent.VK_P)&lt;/code&gt;.
     * &lt;p&gt;Note that it is the programmer's responsibility to ensure
     * that each tab has a unique mnemonic or unpredictable results may
     * occur.
     *
     * @since 1.4
     * @param tabIndex the index of the tab that the mnemonic refers to
     * @param mnemonicIndex index into the &lt;code&gt;String&lt;/code&gt; to underline
     * @exception IndexOutOfBoundsException if &lt;code&gt;tabIndex&lt;/code&gt; is
     *            out of range ({@code tabIndex &lt; 0 || tabIndex &gt;= tab
     *            count})
     * @exception IllegalArgumentException will be thrown if
     *            &lt;code&gt;mnemonicIndex&lt;/code&gt; is &amp;gt;= length of the tab
     *            title , or &amp;lt; -1
     * @see #setMnemonicAt(int,int)
     * @see #getDisplayedMnemonicIndexAt(int)
     *
     * @beaninfo
     *        bound: true
     *    attribute: visualUpdate true
     *  description: the index into the String to draw the keyboard character
     *               mnemonic at
     */
    public void setDisplayedMnemonicIndexAt(int tabIndex, int mnemonicIndex) {
<span class="nc" id="L1623">        checkIndex(tabIndex);</span>

<span class="nc" id="L1625">        Page page = pages.get(tabIndex);</span>

<span class="nc" id="L1627">        page.setDisplayedMnemonicIndex(mnemonicIndex);</span>
<span class="nc" id="L1628">    }</span>

    /**
     * Sets the keyboard mnemonic for accessing the specified tab.
     * The mnemonic is the key which when combined with the look and feel's
     * mouseless modifier (usually Alt) will activate the specified
     * tab.
     * &lt;p&gt;
     * A mnemonic must correspond to a single key on the keyboard
     * and should be specified using one of the &lt;code&gt;VK_XXX&lt;/code&gt;
     * keycodes defined in &lt;code&gt;java.awt.event.KeyEvent&lt;/code&gt;
     * or one of the extended keycodes obtained through
     * &lt;code&gt;java.awt.event.KeyEvent.getExtendedKeyCodeForChar&lt;/code&gt;.
     * Mnemonics are case-insensitive, therefore a key event
     * with the corresponding keycode would cause the button to be
     * activated whether or not the Shift modifier was pressed.
     * &lt;p&gt;
     * This will update the displayed mnemonic property for the specified
     * tab.
     *
     * @since 1.4
     * @param tabIndex the index of the tab that the mnemonic refers to
     * @param mnemonic the key code which represents the mnemonic
     * @exception IndexOutOfBoundsException if &lt;code&gt;tabIndex&lt;/code&gt; is out
     *            of range ({@code tabIndex &lt; 0 || tabIndex &gt;= tab count})
     * @see #getMnemonicAt(int)
     * @see #setDisplayedMnemonicIndexAt(int,int)
     *
     * @beaninfo
     *        bound: true
     *    attribute: visualUpdate true
     *  description: The keyboard mnenmonic, as a KeyEvent VK constant,
     *               for the specified tab
     */
    public void setMnemonicAt(int tabIndex, int mnemonic) {
<span class="nc" id="L1663">        checkIndex(tabIndex);</span>

<span class="nc" id="L1665">        Page page = pages.get(tabIndex);</span>
<span class="nc" id="L1666">        page.setMnemonic(mnemonic);</span>

<span class="nc" id="L1668">        firePropertyChange(&quot;mnemonicAt&quot;, null, null);</span>
<span class="nc" id="L1669">    }</span>

// end of Page setters

    /**
     * Returns the first tab index with a given &lt;code&gt;title&lt;/code&gt;,  or
     * -1 if no tab has this title.
     *
     * @param title the title for the tab
     * @return the first tab index which matches &lt;code&gt;title&lt;/code&gt;, or
     *          -1 if no tab has this title
     */
    public int indexOfTab(String title) {
<span class="nc bnc" id="L1682" title="All 2 branches missed.">        for(int i = 0; i &lt; getTabCount(); i++) {</span>
<span class="nc bnc" id="L1683" title="All 4 branches missed.">            if (getTitleAt(i).equals(title == null? &quot;&quot; : title)) {</span>
<span class="nc" id="L1684">                return i;</span>
            }
        }
<span class="nc" id="L1687">        return -1;</span>
    }

    /**
     * Returns the first tab index with a given &lt;code&gt;icon&lt;/code&gt;,
     * or -1 if no tab has this icon.
     *
     * @param icon the icon for the tab
     * @return the first tab index which matches &lt;code&gt;icon&lt;/code&gt;,
     *          or -1 if no tab has this icon
     */
    public int indexOfTab(Icon icon) {
<span class="nc bnc" id="L1699" title="All 2 branches missed.">        for(int i = 0; i &lt; getTabCount(); i++) {</span>
<span class="nc" id="L1700">            Icon tabIcon = getIconAt(i);</span>
<span class="nc bnc" id="L1701" title="All 8 branches missed.">            if ((tabIcon != null &amp;&amp; tabIcon.equals(icon)) ||</span>
                (tabIcon == null &amp;&amp; tabIcon == icon)) {
<span class="nc" id="L1703">                return i;</span>
            }
        }
<span class="nc" id="L1706">        return -1;</span>
    }

    /**
     * Returns the index of the tab for the specified component.
     * Returns -1 if there is no tab for this component.
     *
     * @param component the component for the tab
     * @return the first tab which matches this component, or -1
     *          if there is no tab for this component
     */
    public int indexOfComponent(Component component) {
<span class="nc bnc" id="L1718" title="All 2 branches missed.">        for(int i = 0; i &lt; getTabCount(); i++) {</span>
<span class="nc" id="L1719">            Component c = getComponentAt(i);</span>
<span class="nc bnc" id="L1720" title="All 8 branches missed.">            if ((c != null &amp;&amp; c.equals(component)) ||</span>
                (c == null &amp;&amp; c == component)) {
<span class="nc" id="L1722">                return i;</span>
            }
        }
<span class="nc" id="L1725">        return -1;</span>
    }

    /**
     * Returns the tab index corresponding to the tab whose bounds
     * intersect the specified location.  Returns -1 if no tab
     * intersects the location.
     *
     * @param x the x location relative to this tabbedpane
     * @param y the y location relative to this tabbedpane
     * @return the tab index which intersects the location, or
     *         -1 if no tab intersects the location
     * @since 1.4
     */
    public int indexAtLocation(int x, int y) {
<span class="nc bnc" id="L1740" title="All 2 branches missed.">        if (ui != null) {</span>
<span class="nc" id="L1741">            return ((TabbedPaneUI)ui).tabForCoordinate(this, x, y);</span>
        }
<span class="nc" id="L1743">        return -1;</span>
    }


    /**
     * Returns the tooltip text for the component determined by the
     * mouse event location.
     *
     * @param event  the &lt;code&gt;MouseEvent&lt;/code&gt; that tells where the
     *          cursor is lingering
     * @return the &lt;code&gt;String&lt;/code&gt; containing the tooltip text
     */
    public String getToolTipText(MouseEvent event) {
<span class="nc bnc" id="L1756" title="All 2 branches missed.">        if (ui != null) {</span>
<span class="nc" id="L1757">            int index = ((TabbedPaneUI)ui).tabForCoordinate(this, event.getX(), event.getY());</span>

<span class="nc bnc" id="L1759" title="All 2 branches missed.">            if (index != -1) {</span>
<span class="nc" id="L1760">                return pages.get(index).tip;</span>
            }
        }
<span class="nc" id="L1763">        return super.getToolTipText(event);</span>
    }

    private void checkIndex(int index) {
<span class="nc bnc" id="L1767" title="All 4 branches missed.">        if (index &lt; 0 || index &gt;= pages.size()) {</span>
<span class="nc" id="L1768">            throw new IndexOutOfBoundsException(&quot;Index: &quot;+index+&quot;, Tab count: &quot;+pages.size());</span>
        }
<span class="nc" id="L1770">    }</span>


    /**
     * See &lt;code&gt;readObject&lt;/code&gt; and &lt;code&gt;writeObject&lt;/code&gt; in
     * &lt;code&gt;JComponent&lt;/code&gt; for more
     * information about serialization in Swing.
     */
    private void writeObject(ObjectOutputStream s) throws IOException {
<span class="nc" id="L1779">        s.defaultWriteObject();</span>
<span class="nc bnc" id="L1780" title="All 2 branches missed.">        if (getUIClassID().equals(uiClassID)) {</span>
<span class="nc" id="L1781">            byte count = JComponent.getWriteObjCounter(this);</span>
<span class="nc" id="L1782">            JComponent.setWriteObjCounter(this, --count);</span>
<span class="nc bnc" id="L1783" title="All 4 branches missed.">            if (count == 0 &amp;&amp; ui != null) {</span>
<span class="nc" id="L1784">                ui.installUI(this);</span>
            }
        }
<span class="nc" id="L1787">    }</span>

    /* Called from the &lt;code&gt;JComponent&lt;/code&gt;'s
     * &lt;code&gt;EnableSerializationFocusListener&lt;/code&gt; to
     * do any Swing-specific pre-serialization configuration.
     */
    void compWriteObjectNotify() {
<span class="nc" id="L1794">        super.compWriteObjectNotify();</span>
        // If ToolTipText != null, then the tooltip has already been
        // unregistered by JComponent.compWriteObjectNotify()
<span class="nc bnc" id="L1797" title="All 4 branches missed.">        if (getToolTipText() == null &amp;&amp; haveRegistered) {</span>
<span class="nc" id="L1798">            ToolTipManager.sharedInstance().unregisterComponent(this);</span>
        }
<span class="nc" id="L1800">    }</span>

    /**
     * See &lt;code&gt;readObject&lt;/code&gt; and &lt;code&gt;writeObject&lt;/code&gt; in
     * &lt;code&gt;JComponent&lt;/code&gt; for more
     * information about serialization in Swing.
     */
    private void readObject(ObjectInputStream s)
        throws IOException, ClassNotFoundException
    {
<span class="nc" id="L1810">        s.defaultReadObject();</span>
<span class="nc bnc" id="L1811" title="All 4 branches missed.">        if ((ui != null) &amp;&amp; (getUIClassID().equals(uiClassID))) {</span>
<span class="nc" id="L1812">            ui.installUI(this);</span>
        }
        // If ToolTipText != null, then the tooltip has already been
        // registered by JComponent.readObject()
<span class="nc bnc" id="L1816" title="All 4 branches missed.">        if (getToolTipText() == null &amp;&amp; haveRegistered) {</span>
<span class="nc" id="L1817">            ToolTipManager.sharedInstance().registerComponent(this);</span>
        }
<span class="nc" id="L1819">    }</span>


    /**
     * Returns a string representation of this &lt;code&gt;JTabbedPane&lt;/code&gt;.
     * This method
     * is intended to be used only for debugging purposes, and the
     * content and format of the returned string may vary between
     * implementations. The returned string may be empty but may not
     * be &lt;code&gt;null&lt;/code&gt;.
     *
     * @return  a string representation of this JTabbedPane.
     */
    protected String paramString() {
        String tabPlacementString;
<span class="nc bnc" id="L1834" title="All 2 branches missed.">        if (tabPlacement == TOP) {</span>
<span class="nc" id="L1835">            tabPlacementString = &quot;TOP&quot;;</span>
<span class="nc bnc" id="L1836" title="All 2 branches missed.">        } else if (tabPlacement == BOTTOM) {</span>
<span class="nc" id="L1837">            tabPlacementString = &quot;BOTTOM&quot;;</span>
<span class="nc bnc" id="L1838" title="All 2 branches missed.">        } else if (tabPlacement == LEFT) {</span>
<span class="nc" id="L1839">            tabPlacementString = &quot;LEFT&quot;;</span>
<span class="nc bnc" id="L1840" title="All 2 branches missed.">        } else if (tabPlacement == RIGHT) {</span>
<span class="nc" id="L1841">            tabPlacementString = &quot;RIGHT&quot;;</span>
<span class="nc" id="L1842">        } else tabPlacementString = &quot;&quot;;</span>
<span class="nc bnc" id="L1843" title="All 2 branches missed.">        String haveRegisteredString = (haveRegistered ?</span>
                                       &quot;true&quot; : &quot;false&quot;);

<span class="nc" id="L1846">        return super.paramString() +</span>
        &quot;,haveRegistered=&quot; + haveRegisteredString +
        &quot;,tabPlacement=&quot; + tabPlacementString;
    }

/////////////////
// Accessibility support
////////////////

    /**
     * Gets the AccessibleContext associated with this JTabbedPane.
     * For tabbed panes, the AccessibleContext takes the form of an
     * AccessibleJTabbedPane.
     * A new AccessibleJTabbedPane instance is created if necessary.
     *
     * @return an AccessibleJTabbedPane that serves as the
     *         AccessibleContext of this JTabbedPane
     */
    public AccessibleContext getAccessibleContext() {
<span class="nc bnc" id="L1865" title="All 2 branches missed.">        if (accessibleContext == null) {</span>
<span class="nc" id="L1866">            accessibleContext = new AccessibleJTabbedPane();</span>

            // initialize AccessibleContext for the existing pages
<span class="nc" id="L1869">            int count = getTabCount();</span>
<span class="nc bnc" id="L1870" title="All 2 branches missed.">            for (int i = 0; i &lt; count; i++) {</span>
<span class="nc" id="L1871">                pages.get(i).initAccessibleContext();</span>
            }
        }
<span class="nc" id="L1874">        return accessibleContext;</span>
    }

    /**
     * This class implements accessibility support for the
     * &lt;code&gt;JTabbedPane&lt;/code&gt; class.  It provides an implementation of the
     * Java Accessibility API appropriate to tabbed pane user-interface
     * elements.
     * &lt;p&gt;
     * &lt;strong&gt;Warning:&lt;/strong&gt;
     * Serialized objects of this class will not be compatible with
     * future Swing releases. The current serialization support is
     * appropriate for short term storage or RMI between applications running
     * the same version of Swing.  As of 1.4, support for long term storage
     * of all JavaBeans&amp;trade;
     * has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
     * Please see {@link java.beans.XMLEncoder}.
     */
    protected class AccessibleJTabbedPane extends AccessibleJComponent
        implements AccessibleSelection, ChangeListener {

        /**
         * Returns the accessible name of this object, or {@code null} if
         * there is no accessible name.
         *
         * @return the accessible name of this object, nor {@code null}.
         * @since 1.6
         */
        public String getAccessibleName() {
<span class="nc bnc" id="L1903" title="All 2 branches missed.">            if (accessibleName != null) {</span>
<span class="nc" id="L1904">                return accessibleName;</span>
            }

<span class="nc" id="L1907">            String cp = (String)getClientProperty(AccessibleContext.ACCESSIBLE_NAME_PROPERTY);</span>

<span class="nc bnc" id="L1909" title="All 2 branches missed.">            if (cp != null) {</span>
<span class="nc" id="L1910">                return cp;</span>
            }

<span class="nc" id="L1913">            int index = getSelectedIndex();</span>

<span class="nc bnc" id="L1915" title="All 2 branches missed.">            if (index &gt;= 0) {</span>
<span class="nc" id="L1916">                return pages.get(index).getAccessibleName();</span>
            }

<span class="nc" id="L1919">            return super.getAccessibleName();</span>
        }

        /**
         *  Constructs an AccessibleJTabbedPane
         */
<span class="nc" id="L1925">        public AccessibleJTabbedPane() {</span>
<span class="nc" id="L1926">            super();</span>
<span class="nc" id="L1927">            JTabbedPane.this.model.addChangeListener(this);</span>
<span class="nc" id="L1928">        }</span>

        public void stateChanged(ChangeEvent e) {
<span class="nc" id="L1931">            Object o = e.getSource();</span>
<span class="nc" id="L1932">            firePropertyChange(AccessibleContext.ACCESSIBLE_SELECTION_PROPERTY,</span>
                               null, o);
<span class="nc" id="L1934">        }</span>

        /**
         * Get the role of this object.
         *
         * @return an instance of AccessibleRole describing the role of
         *          the object
         */
        public AccessibleRole getAccessibleRole() {
<span class="nc" id="L1943">            return AccessibleRole.PAGE_TAB_LIST;</span>
        }

        /**
         * Returns the number of accessible children in the object.
         *
         * @return the number of accessible children in the object.
         */
        public int getAccessibleChildrenCount() {
<span class="nc" id="L1952">            return getTabCount();</span>
        }

        /**
         * Return the specified Accessible child of the object.
         *
         * @param i zero-based index of child
         * @return the Accessible child of the object
         * @exception IllegalArgumentException if index is out of bounds
         */
        public Accessible getAccessibleChild(int i) {
<span class="nc bnc" id="L1963" title="All 4 branches missed.">            if (i &lt; 0 || i &gt;= getTabCount()) {</span>
<span class="nc" id="L1964">                return null;</span>
            }
<span class="nc" id="L1966">            return pages.get(i);</span>
        }

        /**
         * Gets the &lt;code&gt;AccessibleSelection&lt;/code&gt; associated with
         * this object.  In the implementation of the Java
         * Accessibility API for this class,
         * returns this object, which is responsible for implementing the
         * &lt;code&gt;AccessibleSelection&lt;/code&gt; interface on behalf of itself.
         *
         * @return this object
         */
        public AccessibleSelection getAccessibleSelection() {
<span class="nc" id="L1979">           return this;</span>
        }

        /**
         * Returns the &lt;code&gt;Accessible&lt;/code&gt; child contained at
         * the local coordinate &lt;code&gt;Point&lt;/code&gt;, if one exists.
         * Otherwise returns the currently selected tab.
         *
         * @return the &lt;code&gt;Accessible&lt;/code&gt; at the specified
         *    location, if it exists
         */
        public Accessible getAccessibleAt(Point p) {
<span class="nc" id="L1991">            int tab = ((TabbedPaneUI) ui).tabForCoordinate(JTabbedPane.this,</span>
                                                           p.x, p.y);
<span class="nc bnc" id="L1993" title="All 2 branches missed.">            if (tab == -1) {</span>
<span class="nc" id="L1994">                tab = getSelectedIndex();</span>
            }
<span class="nc" id="L1996">            return getAccessibleChild(tab);</span>
        }

        public int getAccessibleSelectionCount() {
<span class="nc" id="L2000">            return 1;</span>
        }

        public Accessible getAccessibleSelection(int i) {
<span class="nc" id="L2004">            int index = getSelectedIndex();</span>
<span class="nc bnc" id="L2005" title="All 2 branches missed.">            if (index == -1) {</span>
<span class="nc" id="L2006">                return null;</span>
            }
<span class="nc" id="L2008">            return pages.get(index);</span>
        }

        public boolean isAccessibleChildSelected(int i) {
<span class="nc bnc" id="L2012" title="All 2 branches missed.">            return (i == getSelectedIndex());</span>
        }

        public void addAccessibleSelection(int i) {
<span class="nc" id="L2016">           setSelectedIndex(i);</span>
<span class="nc" id="L2017">        }</span>

        public void removeAccessibleSelection(int i) {
           // can't do
<span class="nc" id="L2021">        }</span>

        public void clearAccessibleSelection() {
           // can't do
<span class="nc" id="L2025">        }</span>

        public void selectAllAccessibleSelection() {
           // can't do
<span class="nc" id="L2029">        }</span>
    }

    private class Page extends AccessibleContext
        implements Serializable, Accessible, AccessibleComponent {
        String title;
        Color background;
        Color foreground;
        Icon icon;
        Icon disabledIcon;
        JTabbedPane parent;
        Component component;
        String tip;
<span class="nc" id="L2042">        boolean enabled = true;</span>
        boolean needsUIUpdate;
<span class="nc" id="L2044">        int mnemonic = -1;</span>
<span class="nc" id="L2045">        int mnemonicIndex = -1;</span>
        Component tabComponent;

        Page(JTabbedPane parent,
<span class="nc" id="L2049">             String title, Icon icon, Icon disabledIcon, Component component, String tip) {</span>
<span class="nc" id="L2050">            this.title = title;</span>
<span class="nc" id="L2051">            this.icon = icon;</span>
<span class="nc" id="L2052">            this.disabledIcon = disabledIcon;</span>
<span class="nc" id="L2053">            this.parent = parent;</span>
<span class="nc" id="L2054">            this.setAccessibleParent(parent);</span>
<span class="nc" id="L2055">            this.component = component;</span>
<span class="nc" id="L2056">            this.tip = tip;</span>

<span class="nc" id="L2058">            initAccessibleContext();</span>
<span class="nc" id="L2059">        }</span>

        /*
         * initializes the AccessibleContext for the page
         */
        void initAccessibleContext() {
<span class="nc bnc" id="L2065" title="All 4 branches missed.">            if (JTabbedPane.this.accessibleContext != null &amp;&amp;</span>
                component instanceof Accessible) {
                /*
                 * Do initialization if the AccessibleJTabbedPane
                 * has been instantiated. We do not want to load
                 * Accessibility classes unnecessarily.
                 */
                AccessibleContext ac;
<span class="nc" id="L2073">                ac = component.getAccessibleContext();</span>
<span class="nc bnc" id="L2074" title="All 2 branches missed.">                if (ac != null) {</span>
<span class="nc" id="L2075">                    ac.setAccessibleParent(this);</span>
                }
            }
<span class="nc" id="L2078">        }</span>

        void setMnemonic(int mnemonic) {
<span class="nc" id="L2081">            this.mnemonic = mnemonic;</span>
<span class="nc" id="L2082">            updateDisplayedMnemonicIndex();</span>
<span class="nc" id="L2083">        }</span>

        int getMnemonic() {
<span class="nc" id="L2086">            return mnemonic;</span>
        }

        /*
         * Sets the page displayed mnemonic index
         */
        void setDisplayedMnemonicIndex(int mnemonicIndex) {
<span class="nc bnc" id="L2093" title="All 2 branches missed.">            if (this.mnemonicIndex != mnemonicIndex) {</span>
<span class="nc bnc" id="L2094" title="All 6 branches missed.">                if (mnemonicIndex != -1 &amp;&amp; (title == null ||</span>
                        mnemonicIndex &lt; 0 ||
<span class="nc bnc" id="L2096" title="All 2 branches missed.">                        mnemonicIndex &gt;= title.length())) {</span>
<span class="nc" id="L2097">                    throw new IllegalArgumentException(</span>
                                &quot;Invalid mnemonic index: &quot; + mnemonicIndex);
                }
<span class="nc" id="L2100">                this.mnemonicIndex = mnemonicIndex;</span>
<span class="nc" id="L2101">                JTabbedPane.this.firePropertyChange(&quot;displayedMnemonicIndexAt&quot;,</span>
                                                    null, null);
            }
<span class="nc" id="L2104">        }</span>

        /*
         * Returns the page displayed mnemonic index
         */
        int getDisplayedMnemonicIndex() {
<span class="nc" id="L2110">            return this.mnemonicIndex;</span>
        }

        void updateDisplayedMnemonicIndex() {
<span class="nc" id="L2114">            setDisplayedMnemonicIndex(</span>
<span class="nc" id="L2115">                SwingUtilities.findDisplayedMnemonicIndex(title, mnemonic));</span>
<span class="nc" id="L2116">        }</span>

        /////////////////
        // Accessibility support
        ////////////////

        public AccessibleContext getAccessibleContext() {
<span class="nc" id="L2123">            return this;</span>
        }


        // AccessibleContext methods

        public String getAccessibleName() {
<span class="nc bnc" id="L2130" title="All 2 branches missed.">            if (accessibleName != null) {</span>
<span class="nc" id="L2131">                return accessibleName;</span>
<span class="nc bnc" id="L2132" title="All 2 branches missed.">            } else if (title != null) {</span>
<span class="nc" id="L2133">                return title;</span>
            }
<span class="nc" id="L2135">            return null;</span>
        }

        public String getAccessibleDescription() {
<span class="nc bnc" id="L2139" title="All 2 branches missed.">            if (accessibleDescription != null) {</span>
<span class="nc" id="L2140">                return accessibleDescription;</span>
<span class="nc bnc" id="L2141" title="All 2 branches missed.">            } else if (tip != null) {</span>
<span class="nc" id="L2142">                return tip;</span>
            }
<span class="nc" id="L2144">            return null;</span>
        }

        public AccessibleRole getAccessibleRole() {
<span class="nc" id="L2148">            return AccessibleRole.PAGE_TAB;</span>
        }

        public AccessibleStateSet getAccessibleStateSet() {
            AccessibleStateSet states;
<span class="nc" id="L2153">            states = parent.getAccessibleContext().getAccessibleStateSet();</span>
<span class="nc" id="L2154">            states.add(AccessibleState.SELECTABLE);</span>
<span class="nc" id="L2155">            int i = parent.indexOfTab(title);</span>
<span class="nc bnc" id="L2156" title="All 2 branches missed.">            if (i == parent.getSelectedIndex()) {</span>
<span class="nc" id="L2157">                states.add(AccessibleState.SELECTED);</span>
            }
<span class="nc" id="L2159">            return states;</span>
        }

        public int getAccessibleIndexInParent() {
<span class="nc" id="L2163">            return parent.indexOfTab(title);</span>
        }

        public int getAccessibleChildrenCount() {
<span class="nc bnc" id="L2167" title="All 2 branches missed.">            if (component instanceof Accessible) {</span>
<span class="nc" id="L2168">                return 1;</span>
            } else {
<span class="nc" id="L2170">                return 0;</span>
            }
        }

        public Accessible getAccessibleChild(int i) {
<span class="nc bnc" id="L2175" title="All 2 branches missed.">            if (component instanceof Accessible) {</span>
<span class="nc" id="L2176">                return (Accessible) component;</span>
            } else {
<span class="nc" id="L2178">                return null;</span>
            }
        }

        public Locale getLocale() {
<span class="nc" id="L2183">            return parent.getLocale();</span>
        }

        public AccessibleComponent getAccessibleComponent() {
<span class="nc" id="L2187">            return this;</span>
        }


        // AccessibleComponent methods

        public Color getBackground() {
<span class="nc bnc" id="L2194" title="All 2 branches missed.">            return background != null? background : parent.getBackground();</span>
        }

        public void setBackground(Color c) {
<span class="nc" id="L2198">            background = c;</span>
<span class="nc" id="L2199">        }</span>

        public Color getForeground() {
<span class="nc bnc" id="L2202" title="All 2 branches missed.">            return foreground != null? foreground : parent.getForeground();</span>
        }

        public void setForeground(Color c) {
<span class="nc" id="L2206">            foreground = c;</span>
<span class="nc" id="L2207">        }</span>

        public Cursor getCursor() {
<span class="nc" id="L2210">            return parent.getCursor();</span>
        }

        public void setCursor(Cursor c) {
<span class="nc" id="L2214">            parent.setCursor(c);</span>
<span class="nc" id="L2215">        }</span>

        public Font getFont() {
<span class="nc" id="L2218">            return parent.getFont();</span>
        }

        public void setFont(Font f) {
<span class="nc" id="L2222">            parent.setFont(f);</span>
<span class="nc" id="L2223">        }</span>

        public FontMetrics getFontMetrics(Font f) {
<span class="nc" id="L2226">            return parent.getFontMetrics(f);</span>
        }

        public boolean isEnabled() {
<span class="nc" id="L2230">            return enabled;</span>
        }

        public void setEnabled(boolean b) {
<span class="nc" id="L2234">            enabled = b;</span>
<span class="nc" id="L2235">        }</span>

        public boolean isVisible() {
<span class="nc" id="L2238">            return parent.isVisible();</span>
        }

        public void setVisible(boolean b) {
<span class="nc" id="L2242">            parent.setVisible(b);</span>
<span class="nc" id="L2243">        }</span>

        public boolean isShowing() {
<span class="nc" id="L2246">            return parent.isShowing();</span>
        }

        public boolean contains(Point p) {
<span class="nc" id="L2250">            Rectangle r = getBounds();</span>
<span class="nc" id="L2251">            return r.contains(p);</span>
        }

        public Point getLocationOnScreen() {
<span class="nc" id="L2255">             Point parentLocation = parent.getLocationOnScreen();</span>
<span class="nc" id="L2256">             Point componentLocation = getLocation();</span>
<span class="nc" id="L2257">             componentLocation.translate(parentLocation.x, parentLocation.y);</span>
<span class="nc" id="L2258">             return componentLocation;</span>
        }

        public Point getLocation() {
<span class="nc" id="L2262">             Rectangle r = getBounds();</span>
<span class="nc" id="L2263">             return new Point(r.x, r.y);</span>
        }

        public void setLocation(Point p) {
            // do nothing
<span class="nc" id="L2268">        }</span>

        public Rectangle getBounds() {
<span class="nc" id="L2271">            return parent.getUI().getTabBounds(parent,</span>
<span class="nc" id="L2272">                                               parent.indexOfTab(title));</span>
        }

        public void setBounds(Rectangle r) {
            // do nothing
<span class="nc" id="L2277">        }</span>

        public Dimension getSize() {
<span class="nc" id="L2280">            Rectangle r = getBounds();</span>
<span class="nc" id="L2281">            return new Dimension(r.width, r.height);</span>
        }

        public void setSize(Dimension d) {
            // do nothing
<span class="nc" id="L2286">        }</span>

        public Accessible getAccessibleAt(Point p) {
<span class="nc bnc" id="L2289" title="All 2 branches missed.">            if (component instanceof Accessible) {</span>
<span class="nc" id="L2290">                return (Accessible) component;</span>
            } else {
<span class="nc" id="L2292">                return null;</span>
            }
        }

        public boolean isFocusTraversable() {
<span class="nc" id="L2297">            return false;</span>
        }

        public void requestFocus() {
            // do nothing
<span class="nc" id="L2302">        }</span>

        public void addFocusListener(FocusListener l) {
            // do nothing
<span class="nc" id="L2306">        }</span>

        public void removeFocusListener(FocusListener l) {
            // do nothing
<span class="nc" id="L2310">        }</span>

        // TIGER - 4732339
        /**
         * Returns an AccessibleIcon
         *
         * @return the enabled icon if one exists and the page
         * is enabled. Otherwise, returns the disabled icon if
         * one exists and the page is disabled.  Otherwise, null
         * is returned.
         */
        public AccessibleIcon [] getAccessibleIcon() {
<span class="nc" id="L2322">            AccessibleIcon accessibleIcon = null;</span>
<span class="nc bnc" id="L2323" title="All 4 branches missed.">            if (enabled &amp;&amp; icon instanceof ImageIcon) {</span>
<span class="nc" id="L2324">                AccessibleContext ac =</span>
<span class="nc" id="L2325">                    ((ImageIcon)icon).getAccessibleContext();</span>
<span class="nc" id="L2326">                accessibleIcon = (AccessibleIcon)ac;</span>
<span class="nc bnc" id="L2327" title="All 4 branches missed.">            } else if (!enabled &amp;&amp; disabledIcon instanceof ImageIcon) {</span>
<span class="nc" id="L2328">                AccessibleContext ac =</span>
<span class="nc" id="L2329">                    ((ImageIcon)disabledIcon).getAccessibleContext();</span>
<span class="nc" id="L2330">                accessibleIcon = (AccessibleIcon)ac;</span>
            }
<span class="nc bnc" id="L2332" title="All 2 branches missed.">            if (accessibleIcon != null) {</span>
<span class="nc" id="L2333">                AccessibleIcon [] returnIcons = new AccessibleIcon[1];</span>
<span class="nc" id="L2334">                returnIcons[0] = accessibleIcon;</span>
<span class="nc" id="L2335">                return returnIcons;</span>
            } else {
<span class="nc" id="L2337">                return null;</span>
            }
        }
    }

    /**
    * Sets the component that is responsible for rendering the
    * title for the specified tab.  A null value means
    * &lt;code&gt;JTabbedPane&lt;/code&gt; will render the title and/or icon for
    * the specified tab.  A non-null value means the component will
    * render the title and &lt;code&gt;JTabbedPane&lt;/code&gt; will not render
    * the title and/or icon.
    * &lt;p&gt;
    * Note: The component must not be one that the developer has
    *       already added to the tabbed pane.
    *
    * @param index the tab index where the component should be set
    * @param component the component to render the title for the
    *                  specified tab
    * @exception IndexOutOfBoundsException if index is out of range
    *            {@code (index &lt; 0 || index &gt;= tab count)}
    * @exception IllegalArgumentException if component has already been
    *            added to this &lt;code&gt;JTabbedPane&lt;/code&gt;
    *
    * @see #getTabComponentAt
    * @beaninfo
    *    preferred: true
    *    attribute: visualUpdate true
    *  description: The tab component at the specified tab index.
    * @since 1.6
    */
    public void setTabComponentAt(int index, Component component) {
<span class="nc bnc" id="L2369" title="All 4 branches missed.">        if (component != null &amp;&amp; indexOfComponent(component) != -1) {</span>
<span class="nc" id="L2370">            throw new IllegalArgumentException(&quot;Component is already added to this JTabbedPane&quot;);</span>
        }
<span class="nc" id="L2372">        Component oldValue = getTabComponentAt(index);</span>
<span class="nc bnc" id="L2373" title="All 2 branches missed.">        if (component != oldValue) {</span>
<span class="nc" id="L2374">            int tabComponentIndex = indexOfTabComponent(component);</span>
<span class="nc bnc" id="L2375" title="All 2 branches missed.">            if (tabComponentIndex != -1) {</span>
<span class="nc" id="L2376">                setTabComponentAt(tabComponentIndex, null);</span>
            }
<span class="nc" id="L2378">            pages.get(index).tabComponent = component;</span>
<span class="nc" id="L2379">            firePropertyChange(&quot;indexForTabComponent&quot;, -1, index);</span>
        }
<span class="nc" id="L2381">    }</span>

    /**
     * Returns the tab component at &lt;code&gt;index&lt;/code&gt;.
     *
     * @param index  the index of the item being queried
     * @return the tab component at &lt;code&gt;index&lt;/code&gt;
     * @exception IndexOutOfBoundsException if index is out of range
     *            {@code (index &lt; 0 || index &gt;= tab count)}
     *
     * @see #setTabComponentAt
     * @since 1.6
     */
    public Component getTabComponentAt(int index) {
<span class="nc" id="L2395">        return pages.get(index).tabComponent;</span>
    }

    /**
     * Returns the index of the tab for the specified tab component.
     * Returns -1 if there is no tab for this tab component.
     *
     * @param tabComponent the tab component for the tab
     * @return the first tab which matches this tab component, or -1
     *          if there is no tab for this tab component
     * @see #setTabComponentAt
     * @see #getTabComponentAt
     * @since 1.6
     */
     public int indexOfTabComponent(Component tabComponent) {
<span class="nc bnc" id="L2410" title="All 2 branches missed.">        for(int i = 0; i &lt; getTabCount(); i++) {</span>
<span class="nc" id="L2411">            Component c = getTabComponentAt(i);</span>
<span class="nc bnc" id="L2412" title="All 2 branches missed.">            if (c == tabComponent) {</span>
<span class="nc" id="L2413">                return i;</span>
            }
        }
<span class="nc" id="L2416">        return -1;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
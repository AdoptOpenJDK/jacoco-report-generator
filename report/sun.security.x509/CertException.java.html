<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>CertException.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JDK</a> &gt; <a href="index.html" class="el_package">sun.security.x509</a> &gt; <span class="el_source">CertException.java</span></div><h1>CertException.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 1996, 2004, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package sun.security.x509;

/**
 * CertException indicates one of a variety of certificate problems.
 *
 * @deprecated use one of Exceptions defined in the java.security.cert
 * package.
 *
 * @see java.security.Certificate
 *
 *
 * @author David Brownell
 */
@Deprecated
public class CertException extends SecurityException {

    private static final long serialVersionUID = 6930793039696446142L;

    // Zero is reserved.

    /** Indicates that the signature in the certificate is not valid. */
    public static final int verf_INVALID_SIG = 1;

    /** Indicates that the certificate was revoked, and so is invalid. */
    public static final int verf_INVALID_REVOKED = 2;

    /** Indicates that the certificate is not yet valid. */
    public static final int verf_INVALID_NOTBEFORE = 3;

    /** Indicates that the certificate has expired and so is not valid. */
    public static final int verf_INVALID_EXPIRED = 4;

    /** Indicates that a certificate authority in the certification
     * chain is not trusted. */
    public static final int verf_CA_UNTRUSTED = 5;

    /** Indicates that the certification chain is too long. */
    public static final int verf_CHAIN_LENGTH = 6;

    /** Indicates an error parsing the ASN.1/DER encoding of the certificate. */
    public static final int verf_PARSE_ERROR = 7;

    /** Indicates an error constructing a certificate or certificate chain. */
    public static final int err_CONSTRUCTION = 8;

    /** Indicates a problem with the public key */
    public static final int err_INVALID_PUBLIC_KEY = 9;

    /** Indicates a problem with the certificate version */
    public static final int err_INVALID_VERSION = 10;

    /** Indicates a problem with the certificate format */
    public static final int err_INVALID_FORMAT = 11;

    /** Indicates a problem with the certificate encoding */
    public static final int err_ENCODING = 12;

    // Private data members
    private int         verfCode;
    private String      moreData;


    /**
     * Constructs a certificate exception using an error code
     * (&lt;code&gt;verf_*&lt;/code&gt;) and a string describing the context
     * of the error.
     */
    public CertException(int code, String moredata)
<span class="nc" id="L94">    {</span>
<span class="nc" id="L95">        verfCode = code;</span>
<span class="nc" id="L96">        moreData = moredata;</span>
<span class="nc" id="L97">    }</span>

    /**
     * Constructs a certificate exception using just an error code,
     * without a string describing the context.
     */
    public CertException(int code)
<span class="nc" id="L104">    {</span>
<span class="nc" id="L105">        verfCode = code;</span>
<span class="nc" id="L106">    }</span>

    /**
     * Returns the error code with which the exception was created.
     */
<span class="nc" id="L111">    public int getVerfCode() { return verfCode; }</span>

    /**
     * Returns a string describing the context in which the exception
     * was reported.
     */
<span class="nc" id="L117">    public String getMoreData() { return moreData; }</span>

    /**
     * Return a string corresponding to the error code used to create
     * this exception.
     */
    public String getVerfDescription()
    {
<span class="nc bnc" id="L125" title="All 13 branches missed.">        switch (verfCode) {</span>
        case verf_INVALID_SIG:
<span class="nc" id="L127">            return &quot;The signature in the certificate is not valid.&quot;;</span>
        case verf_INVALID_REVOKED:
<span class="nc" id="L129">            return &quot;The certificate has been revoked.&quot;;</span>
        case verf_INVALID_NOTBEFORE:
<span class="nc" id="L131">            return &quot;The certificate is not yet valid.&quot;;</span>
        case verf_INVALID_EXPIRED:
<span class="nc" id="L133">            return &quot;The certificate has expired.&quot;;</span>
        case verf_CA_UNTRUSTED:
<span class="nc" id="L135">            return &quot;The Authority which issued the certificate is not trusted.&quot;;</span>
        case verf_CHAIN_LENGTH:
<span class="nc" id="L137">            return &quot;The certificate path to a trusted authority is too long.&quot;;</span>
        case verf_PARSE_ERROR:
<span class="nc" id="L139">            return &quot;The certificate could not be parsed.&quot;;</span>
        case err_CONSTRUCTION:
<span class="nc" id="L141">            return &quot;There was an error when constructing the certificate.&quot;;</span>
        case err_INVALID_PUBLIC_KEY:
<span class="nc" id="L143">            return &quot;The public key was not in the correct format.&quot;;</span>
        case err_INVALID_VERSION:
<span class="nc" id="L145">            return &quot;The certificate has an invalid version number.&quot;;</span>
        case err_INVALID_FORMAT:
<span class="nc" id="L147">            return &quot;The certificate has an invalid format.&quot;;</span>
        case err_ENCODING:
<span class="nc" id="L149">            return &quot;Problem encountered while encoding the data.&quot;;</span>

        default:
<span class="nc" id="L152">            return &quot;Unknown code:  &quot; + verfCode;</span>
        }
    }

    /**
     * Returns a string describing the certificate exception.
     */
    public String toString()
    {
<span class="nc" id="L161">        return &quot;[Certificate Exception: &quot; + getMessage() + &quot;]&quot;;</span>
    }

    /**
     * Returns a string describing the certificate exception.
     */
    public String getMessage()
    {
<span class="nc bnc" id="L169" title="All 2 branches missed.">        return getVerfDescription()</span>
                + ( (moreData != null)
                    ? ( &quot;\n  (&quot; + moreData + &quot;)&quot; ) : &quot;&quot; );
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Paths.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Foo</a> &gt; <a href="index.html" class="el_package">java.nio.file</a> &gt; <span class="el_source">Paths.java</span></div><h1>Paths.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2007, 2011, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package java.nio.file;

import java.nio.file.spi.FileSystemProvider;
import java.net.URI;

/**
 * This class consists exclusively of static methods that return a {@link Path}
 * by converting a path string or {@link URI}.
 *
 * @since 1.7
 */

public final class Paths {
<span class="nc" id="L39">    private Paths() { }</span>

    /**
     * Converts a path string, or a sequence of strings that when joined form
     * a path string, to a {@code Path}. If {@code more} does not specify any
     * elements then the value of the {@code first} parameter is the path string
     * to convert. If {@code more} specifies one or more elements then each
     * non-empty string, including {@code first}, is considered to be a sequence
     * of name elements (see {@link Path}) and is joined to form a path string.
     * The details as to how the Strings are joined is provider specific but
     * typically they will be joined using the {@link FileSystem#getSeparator
     * name-separator} as the separator. For example, if the name separator is
     * &quot;{@code /}&quot; and {@code getPath(&quot;/foo&quot;,&quot;bar&quot;,&quot;gus&quot;)} is invoked, then the
     * path string {@code &quot;/foo/bar/gus&quot;} is converted to a {@code Path}.
     * A {@code Path} representing an empty path is returned if {@code first}
     * is the empty string and {@code more} does not contain any non-empty
     * strings.
     *
     * &lt;p&gt; The {@code Path} is obtained by invoking the {@link FileSystem#getPath
     * getPath} method of the {@link FileSystems#getDefault default} {@link
     * FileSystem}.
     *
     * &lt;p&gt; Note that while this method is very convenient, using it will imply
     * an assumed reference to the default {@code FileSystem} and limit the
     * utility of the calling code. Hence it should not be used in library code
     * intended for flexible reuse. A more flexible alternative is to use an
     * existing {@code Path} instance as an anchor, such as:
     * &lt;pre&gt;
     *     Path dir = ...
     *     Path path = dir.resolve(&quot;file&quot;);
     * &lt;/pre&gt;
     *
     * @param   first
     *          the path string or initial part of the path string
     * @param   more
     *          additional strings to be joined to form the path string
     *
     * @return  the resulting {@code Path}
     *
     * @throws  InvalidPathException
     *          if the path string cannot be converted to a {@code Path}
     *
     * @see FileSystem#getPath
     */
    public static Path get(String first, String... more) {
<span class="fc" id="L84">        return FileSystems.getDefault().getPath(first, more);</span>
    }

    /**
     * Converts the given URI to a {@link Path} object.
     *
     * &lt;p&gt; This method iterates over the {@link FileSystemProvider#installedProviders()
     * installed} providers to locate the provider that is identified by the
     * URI {@link URI#getScheme scheme} of the given URI. URI schemes are
     * compared without regard to case. If the provider is found then its {@link
     * FileSystemProvider#getPath getPath} method is invoked to convert the
     * URI.
     *
     * &lt;p&gt; In the case of the default provider, identified by the URI scheme
     * &quot;file&quot;, the given URI has a non-empty path component, and undefined query
     * and fragment components. Whether the authority component may be present
     * is platform specific. The returned {@code Path} is associated with the
     * {@link FileSystems#getDefault default} file system.
     *
     * &lt;p&gt; The default provider provides a similar &lt;em&gt;round-trip&lt;/em&gt; guarantee
     * to the {@link java.io.File} class. For a given {@code Path} &lt;i&gt;p&lt;/i&gt; it
     * is guaranteed that
     * &lt;blockquote&gt;&lt;tt&gt;
     * Paths.get(&lt;/tt&gt;&lt;i&gt;p&lt;/i&gt;&lt;tt&gt;.{@link Path#toUri() toUri}()).equals(&lt;/tt&gt;
     * &lt;i&gt;p&lt;/i&gt;&lt;tt&gt;.{@link Path#toAbsolutePath() toAbsolutePath}())&lt;/tt&gt;
     * &lt;/blockquote&gt;
     * so long as the original {@code Path}, the {@code URI}, and the new {@code
     * Path} are all created in (possibly different invocations of) the same
     * Java virtual machine. Whether other providers make any guarantees is
     * provider specific and therefore unspecified.
     *
     * @param   uri
     *          the URI to convert
     *
     * @return  the resulting {@code Path}
     *
     * @throws  IllegalArgumentException
     *          if preconditions on the {@code uri} parameter do not hold. The
     *          format of the URI is provider specific.
     * @throws  FileSystemNotFoundException
     *          The file system, identified by the URI, does not exist and
     *          cannot be created automatically, or the provider identified by
     *          the URI's scheme component is not installed
     * @throws  SecurityException
     *          if a security manager is installed and it denies an unspecified
     *          permission to access the file system
     */
    public static Path get(URI uri) {
<span class="fc" id="L132">        String scheme =  uri.getScheme();</span>
<span class="pc bpc" id="L133" title="1 of 2 branches missed.">        if (scheme == null)</span>
<span class="nc" id="L134">            throw new IllegalArgumentException(&quot;Missing scheme&quot;);</span>

        // check for default provider to avoid loading of installed providers
<span class="pc bpc" id="L137" title="1 of 2 branches missed.">        if (scheme.equalsIgnoreCase(&quot;file&quot;))</span>
<span class="fc" id="L138">            return FileSystems.getDefault().provider().getPath(uri);</span>

        // try to find provider
<span class="nc bnc" id="L141" title="All 2 branches missed.">        for (FileSystemProvider provider: FileSystemProvider.installedProviders()) {</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">            if (provider.getScheme().equalsIgnoreCase(scheme)) {</span>
<span class="nc" id="L143">                return provider.getPath(uri);</span>
            }
<span class="nc" id="L145">        }</span>

<span class="nc" id="L147">        throw new FileSystemNotFoundException(&quot;Provider \&quot;&quot; + scheme + &quot;\&quot; not installed&quot;);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>
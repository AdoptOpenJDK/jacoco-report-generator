<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>RoleInfo.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Foo</a> &gt; <a href="index.html" class="el_package">javax.management.relation</a> &gt; <span class="el_source">RoleInfo.java</span></div><h1>RoleInfo.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2000, 2006, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.management.relation;


import com.sun.jmx.mbeanserver.GetPropertyAction;

import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.ObjectStreamField;
import java.io.Serializable;
import java.security.AccessController;

import javax.management.MBeanServer;

import javax.management.NotCompliantMBeanException;

/**
 * A RoleInfo object summarises a role in a relation type.
 *
 * &lt;p&gt;The &lt;b&gt;serialVersionUID&lt;/b&gt; of this class is &lt;code&gt;2504952983494636987L&lt;/code&gt;.
 *
 * @since 1.5
 */
@SuppressWarnings(&quot;serial&quot;)  // serialVersionUID not constant
public class RoleInfo implements Serializable {

    // Serialization compatibility stuff:
    // Two serial forms are supported in this class. The selected form depends
    // on system property &quot;jmx.serial.form&quot;:
    //  - &quot;1.0&quot; for JMX 1.0
    //  - any other value for JMX 1.1 and higher
    //
    // Serial version for old serial form
    private static final long oldSerialVersionUID = 7227256952085334351L;
    //
    // Serial version for new serial form
    private static final long newSerialVersionUID = 2504952983494636987L;
    //
    // Serializable fields in old serial form
<span class="nc" id="L65">    private static final ObjectStreamField[] oldSerialPersistentFields =</span>
    {
      new ObjectStreamField(&quot;myName&quot;, String.class),
      new ObjectStreamField(&quot;myIsReadableFlg&quot;, boolean.class),
      new ObjectStreamField(&quot;myIsWritableFlg&quot;, boolean.class),
      new ObjectStreamField(&quot;myDescription&quot;, String.class),
      new ObjectStreamField(&quot;myMinDegree&quot;, int.class),
      new ObjectStreamField(&quot;myMaxDegree&quot;, int.class),
      new ObjectStreamField(&quot;myRefMBeanClassName&quot;, String.class)
    };
    //
    // Serializable fields in new serial form
<span class="nc" id="L77">    private static final ObjectStreamField[] newSerialPersistentFields =</span>
    {
      new ObjectStreamField(&quot;name&quot;, String.class),
      new ObjectStreamField(&quot;isReadable&quot;, boolean.class),
      new ObjectStreamField(&quot;isWritable&quot;, boolean.class),
      new ObjectStreamField(&quot;description&quot;, String.class),
      new ObjectStreamField(&quot;minDegree&quot;, int.class),
      new ObjectStreamField(&quot;maxDegree&quot;, int.class),
      new ObjectStreamField(&quot;referencedMBeanClassName&quot;, String.class)
    };
    //
    // Actual serial version and serial form
    private static final long serialVersionUID;
    /**
     * @serialField name String Role name
     * @serialField isReadable boolean Read access mode: &lt;code&gt;true&lt;/code&gt; if role is readable
     * @serialField isWritable boolean Write access mode: &lt;code&gt;true&lt;/code&gt; if role is writable
     * @serialField description String Role description
     * @serialField minDegree int Minimum degree (i.e. minimum number of referenced MBeans in corresponding role)
     * @serialField maxDegree int Maximum degree (i.e. maximum number of referenced MBeans in corresponding role)
     * @serialField referencedMBeanClassName String Name of class of MBean(s) expected to be referenced in corresponding role
     */
    private static final ObjectStreamField[] serialPersistentFields;
<span class="nc" id="L100">    private static boolean compat = false;</span>
    static {
        try {
<span class="nc" id="L103">            GetPropertyAction act = new GetPropertyAction(&quot;jmx.serial.form&quot;);</span>
<span class="nc" id="L104">            String form = AccessController.doPrivileged(act);</span>
<span class="nc bnc" id="L105" title="All 4 branches missed.">            compat = (form != null &amp;&amp; form.equals(&quot;1.0&quot;));</span>
<span class="nc" id="L106">        } catch (Exception e) {</span>
            // OK : Too bad, no compat with 1.0
<span class="nc" id="L108">        }</span>
<span class="nc bnc" id="L109" title="All 2 branches missed.">        if (compat) {</span>
<span class="nc" id="L110">            serialPersistentFields = oldSerialPersistentFields;</span>
<span class="nc" id="L111">            serialVersionUID = oldSerialVersionUID;</span>
        } else {
<span class="nc" id="L113">            serialPersistentFields = newSerialPersistentFields;</span>
<span class="nc" id="L114">            serialVersionUID = newSerialVersionUID;</span>
        }
<span class="nc" id="L116">    }</span>
    //
    // END Serialization compatibility stuff

    //
    // Public constants
    //

    /**
     * To specify an unlimited cardinality.
     */
    public static final int ROLE_CARDINALITY_INFINITY = -1;

    //
    // Private members
    //

    /**
     * @serial Role name
     */
<span class="nc" id="L136">    private String name = null;</span>

    /**
     * @serial Read access mode: &lt;code&gt;true&lt;/code&gt; if role is readable
     */
    private boolean isReadable;

    /**
     * @serial Write access mode: &lt;code&gt;true&lt;/code&gt; if role is writable
     */
    private boolean isWritable;

    /**
     * @serial Role description
     */
<span class="nc" id="L151">    private String description = null;</span>

    /**
     * @serial Minimum degree (i.e. minimum number of referenced MBeans in corresponding role)
     */
    private int minDegree;

    /**
     * @serial Maximum degree (i.e. maximum number of referenced MBeans in corresponding role)
     */
    private int maxDegree;

    /**
     * @serial Name of class of MBean(s) expected to be referenced in corresponding role
     */
<span class="nc" id="L166">    private String referencedMBeanClassName = null;</span>

    //
    // Constructors
    //

    /**
     * Constructor.
     *
     * @param roleName  name of the role.
     * @param mbeanClassName  name of the class of MBean(s) expected to
     * be referenced in corresponding role.  If an MBean &lt;em&gt;M&lt;/em&gt; is in
     * this role, then the MBean server must return true for
     * {@link MBeanServer#isInstanceOf isInstanceOf(M, mbeanClassName)}.
     * @param read  flag to indicate if the corresponding role
     * can be read
     * @param write  flag to indicate if the corresponding role
     * can be set
     * @param min  minimum degree for role, i.e. minimum number of
     * MBeans to provide in corresponding role
     * Must be less than or equal to &lt;tt&gt;max&lt;/tt&gt;.
     * (ROLE_CARDINALITY_INFINITY for unlimited)
     * @param max  maximum degree for role, i.e. maximum number of
     * MBeans to provide in corresponding role
     * Must be greater than or equal to &lt;tt&gt;min&lt;/tt&gt;
     * (ROLE_CARDINALITY_INFINITY for unlimited)
     * @param descr  description of the role (can be null)
     *
     * @exception IllegalArgumentException  if null parameter
     * @exception InvalidRoleInfoException  if the minimum degree is
     * greater than the maximum degree.
     * @exception ClassNotFoundException As of JMX 1.2, this exception
     * can no longer be thrown.  It is retained in the declaration of
     * this class for compatibility with existing code.
     * @exception NotCompliantMBeanException  if the class mbeanClassName
     * is not a MBean class.
     */
    public RoleInfo(String roleName,
                    String mbeanClassName,
                    boolean read,
                    boolean write,
                    int min,
                    int max,
                    String descr)
    throws IllegalArgumentException,
           InvalidRoleInfoException,
           ClassNotFoundException,
<span class="nc" id="L213">           NotCompliantMBeanException {</span>

<span class="nc" id="L215">        init(roleName,</span>
             mbeanClassName,
             read,
             write,
             min,
             max,
             descr);
<span class="nc" id="L222">        return;</span>
    }

    /**
     * Constructor.
     *
     * @param roleName  name of the role
     * @param mbeanClassName  name of the class of MBean(s) expected to
     * be referenced in corresponding role.  If an MBean &lt;em&gt;M&lt;/em&gt; is in
     * this role, then the MBean server must return true for
     * {@link MBeanServer#isInstanceOf isInstanceOf(M, mbeanClassName)}.
     * @param read  flag to indicate if the corresponding role
     * can be read
     * @param write  flag to indicate if the corresponding role
     * can be set
     *
     * &lt;P&gt;Minimum and maximum degrees defaulted to 1.
     * &lt;P&gt;Description of role defaulted to null.
     *
     * @exception IllegalArgumentException  if null parameter
     * @exception ClassNotFoundException As of JMX 1.2, this exception
     * can no longer be thrown.  It is retained in the declaration of
     * this class for compatibility with existing code.
     * @exception NotCompliantMBeanException As of JMX 1.2, this
     * exception can no longer be thrown.  It is retained in the
     * declaration of this class for compatibility with existing code.
     */
    public RoleInfo(String roleName,
                    String mbeanClassName,
                    boolean read,
                    boolean write)
    throws IllegalArgumentException,
           ClassNotFoundException,
<span class="nc" id="L255">           NotCompliantMBeanException {</span>

        try {
<span class="nc" id="L258">            init(roleName,</span>
                 mbeanClassName,
                 read,
                 write,
                 1,
                 1,
                 null);
<span class="nc" id="L265">        } catch (InvalidRoleInfoException exc) {</span>
            // OK : Can never happen as the minimum
            //      degree equals the maximum degree.
<span class="nc" id="L268">        }</span>

<span class="nc" id="L270">        return;</span>
    }

    /**
     * Constructor.
     *
     * @param roleName  name of the role
     * @param mbeanClassName  name of the class of MBean(s) expected to
     * be referenced in corresponding role.  If an MBean &lt;em&gt;M&lt;/em&gt; is in
     * this role, then the MBean server must return true for
     * {@link MBeanServer#isInstanceOf isInstanceOf(M, mbeanClassName)}.
     *
     * &lt;P&gt;IsReadable and IsWritable defaulted to true.
     * &lt;P&gt;Minimum and maximum degrees defaulted to 1.
     * &lt;P&gt;Description of role defaulted to null.
     *
     * @exception IllegalArgumentException  if null parameter
     * @exception ClassNotFoundException As of JMX 1.2, this exception
     * can no longer be thrown.  It is retained in the declaration of
     * this class for compatibility with existing code.
     * @exception NotCompliantMBeanException As of JMX 1.2, this
     * exception can no longer be thrown.  It is retained in the
     * declaration of this class for compatibility with existing code.
      */
    public RoleInfo(String roleName,
                    String mbeanClassName)
    throws IllegalArgumentException,
           ClassNotFoundException,
<span class="nc" id="L298">           NotCompliantMBeanException {</span>

        try {
<span class="nc" id="L301">            init(roleName,</span>
                 mbeanClassName,
                 true,
                 true,
                 1,
                 1,
                 null);
<span class="nc" id="L308">        } catch (InvalidRoleInfoException exc) {</span>
            // OK : Can never happen as the minimum
            //      degree equals the maximum degree.
<span class="nc" id="L311">        }</span>

<span class="nc" id="L313">        return;</span>
    }

    /**
     * Copy constructor.
     *
     * @param roleInfo the &lt;tt&gt;RoleInfo&lt;/tt&gt; instance to be copied.
     *
     * @exception IllegalArgumentException  if null parameter
     */
    public RoleInfo(RoleInfo roleInfo)
<span class="nc" id="L324">        throws IllegalArgumentException {</span>

<span class="nc bnc" id="L326" title="All 2 branches missed.">        if (roleInfo == null) {</span>
            // Revisit [cebro] Localize message
<span class="nc" id="L328">            String excMsg = &quot;Invalid parameter.&quot;;</span>
<span class="nc" id="L329">            throw new IllegalArgumentException(excMsg);</span>
        }

        try {
<span class="nc" id="L333">            init(roleInfo.getName(),</span>
<span class="nc" id="L334">                 roleInfo.getRefMBeanClassName(),</span>
<span class="nc" id="L335">                 roleInfo.isReadable(),</span>
<span class="nc" id="L336">                 roleInfo.isWritable(),</span>
<span class="nc" id="L337">                 roleInfo.getMinDegree(),</span>
<span class="nc" id="L338">                 roleInfo.getMaxDegree(),</span>
<span class="nc" id="L339">                 roleInfo.getDescription());</span>
<span class="nc" id="L340">        } catch (InvalidRoleInfoException exc3) {</span>
            // OK : Can never happen as the minimum degree and the maximum
            //      degree were already checked at the time the roleInfo
            //      instance was created.
<span class="nc" id="L344">        }</span>
<span class="nc" id="L345">    }</span>

    //
    // Accessors
    //

    /**
     * Returns the name of the role.
     *
     * @return the name of the role.
     */
    public String getName() {
<span class="nc" id="L357">        return name;</span>
    }

    /**
     * Returns read access mode for the role (true if it is readable).
     *
     * @return true if the role is readable.
     */
    public boolean isReadable() {
<span class="nc" id="L366">        return isReadable;</span>
    }

    /**
     * Returns write access mode for the role (true if it is writable).
     *
     * @return true if the role is writable.
     */
    public boolean isWritable() {
<span class="nc" id="L375">        return isWritable;</span>
    }

    /**
     * Returns description text for the role.
     *
     * @return the description of the role.
     */
    public String getDescription() {
<span class="nc" id="L384">        return description;</span>
    }

    /**
     * Returns minimum degree for corresponding role reference.
     *
     * @return the minimum degree.
     */
    public int getMinDegree() {
<span class="nc" id="L393">        return minDegree;</span>
    }

    /**
     * Returns maximum degree for corresponding role reference.
     *
     * @return the maximum degree.
     */
    public int getMaxDegree() {
<span class="nc" id="L402">        return maxDegree;</span>
    }

    /**
     * &lt;p&gt;Returns name of type of MBean expected to be referenced in
     * corresponding role.&lt;/p&gt;
     *
     * @return the name of the referenced type.
     */
    public String getRefMBeanClassName() {
<span class="nc" id="L412">        return referencedMBeanClassName;</span>
    }

    /**
     * Returns true if the &lt;tt&gt;value&lt;/tt&gt; parameter is greater than or equal to
     * the expected minimum degree, false otherwise.
     *
     * @param value  the value to be checked
     *
     * @return true if greater than or equal to minimum degree, false otherwise.
     */
    public boolean checkMinDegree(int value) {
<span class="nc bnc" id="L424" title="All 6 branches missed.">        if (value &gt;= ROLE_CARDINALITY_INFINITY &amp;&amp;</span>
            (minDegree == ROLE_CARDINALITY_INFINITY
             || value &gt;= minDegree)) {
<span class="nc" id="L427">            return true;</span>
        } else {
<span class="nc" id="L429">            return false;</span>
        }
    }

    /**
     * Returns true if the &lt;tt&gt;value&lt;/tt&gt; parameter is lower than or equal to
     * the expected maximum degree, false otherwise.
     *
     * @param value  the value to be checked
     *
     * @return true if lower than or equal to maximum degree, false otherwise.
     */
    public boolean checkMaxDegree(int value) {
<span class="nc bnc" id="L442" title="All 8 branches missed.">        if (value &gt;= ROLE_CARDINALITY_INFINITY &amp;&amp;</span>
            (maxDegree == ROLE_CARDINALITY_INFINITY ||
             (value != ROLE_CARDINALITY_INFINITY &amp;&amp;
              value &lt;= maxDegree))) {
<span class="nc" id="L446">            return true;</span>
        } else {
<span class="nc" id="L448">            return false;</span>
        }
    }

    /**
     * Returns a string describing the role info.
     *
     * @return a description of the role info.
     */
    public String toString() {
<span class="nc" id="L458">        StringBuilder result = new StringBuilder();</span>
<span class="nc" id="L459">        result.append(&quot;role info name: &quot; + name);</span>
<span class="nc" id="L460">        result.append(&quot;; isReadable: &quot; + isReadable);</span>
<span class="nc" id="L461">        result.append(&quot;; isWritable: &quot; + isWritable);</span>
<span class="nc" id="L462">        result.append(&quot;; description: &quot; + description);</span>
<span class="nc" id="L463">        result.append(&quot;; minimum degree: &quot; + minDegree);</span>
<span class="nc" id="L464">        result.append(&quot;; maximum degree: &quot; + maxDegree);</span>
<span class="nc" id="L465">        result.append(&quot;; MBean class: &quot; + referencedMBeanClassName);</span>
<span class="nc" id="L466">        return result.toString();</span>
    }

    //
    // Misc
    //

    // Initialization
    private void init(String roleName,
                      String mbeanClassName,
                      boolean read,
                      boolean write,
                      int min,
                      int max,
                      String descr)
            throws IllegalArgumentException,
                   InvalidRoleInfoException {

<span class="nc bnc" id="L484" title="All 4 branches missed.">        if (roleName == null ||</span>
            mbeanClassName == null) {
            // Revisit [cebro] Localize message
<span class="nc" id="L487">            String excMsg = &quot;Invalid parameter.&quot;;</span>
<span class="nc" id="L488">            throw new IllegalArgumentException(excMsg);</span>
        }

<span class="nc" id="L491">        name = roleName;</span>
<span class="nc" id="L492">        isReadable = read;</span>
<span class="nc" id="L493">        isWritable = write;</span>
<span class="nc bnc" id="L494" title="All 2 branches missed.">        if (descr != null) {</span>
<span class="nc" id="L495">            description = descr;</span>
        }

<span class="nc" id="L498">        boolean invalidRoleInfoFlg = false;</span>
<span class="nc" id="L499">        StringBuilder excMsgStrB = new StringBuilder();</span>
<span class="nc bnc" id="L500" title="All 6 branches missed.">        if (max != ROLE_CARDINALITY_INFINITY &amp;&amp;</span>
            (min == ROLE_CARDINALITY_INFINITY ||
             min &gt; max)) {
            // Revisit [cebro] Localize message
<span class="nc" id="L504">            excMsgStrB.append(&quot;Minimum degree &quot;);</span>
<span class="nc" id="L505">            excMsgStrB.append(min);</span>
<span class="nc" id="L506">            excMsgStrB.append(&quot; is greater than maximum degree &quot;);</span>
<span class="nc" id="L507">            excMsgStrB.append(max);</span>
<span class="nc" id="L508">            invalidRoleInfoFlg = true;</span>

<span class="nc bnc" id="L510" title="All 4 branches missed.">        } else if (min &lt; ROLE_CARDINALITY_INFINITY ||</span>
                   max &lt; ROLE_CARDINALITY_INFINITY) {
            // Revisit [cebro] Localize message
<span class="nc" id="L513">            excMsgStrB.append(&quot;Minimum or maximum degree has an illegal value, must be [0, ROLE_CARDINALITY_INFINITY].&quot;);</span>
<span class="nc" id="L514">            invalidRoleInfoFlg = true;</span>
        }
<span class="nc bnc" id="L516" title="All 2 branches missed.">        if (invalidRoleInfoFlg) {</span>
<span class="nc" id="L517">            throw new InvalidRoleInfoException(excMsgStrB.toString());</span>
        }
<span class="nc" id="L519">        minDegree = min;</span>
<span class="nc" id="L520">        maxDegree = max;</span>

<span class="nc" id="L522">        referencedMBeanClassName = mbeanClassName;</span>

<span class="nc" id="L524">        return;</span>
    }

    /**
     * Deserializes a {@link RoleInfo} from an {@link ObjectInputStream}.
     */
    private void readObject(ObjectInputStream in)
            throws IOException, ClassNotFoundException {
<span class="nc bnc" id="L532" title="All 2 branches missed.">      if (compat)</span>
      {
        // Read an object serialized in the old serial form
        //
<span class="nc" id="L536">        ObjectInputStream.GetField fields = in.readFields();</span>
<span class="nc" id="L537">        name = (String) fields.get(&quot;myName&quot;, null);</span>
<span class="nc bnc" id="L538" title="All 2 branches missed.">        if (fields.defaulted(&quot;myName&quot;))</span>
        {
<span class="nc" id="L540">          throw new NullPointerException(&quot;myName&quot;);</span>
        }
<span class="nc" id="L542">        isReadable = fields.get(&quot;myIsReadableFlg&quot;, false);</span>
<span class="nc bnc" id="L543" title="All 2 branches missed.">        if (fields.defaulted(&quot;myIsReadableFlg&quot;))</span>
        {
<span class="nc" id="L545">          throw new NullPointerException(&quot;myIsReadableFlg&quot;);</span>
        }
<span class="nc" id="L547">        isWritable = fields.get(&quot;myIsWritableFlg&quot;, false);</span>
<span class="nc bnc" id="L548" title="All 2 branches missed.">        if (fields.defaulted(&quot;myIsWritableFlg&quot;))</span>
        {
<span class="nc" id="L550">          throw new NullPointerException(&quot;myIsWritableFlg&quot;);</span>
        }
<span class="nc" id="L552">        description = (String) fields.get(&quot;myDescription&quot;, null);</span>
<span class="nc bnc" id="L553" title="All 2 branches missed.">        if (fields.defaulted(&quot;myDescription&quot;))</span>
        {
<span class="nc" id="L555">          throw new NullPointerException(&quot;myDescription&quot;);</span>
        }
<span class="nc" id="L557">        minDegree = fields.get(&quot;myMinDegree&quot;, 0);</span>
<span class="nc bnc" id="L558" title="All 2 branches missed.">        if (fields.defaulted(&quot;myMinDegree&quot;))</span>
        {
<span class="nc" id="L560">          throw new NullPointerException(&quot;myMinDegree&quot;);</span>
        }
<span class="nc" id="L562">        maxDegree = fields.get(&quot;myMaxDegree&quot;, 0);</span>
<span class="nc bnc" id="L563" title="All 2 branches missed.">        if (fields.defaulted(&quot;myMaxDegree&quot;))</span>
        {
<span class="nc" id="L565">          throw new NullPointerException(&quot;myMaxDegree&quot;);</span>
        }
<span class="nc" id="L567">        referencedMBeanClassName = (String) fields.get(&quot;myRefMBeanClassName&quot;, null);</span>
<span class="nc bnc" id="L568" title="All 2 branches missed.">        if (fields.defaulted(&quot;myRefMBeanClassName&quot;))</span>
        {
<span class="nc" id="L570">          throw new NullPointerException(&quot;myRefMBeanClassName&quot;);</span>
        }
<span class="nc" id="L572">      }</span>
      else
      {
        // Read an object serialized in the new serial form
        //
<span class="nc" id="L577">        in.defaultReadObject();</span>
      }
<span class="nc" id="L579">    }</span>


    /**
     * Serializes a {@link RoleInfo} to an {@link ObjectOutputStream}.
     */
    private void writeObject(ObjectOutputStream out)
            throws IOException {
<span class="nc bnc" id="L587" title="All 2 branches missed.">      if (compat)</span>
      {
        // Serializes this instance in the old serial form
        //
<span class="nc" id="L591">        ObjectOutputStream.PutField fields = out.putFields();</span>
<span class="nc" id="L592">        fields.put(&quot;myName&quot;, name);</span>
<span class="nc" id="L593">        fields.put(&quot;myIsReadableFlg&quot;, isReadable);</span>
<span class="nc" id="L594">        fields.put(&quot;myIsWritableFlg&quot;, isWritable);</span>
<span class="nc" id="L595">        fields.put(&quot;myDescription&quot;, description);</span>
<span class="nc" id="L596">        fields.put(&quot;myMinDegree&quot;, minDegree);</span>
<span class="nc" id="L597">        fields.put(&quot;myMaxDegree&quot;, maxDegree);</span>
<span class="nc" id="L598">        fields.put(&quot;myRefMBeanClassName&quot;, referencedMBeanClassName);</span>
<span class="nc" id="L599">        out.writeFields();</span>
<span class="nc" id="L600">      }</span>
      else
      {
        // Serializes this instance in the new serial form
        //
<span class="nc" id="L605">        out.defaultWriteObject();</span>
      }
<span class="nc" id="L607">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.4.201312031056</span></div></body></html>